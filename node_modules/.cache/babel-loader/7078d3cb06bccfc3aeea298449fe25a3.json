{"ast":null,"code":"export const updateTreeData = (runData, treedata) => {\n  //const updatedData = {};\n  let currentJobNames = new Map();\n  runData.forEach(item => currentJobNames[String(item.job_name)] = item); // console.log(currentJobNames);\n  // console.log(treedata);\n\n  treedata.jobs.forEach(item => {\n    item.status = \"WAITING\";\n    item.status_code = 0;\n    item.status_color = \"gray\";\n    item.minutes = 0;\n    item.minutes_queue = 0;\n    item.submit = null;\n    item.start = null;\n    item.finish = null;\n    item.rm_id = null; // item.id is job_name\n\n    if (currentJobNames[String(item.id)]) {\n      // console.log(\"Found \" + item.id);\n      const sourceInfoJob = currentJobNames[String(item.id)];\n      item.status = sourceInfoJob.status;\n      item.status_code = sourceInfoJob.status_code;\n      item.status_color = sourceInfoJob.status_color;\n      item.minutes = sourceInfoJob.queue_time_s;\n      item.minutes_queue = sourceInfoJob.running_time_s;\n      item.submit = sourceInfoJob.submit;\n      item.start = sourceInfoJob.start;\n      item.finish = sourceInfoJob.finish;\n      item.rm_id = sourceInfoJob.job_id;\n    }\n  });\n  console.log(treedata.tree); //return updatedData;\n};\nexport const updateFancyTreeData = (runData, fancyTreeObject) => {\n  console.log(\"Updating fancyTree object with run data\");\n  let currentJobNames = new Map();\n  runData.forEach(item => currentJobNames[String(item.job_name)] = item);\n  console.log(fancyTreeObject); // using keyMap\n  // for (const key of Object.keys(fancyTreeObject.keyMap)) {\n  //   console.log(fancyTreeObject.keyMap[key].title);\n  //   traverseUpdate(fancyTreeObject.keyMap[key], currentJobNames);\n  //   // fancyTreeObject.keyMap[key].title = fancyTreeObject.keyMap[key].refKey;\n  //   // console.log(value);\n  // }\n};\n\nconst traverseUpdate = (fancyTreeNode, currentMap) => {\n  fancyTreeNode.title = fancyTreeNode.refKey;\n\n  if (fancyTreeNode.children) {\n    fancyTreeNode.children.forEach(item => {\n      console.log(item);\n      traverseUpdate(item, currentMap);\n    });\n  }\n};","map":{"version":3,"sources":["/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/context/treeutils.js"],"names":["updateTreeData","runData","treedata","currentJobNames","Map","forEach","item","String","job_name","jobs","status","status_code","status_color","minutes","minutes_queue","submit","start","finish","rm_id","id","sourceInfoJob","queue_time_s","running_time_s","job_id","console","log","tree","updateFancyTreeData","fancyTreeObject","traverseUpdate","fancyTreeNode","currentMap","title","refKey","children"],"mappings":"AAAA,OAAO,MAAMA,cAAc,GAAG,CAACC,OAAD,EAAUC,QAAV,KAAuB;AACnD;AACA,MAAIC,eAAe,GAAG,IAAIC,GAAJ,EAAtB;AACAH,EAAAA,OAAO,CAACI,OAAR,CAAiBC,IAAD,IAAUH,eAAe,CAACI,MAAM,CAACD,IAAI,CAACE,QAAN,CAAP,CAAf,GAAyCF,IAAnE,EAHmD,CAInD;AACA;;AACAJ,EAAAA,QAAQ,CAACO,IAAT,CAAcJ,OAAd,CAAuBC,IAAD,IAAU;AAC9BA,IAAAA,IAAI,CAACI,MAAL,GAAc,SAAd;AACAJ,IAAAA,IAAI,CAACK,WAAL,GAAmB,CAAnB;AACAL,IAAAA,IAAI,CAACM,YAAL,GAAoB,MAApB;AACAN,IAAAA,IAAI,CAACO,OAAL,GAAe,CAAf;AACAP,IAAAA,IAAI,CAACQ,aAAL,GAAqB,CAArB;AACAR,IAAAA,IAAI,CAACS,MAAL,GAAc,IAAd;AACAT,IAAAA,IAAI,CAACU,KAAL,GAAa,IAAb;AACAV,IAAAA,IAAI,CAACW,MAAL,GAAc,IAAd;AACAX,IAAAA,IAAI,CAACY,KAAL,GAAa,IAAb,CAT8B,CAU9B;;AACA,QAAIf,eAAe,CAACI,MAAM,CAACD,IAAI,CAACa,EAAN,CAAP,CAAnB,EAAqC;AACnC;AACA,YAAMC,aAAa,GAAGjB,eAAe,CAACI,MAAM,CAACD,IAAI,CAACa,EAAN,CAAP,CAArC;AACAb,MAAAA,IAAI,CAACI,MAAL,GAAcU,aAAa,CAACV,MAA5B;AACAJ,MAAAA,IAAI,CAACK,WAAL,GAAmBS,aAAa,CAACT,WAAjC;AACAL,MAAAA,IAAI,CAACM,YAAL,GAAoBQ,aAAa,CAACR,YAAlC;AACAN,MAAAA,IAAI,CAACO,OAAL,GAAeO,aAAa,CAACC,YAA7B;AACAf,MAAAA,IAAI,CAACQ,aAAL,GAAqBM,aAAa,CAACE,cAAnC;AACAhB,MAAAA,IAAI,CAACS,MAAL,GAAcK,aAAa,CAACL,MAA5B;AACAT,MAAAA,IAAI,CAACU,KAAL,GAAaI,aAAa,CAACJ,KAA3B;AACAV,MAAAA,IAAI,CAACW,MAAL,GAAcG,aAAa,CAACH,MAA5B;AACAX,MAAAA,IAAI,CAACY,KAAL,GAAaE,aAAa,CAACG,MAA3B;AACD;AACF,GAxBD;AA0BAC,EAAAA,OAAO,CAACC,GAAR,CAAYvB,QAAQ,CAACwB,IAArB,EAhCmD,CAiCnD;AACD,CAlCM;AAoCP,OAAO,MAAMC,mBAAmB,GAAG,CAAC1B,OAAD,EAAU2B,eAAV,KAA8B;AAC/DJ,EAAAA,OAAO,CAACC,GAAR,CAAY,yCAAZ;AAEA,MAAItB,eAAe,GAAG,IAAIC,GAAJ,EAAtB;AACAH,EAAAA,OAAO,CAACI,OAAR,CAAiBC,IAAD,IAAUH,eAAe,CAACI,MAAM,CAACD,IAAI,CAACE,QAAN,CAAP,CAAf,GAAyCF,IAAnE;AAEAkB,EAAAA,OAAO,CAACC,GAAR,CAAYG,eAAZ,EAN+D,CAO/D;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CAdM;;AAgBP,MAAMC,cAAc,GAAG,CAACC,aAAD,EAAgBC,UAAhB,KAA+B;AACpDD,EAAAA,aAAa,CAACE,KAAd,GAAsBF,aAAa,CAACG,MAApC;;AACA,MAAIH,aAAa,CAACI,QAAlB,EAA2B;AACzBJ,IAAAA,aAAa,CAACI,QAAd,CAAuB7B,OAAvB,CAA+BC,IAAI,IAAI;AACrCkB,MAAAA,OAAO,CAACC,GAAR,CAAYnB,IAAZ;AACAuB,MAAAA,cAAc,CAACvB,IAAD,EAAOyB,UAAP,CAAd;AACD,KAHD;AAID;AACF,CARD","sourcesContent":["export const updateTreeData = (runData, treedata) => {\n  //const updatedData = {};\n  let currentJobNames = new Map();\n  runData.forEach((item) => currentJobNames[String(item.job_name)] = item);\n  // console.log(currentJobNames);\n  // console.log(treedata);\n  treedata.jobs.forEach((item) => {\n    item.status = \"WAITING\"; \n    item.status_code = 0; \n    item.status_color = \"gray\"; \n    item.minutes = 0; \n    item.minutes_queue = 0;\n    item.submit = null;\n    item.start = null;\n    item.finish = null;\n    item.rm_id = null;\n    // item.id is job_name\n    if (currentJobNames[String(item.id)]){\n      // console.log(\"Found \" + item.id);\n      const sourceInfoJob = currentJobNames[String(item.id)];\n      item.status = sourceInfoJob.status; \n      item.status_code = sourceInfoJob.status_code; \n      item.status_color = sourceInfoJob.status_color; \n      item.minutes = sourceInfoJob.queue_time_s; \n      item.minutes_queue = sourceInfoJob.running_time_s;\n      item.submit = sourceInfoJob.submit;\n      item.start = sourceInfoJob.start;\n      item.finish = sourceInfoJob.finish;\n      item.rm_id = sourceInfoJob.job_id;\n    }\n  });\n  \n  console.log(treedata.tree);\n  //return updatedData;\n}\n\nexport const updateFancyTreeData = (runData, fancyTreeObject) => {\n  console.log(\"Updating fancyTree object with run data\");\n  \n  let currentJobNames = new Map();\n  runData.forEach((item) => currentJobNames[String(item.job_name)] = item);\n\n  console.log(fancyTreeObject);\n  // using keyMap\n  // for (const key of Object.keys(fancyTreeObject.keyMap)) {\n  //   console.log(fancyTreeObject.keyMap[key].title);\n  //   traverseUpdate(fancyTreeObject.keyMap[key], currentJobNames);\n  //   // fancyTreeObject.keyMap[key].title = fancyTreeObject.keyMap[key].refKey;\n  //   // console.log(value);\n  // }\n}\n\nconst traverseUpdate = (fancyTreeNode, currentMap) => {\n  fancyTreeNode.title = fancyTreeNode.refKey;\n  if (fancyTreeNode.children){\n    fancyTreeNode.children.forEach(item => {\n      console.log(item);\n      traverseUpdate(item, currentMap);\n    });\n  }\n}"]},"metadata":{},"sourceType":"module"}