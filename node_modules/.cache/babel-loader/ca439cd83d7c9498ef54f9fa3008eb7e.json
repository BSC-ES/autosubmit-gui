{"ast":null,"code":"import _regeneratorRuntime from\"/Users/BleuDChan/ReposBSC/autosubmitreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/BleuDChan/ReposBSC/autosubmitreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/BleuDChan/ReposBSC/autosubmitreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from\"react\";import axios from\"axios\";import LighterContext from\"./lighterContext\";import LighterReducer from\"./lighterReducer\";import{GET_LIGHTER_VIEW,SET_LOADING_LIGHTER_VIEW,CLEAN_LIGHTER_VIEW_DATA,SET_LIGHTER_FANCY_TREE,FILTER_LIGHTER_TREE_VIEW,SET_LOADING_FILTER_LIGHTER_TREE_VIEW,CLEAR_LIGHTER_FILTER,INCREASE_LOADING_QUICK_VIEW}from\"../types\";import{AUTOSUBMIT_API_SOURCE,DEBUG,NOAPI}from\"../vars\";var LighterState=function LighterState(props){var initialState={lightData:null,lightFancyTree:null,loadingView:false,loadingFilterTreeView:false,filterCount:0,elapsedLoadingQuickView:1};var _useReducer=useReducer(LighterReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var localserver=AUTOSUBMIT_API_SOURCE;var debug=DEBUG;var getLighterView=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(expid){var result,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:cleanLoadingLighterView();setLoadingLighterView();result=null;if(!NOAPI){_context.next=7;break;}result=require(\"../data/quick_\"+String(expid)+\".json\");_context.next=12;break;case 7:_context.next=9;return axios.get(\"\".concat(localserver,\"/quick/\").concat(expid));case 9:res=_context.sent;debug&&console.log(res.data);result=res?res.data:null;case 12:if(result){dispatch({type:GET_LIGHTER_VIEW,payload:result});}case 13:case\"end\":return _context.stop();}}},_callee);}));return function getLighterView(_x){return _ref.apply(this,arguments);};}();var filterLighterTreeView=function filterLighterTreeView(string){setLoadingFilterLighterTreeView();dispatch({type:FILTER_LIGHTER_TREE_VIEW,payload:string});};var increaseElapsedLoadingQuickView=function increaseElapsedLoadingQuickView(){dispatch({type:INCREASE_LOADING_QUICK_VIEW});};var setLoadingLighterView=function setLoadingLighterView(){return dispatch({type:SET_LOADING_LIGHTER_VIEW});};var cleanLoadingLighterView=function cleanLoadingLighterView(){return dispatch({type:CLEAN_LIGHTER_VIEW_DATA});};var setLighterFancyTree=function setLighterFancyTree(value){return dispatch({type:SET_LIGHTER_FANCY_TREE,payload:value});};var setLoadingFilterLighterTreeView=function setLoadingFilterLighterTreeView(){return dispatch({type:SET_LOADING_FILTER_LIGHTER_TREE_VIEW});};var clearLighterFilterTreeView=function clearLighterFilterTreeView(){return dispatch({type:CLEAR_LIGHTER_FILTER});};return/*#__PURE__*/React.createElement(LighterContext.Provider,{value:{lightFancyTree:state.lightFancyTree,lightData:state.lightData,loadingView:state.loadingView,loadingFilterTreeView:state.loadingFilterTreeView,filterCount:state.filterCount,elapsedLoadingQuickView:state.elapsedLoadingQuickView,getLighterView:getLighterView,cleanLoadingLighterView:cleanLoadingLighterView,setLighterFancyTree:setLighterFancyTree,filterLighterTreeView:filterLighterTreeView,setLoadingFilterLighterTreeView:setLoadingFilterLighterTreeView,clearLighterFilterTreeView:clearLighterFilterTreeView,increaseElapsedLoadingQuickView:increaseElapsedLoadingQuickView}},props.children);};export default LighterState;","map":{"version":3,"sources":["/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/context/lighter/LighterState.js"],"names":["React","useReducer","axios","LighterContext","LighterReducer","GET_LIGHTER_VIEW","SET_LOADING_LIGHTER_VIEW","CLEAN_LIGHTER_VIEW_DATA","SET_LIGHTER_FANCY_TREE","FILTER_LIGHTER_TREE_VIEW","SET_LOADING_FILTER_LIGHTER_TREE_VIEW","CLEAR_LIGHTER_FILTER","INCREASE_LOADING_QUICK_VIEW","AUTOSUBMIT_API_SOURCE","DEBUG","NOAPI","LighterState","props","initialState","lightData","lightFancyTree","loadingView","loadingFilterTreeView","filterCount","elapsedLoadingQuickView","state","dispatch","localserver","debug","getLighterView","expid","cleanLoadingLighterView","setLoadingLighterView","result","require","String","get","res","console","log","data","type","payload","filterLighterTreeView","string","setLoadingFilterLighterTreeView","increaseElapsedLoadingQuickView","setLighterFancyTree","value","clearLighterFilterTreeView","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from \"react\";\nimport axios from \"axios\";\nimport LighterContext from \"./lighterContext\";\nimport LighterReducer from \"./lighterReducer\";\n\nimport {\n  GET_LIGHTER_VIEW,\n  SET_LOADING_LIGHTER_VIEW,\n  CLEAN_LIGHTER_VIEW_DATA,\n  SET_LIGHTER_FANCY_TREE,\n  FILTER_LIGHTER_TREE_VIEW,\n  SET_LOADING_FILTER_LIGHTER_TREE_VIEW,\n  CLEAR_LIGHTER_FILTER,\n  INCREASE_LOADING_QUICK_VIEW,\n} from \"../types\";\n\nimport { AUTOSUBMIT_API_SOURCE, DEBUG, NOAPI } from \"../vars\";\n\nconst LighterState = (props) => {\n  const initialState = {\n    lightData: null,\n    lightFancyTree: null,\n    loadingView: false,\n    loadingFilterTreeView: false,\n    filterCount: 0,\n    elapsedLoadingQuickView: 1,\n  };\n\n  const [state, dispatch] = useReducer(LighterReducer, initialState);\n  const localserver = AUTOSUBMIT_API_SOURCE;\n  const debug = DEBUG;\n\n  const getLighterView = async (expid) => {\n    cleanLoadingLighterView();\n    setLoadingLighterView();\n    let result = null;\n    if (NOAPI) {\n      result = require(\"../data/quick_\"+String(expid)+\".json\"); \n    } else {\n      const res = await axios.get(`${localserver}/quick/${expid}`);\n      debug && console.log(res.data);\n      result = res ? res.data : null;\n    }\n    \n    if (result){\n      dispatch({\n        type: GET_LIGHTER_VIEW,\n        payload: result,\n      });\n    }\n  };\n\n  const filterLighterTreeView = (string) => {\n    setLoadingFilterLighterTreeView();\n    dispatch({\n      type: FILTER_LIGHTER_TREE_VIEW,\n      payload: string,\n    });\n  };\n\n  const increaseElapsedLoadingQuickView = () => {\n    dispatch({ type: INCREASE_LOADING_QUICK_VIEW });\n  };\n\n  const setLoadingLighterView = () =>\n    dispatch({ type: SET_LOADING_LIGHTER_VIEW });\n\n  const cleanLoadingLighterView = () =>\n    dispatch({ type: CLEAN_LIGHTER_VIEW_DATA });\n\n  const setLighterFancyTree = (value) =>\n    dispatch({ type: SET_LIGHTER_FANCY_TREE, payload: value });\n\n  const setLoadingFilterLighterTreeView = () =>\n    dispatch({ type: SET_LOADING_FILTER_LIGHTER_TREE_VIEW });\n\n  const clearLighterFilterTreeView = () =>\n    dispatch({\n      type: CLEAR_LIGHTER_FILTER,\n    });\n\n  return (\n    <LighterContext.Provider\n      value={{\n        lightFancyTree: state.lightFancyTree,\n        lightData: state.lightData,\n        loadingView: state.loadingView,\n        loadingFilterTreeView: state.loadingFilterTreeView,\n        filterCount: state.filterCount,\n        elapsedLoadingQuickView: state.elapsedLoadingQuickView,\n        getLighterView,\n        cleanLoadingLighterView,\n        setLighterFancyTree,\n        filterLighterTreeView,\n        setLoadingFilterLighterTreeView,\n        clearLighterFilterTreeView,\n        increaseElapsedLoadingQuickView,\n      }}\n    >\n      {props.children}\n    </LighterContext.Provider>\n  );\n};\nexport default LighterState;\n"]},"metadata":{},"sourceType":"module"}