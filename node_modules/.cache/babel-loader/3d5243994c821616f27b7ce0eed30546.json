{"ast":null,"code":"var _jsxFileName = \"/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/experiment/JobMonitorTree.js\";\nimport React, { Component } from \"react\";\nimport Notification from \"react-web-notification\";\n\nclass JobMonitorTree extends Component {\n  componentDidMount() {\n    if (this.props.experiment) {\n      this.props.getExperimentTreePkl(this.props.experiment.expid, this.props.experiment.pkl_timestamp);\n\n      if (this.props.experimentRunning) {\n        this.interval = setInterval(() => this.props.getExperimentTreePkl(this.props.experiment.expid, this.props.experiment.pkl_timestamp), this.props.experiment.updateTime * 2000);\n      }\n    } //Notification.requestPermission();\n\n  }\n\n  componentWillUnmount() {\n    this.props.cleanPklTreeData();\n\n    if (this.props.experimentRunning) {\n      clearInterval(this.interval);\n    }\n  }\n\n  render() {\n    const {\n      loadingTreePkl,\n      pkltreechanges,\n      notificationTitleTree,\n      setNotificationTitleTree\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header text-center py-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 15\n      }\n    }, \"Monitoring jobs...\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, pkltreechanges && /*#__PURE__*/React.createElement(\"pre\", {\n      className: \"scroll-y-tree mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, pkltreechanges), loadingTreePkl && /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 34\n      }\n    }, \"Loading...\")))), notificationTitleTree && /*#__PURE__*/React.createElement(Notification, {\n      title: notificationTitleTree,\n      onClose: () => setNotificationTitleTree(null),\n      onPermissionDenied: () => console.log(\"Permission Denied.\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    }));\n  }\n\n}\n\nexport default JobMonitorTree;","map":{"version":3,"sources":["/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/experiment/JobMonitorTree.js"],"names":["React","Component","Notification","JobMonitorTree","componentDidMount","props","experiment","getExperimentTreePkl","expid","pkl_timestamp","experimentRunning","interval","setInterval","updateTime","componentWillUnmount","cleanPklTreeData","clearInterval","render","loadingTreePkl","pkltreechanges","notificationTitleTree","setNotificationTitleTree","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,YAAP,MAAyB,wBAAzB;;AAEA,MAAMC,cAAN,SAA6BF,SAA7B,CAAuC;AACrCG,EAAAA,iBAAiB,GAAG;AAClB,QAAI,KAAKC,KAAL,CAAWC,UAAf,EAA2B;AACzB,WAAKD,KAAL,CAAWE,oBAAX,CACE,KAAKF,KAAL,CAAWC,UAAX,CAAsBE,KADxB,EAEE,KAAKH,KAAL,CAAWC,UAAX,CAAsBG,aAFxB;;AAIA,UAAI,KAAKJ,KAAL,CAAWK,iBAAf,EAAkC;AAChC,aAAKC,QAAL,GAAgBC,WAAW,CACzB,MACE,KAAKP,KAAL,CAAWE,oBAAX,CACE,KAAKF,KAAL,CAAWC,UAAX,CAAsBE,KADxB,EAEE,KAAKH,KAAL,CAAWC,UAAX,CAAsBG,aAFxB,CAFuB,EAMzB,KAAKJ,KAAL,CAAWC,UAAX,CAAsBO,UAAtB,GAAmC,IANV,CAA3B;AAQD;AACF,KAhBiB,CAiBlB;;AACD;;AAEDC,EAAAA,oBAAoB,GAAG;AACrB,SAAKT,KAAL,CAAWU,gBAAX;;AACA,QAAI,KAAKV,KAAL,CAAWK,iBAAf,EAAkC;AAChCM,MAAAA,aAAa,CAAC,KAAKL,QAAN,CAAb;AACD;AACF;;AAEDM,EAAAA,MAAM,GAAG;AACP,UAAM;AACJC,MAAAA,cADI;AAEJC,MAAAA,cAFI;AAGJC,MAAAA,qBAHI;AAIJC,MAAAA;AAJI,QAKF,KAAKhB,KALT;AAMA,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,CADF,eAIE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGc,cAAc,iBACb;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqCA,cAArC,CAFJ,EAIGD,cAAc,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJrB,CAJF,CADF,CADF,EAcGE,qBAAqB,iBACpB,oBAAC,YAAD;AACE,MAAA,KAAK,EAAEA,qBADT;AAEE,MAAA,OAAO,EAAE,MAAMC,wBAAwB,CAAC,IAAD,CAFzC;AAGE,MAAA,kBAAkB,EAAE,MAAMC,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAH5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAfJ,CADF;AAwBD;;AA3DoC;;AA8DvC,eAAepB,cAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Notification from \"react-web-notification\";\n\nclass JobMonitorTree extends Component {\n  componentDidMount() {\n    if (this.props.experiment) {\n      this.props.getExperimentTreePkl(\n        this.props.experiment.expid,\n        this.props.experiment.pkl_timestamp\n      );\n      if (this.props.experimentRunning) {\n        this.interval = setInterval(\n          () =>\n            this.props.getExperimentTreePkl(\n              this.props.experiment.expid,\n              this.props.experiment.pkl_timestamp\n            ),\n          this.props.experiment.updateTime * 2000\n        );\n      }\n    }\n    //Notification.requestPermission();\n  }\n\n  componentWillUnmount() {\n    this.props.cleanPklTreeData();\n    if (this.props.experimentRunning) {\n      clearInterval(this.interval);\n    }\n  }\n\n  render() {\n    const {\n      loadingTreePkl,\n      pkltreechanges,\n      notificationTitleTree,\n      setNotificationTitleTree,\n    } = this.props;\n    return (\n      <div className='row'>\n        <div className='col-12'>\n          <div className='card'>\n            <div className='card-header text-center py-0'>\n              <small>Monitoring jobs...</small>\n            </div>\n            <div className='card-body p-0'>\n              {pkltreechanges && (\n                <pre className='scroll-y-tree mb-0'>{pkltreechanges}</pre>\n              )}\n              {loadingTreePkl && <small>Loading...</small>}\n            </div>\n          </div>\n        </div>\n        {notificationTitleTree && (\n          <Notification\n            title={notificationTitleTree}\n            onClose={() => setNotificationTitleTree(null)}\n            onPermissionDenied={() => console.log(\"Permission Denied.\")}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default JobMonitorTree;\n"]},"metadata":{},"sourceType":"module"}