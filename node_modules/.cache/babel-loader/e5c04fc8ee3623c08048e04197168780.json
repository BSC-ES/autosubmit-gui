{"ast":null,"code":"var _jsxFileName = \"/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/experiment/LighterControl.js\";\nimport React, { useContext, useState } from \"react\";\nimport LighterContext from \"../context/lighter/lighterContext\";\nimport ExperimentContext from \"../context/experiment/experimentContext\";\nimport AlertTotal from \"./AlertTotal\";\nimport { completedColor, runningColor, queueColor, failedColor } from \"../context/vars\";\n\nconst LighterControl = () => {\n  const lighterContext = useContext(LighterContext);\n  const experimentContext = useContext(ExperimentContext);\n  const {\n    getLighterView,\n    loadingView,\n    lightData,\n    filterLighterTreeView,\n    loadingFilterTreeView,\n    clearLighterFilterTreeView,\n    filterCount\n  } = lighterContext;\n  const {\n    experiment\n  } = experimentContext; //const { enabledTreeSearch } = treeContext;\n\n  const [filterString, setFilterString] = useState(\"\");\n\n  const onSubmit = e => {\n    e.preventDefault();\n    filterLighterTreeView(filterString);\n  };\n\n  const onChangeFilter = e => setFilterString(e.target.value);\n\n  const onClearFilter = e => {\n    e.preventDefault();\n    clearLighterFilterTreeView();\n  };\n\n  const onSubmitRequest = e => {\n    e.preventDefault();\n    getLighterView(experiment.expid);\n  };\n\n  const onFilterStatus = statusString => e => {\n    e.preventDefault();\n    filterLighterTreeView(statusString);\n  };\n\n  const labelButton = lightData ? \"Refresh\" : \"View\";\n  let clearText = \"Clear\";\n\n  if (filterCount && filterCount >= 0) {\n    clearText = \"Clear Result\";\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header p-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, lightData && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-sm btn-secondary\",\n    onClick: onClearFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, lightData.total, \" total jobs\"), lightData.completed > 0 && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-sm\",\n    type: \"button\",\n    style: completedColor,\n    onClick: onFilterStatus(\"#COMPLETED\"),\n    disabled: loadingFilterTreeView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, lightData.completed, \" completed\"), lightData.failed > 0 && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-sm\",\n    type: \"button\",\n    style: failedColor,\n    onClick: onFilterStatus(\"#FAILED\"),\n    disabled: loadingFilterTreeView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, lightData.failed, \" failed\"), lightData.running > 0 && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-sm\",\n    type: \"button\",\n    style: runningColor,\n    onClick: onFilterStatus(\"#RUNNING\"),\n    disabled: loadingFilterTreeView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, lightData.running, \" running\"), lightData.queuing > 0 && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-sm\",\n    type: \"button\",\n    style: queueColor,\n    onClick: onFilterStatus(\"#QUEUING\"),\n    disabled: loadingFilterTreeView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, lightData.queuing, \" queuing\")), lightData && /*#__PURE__*/React.createElement(AlertTotal, {\n    source: \"lighter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 23\n    }\n  }), lightData && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    className: \"form\",\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, loadingFilterTreeView && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 41\n    }\n  }, \"Searching...\"), !loadingFilterTreeView && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group input-group-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    name: \"section\",\n    placeholder: \"Filter View\",\n    onChange: onChangeFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Filter\",\n    className: \"btn btn-dark btn-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }))))), lightData && filterCount > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onClearFilter,\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: clearText,\n    className: \"btn btn-info btn-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, experiment && /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmitRequest,\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: labelButton,\n    className: \"btn btn-success btn-block btn-sm\",\n    disabled: loadingView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  })))));\n};\n\nexport default LighterControl;","map":{"version":3,"sources":["/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/experiment/LighterControl.js"],"names":["React","useContext","useState","LighterContext","ExperimentContext","AlertTotal","completedColor","runningColor","queueColor","failedColor","LighterControl","lighterContext","experimentContext","getLighterView","loadingView","lightData","filterLighterTreeView","loadingFilterTreeView","clearLighterFilterTreeView","filterCount","experiment","filterString","setFilterString","onSubmit","e","preventDefault","onChangeFilter","target","value","onClearFilter","onSubmitRequest","expid","onFilterStatus","statusString","labelButton","clearText","total","completed","failed","running","queuing"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport LighterContext from \"../context/lighter/lighterContext\";\nimport ExperimentContext from \"../context/experiment/experimentContext\";\nimport AlertTotal from \"./AlertTotal\";\nimport {\n  completedColor,\n  runningColor,\n  queueColor,\n  failedColor,\n} from \"../context/vars\";\n\nconst LighterControl = () => {\n  const lighterContext = useContext(LighterContext);\n  const experimentContext = useContext(ExperimentContext);\n  const {\n    getLighterView,\n    loadingView,\n    lightData,\n    filterLighterTreeView,\n    loadingFilterTreeView,\n    clearLighterFilterTreeView,\n    filterCount,\n  } = lighterContext;\n  const { experiment } = experimentContext;\n\n  //const { enabledTreeSearch } = treeContext;\n  const [filterString, setFilterString] = useState(\"\");\n  const onSubmit = (e) => {\n    e.preventDefault();\n    filterLighterTreeView(filterString);\n  };\n  const onChangeFilter = (e) => setFilterString(e.target.value);\n\n  const onClearFilter = (e) => {\n    e.preventDefault();\n    clearLighterFilterTreeView();\n  };\n\n  const onSubmitRequest = (e) => {\n    e.preventDefault();\n    getLighterView(experiment.expid);\n  };\n\n  const onFilterStatus = (statusString) => (e) => {\n    e.preventDefault();\n    filterLighterTreeView(statusString);\n  };\n\n  const labelButton = lightData ? \"Refresh\" : \"View\";\n\n  let clearText = \"Clear\";\n  if (filterCount && filterCount >= 0) {\n    clearText = \"Clear Result\";\n  }\n\n  return (\n    <div className='card-header p-1'>\n      <div className='row justify-content-end'>\n        {lightData && (\n          <div className='col'>\n            <button className='btn-sm btn-secondary' onClick={onClearFilter}>\n              {lightData.total} total jobs\n            </button>\n            {lightData.completed > 0 && (\n              <button\n                className='btn-sm'\n                type='button'\n                style={completedColor}\n                onClick={onFilterStatus(\"#COMPLETED\")}\n                disabled={loadingFilterTreeView}\n              >\n                {lightData.completed} completed\n              </button>\n            )}\n            {lightData.failed > 0 && (\n              <button\n                className='btn-sm'\n                type='button'\n                style={failedColor}\n                onClick={onFilterStatus(\"#FAILED\")}\n                disabled={loadingFilterTreeView}\n              >\n                {lightData.failed} failed\n              </button>\n            )}\n            {lightData.running > 0 && (\n              <button\n                className='btn-sm'\n                type='button'\n                style={runningColor}\n                onClick={onFilterStatus(\"#RUNNING\")}\n                disabled={loadingFilterTreeView}\n              >\n                {lightData.running} running\n              </button>\n            )}\n            {lightData.queuing > 0 && (\n              <button\n                className='btn-sm'\n                type='button'\n                style={queueColor}\n                onClick={onFilterStatus(\"#QUEUING\")}\n                disabled={loadingFilterTreeView}\n              >\n                {lightData.queuing} queuing\n              </button>\n            )}\n          </div>\n        )}\n        {lightData && <AlertTotal source={\"lighter\"} />}\n        {lightData && (\n          <div className='col-md'>\n            <form onSubmit={onSubmit} className='form' autoComplete='off'>\n              {loadingFilterTreeView && <span>Searching...</span>}\n              {!loadingFilterTreeView && (\n                <div className='input-group input-group-sm'>\n                  <input\n                    className='form-control'\n                    type='text'\n                    name='section'\n                    placeholder='Filter View'\n                    onChange={onChangeFilter}\n                  />\n                  <div className='input-group-append'>\n                    <input\n                      type='submit'\n                      value='Filter'\n                      className='btn btn-dark btn-sm'\n                    />\n                  </div>\n                </div>\n              )}\n            </form>\n          </div>\n        )}\n        {lightData && filterCount > 0 && (\n          <div className='col-md-1'>\n            <form onSubmit={onClearFilter} className='form'>\n              <input\n                type='submit'\n                value={clearText}\n                className='btn btn-info btn-sm'\n              />\n            </form>\n          </div>\n        )}\n        <div className='col-md-2'>\n          {experiment && (\n            <form onSubmit={onSubmitRequest} className='form'>\n              <input\n                type='submit'\n                value={labelButton}\n                className='btn btn-success btn-block btn-sm'\n                disabled={loadingView}\n              />\n            </form>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LighterControl;\n"]},"metadata":{},"sourceType":"module"}