{"ast":null,"code":"var _jsxFileName = \"/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/experiment/FileStatus.js\";\nimport React, { Component } from 'react';\n\nclass FileStatus extends Component {\n  componentDidMount() {\n    this.props.getFileStatus();\n    this.interval = setInterval(() => this.props.getFileStatus(), 300000); // Every 300 seconds\n  }\n\n  componentWillUnmount() {\n    this.props.cleanFileStatusData();\n    clearInterval(this.interval);\n  }\n\n  render() {\n    if (this.props.esarchiveStatus) {\n      const {\n        avg_bandwidth,\n        avg_latency,\n        bandwidth_warning,\n        current_bandwidth,\n        current_latency,\n        datetime,\n        error,\n        error_message,\n        latency_warning,\n        reponse_time,\n        response_warning,\n        status\n      } = this.props.esarchiveStatus;\n      let badge_style = status === \"ONLINE\" ? \"badge badge-success\" : \"badge badge-secondary\";\n      let show_alert = false;\n      const metrics_text = !error ? current_bandwidth.toFixed(2) + \" MB/s \" + current_latency.toFixed(2) + \" s\" : \"\";\n      let span_alert = /*#__PURE__*/React.createElement(\"span\", {\n        className: badge_style,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 24\n        }\n      }, \"/esarchive/ OK! \", metrics_text);\n\n      if (error) {\n        span_alert = /*#__PURE__*/React.createElement(\"span\", {\n          className: \"badge badge-light\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 22\n          }\n        }, \"/esarchive/ UNKNOWN!\");\n      } else {\n        if (bandwidth_warning || latency_warning || response_warning) {\n          badge_style = \"badge badge-warning\";\n          show_alert = true;\n          const title_bandwidth_warn = bandwidth_warning ? String(bandwidth_warning) + \". Current bandwidth: \" + String(current_bandwidth.toFixed(2)) + \" MB/s. Average over last day: \" + String(avg_bandwidth.toFixed(2)) + \" MB/s.\" : \"\";\n          const title_latency_warn = latency_warning ? \"\\n\" + String(latency_warning) + \". Current latency: \" + String(current_latency.toFixed(2)) + \" s. Average over last day: \" + String(avg_latency.toFixed(2)) + \" s.\" : \"\";\n          const title_response_warn = response_warning ? \"\\n\" + String(response_warning) + \". Current response time: \" + String(reponse_time.toFixed(2)) : \"\";\n          const tootltip_title = title_bandwidth_warn + title_latency_warn + title_response_warn;\n          span_alert = /*#__PURE__*/React.createElement(\"span\", {\n            className: \"badge badge-warning\",\n            \"data-toggle\": \"tooltip\",\n            \"data-placement\": \"bottom\",\n            title: tootltip_title,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 24\n            }\n          }, \"/esarchive/ \", /*#__PURE__*/React.createElement(\"b\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 143\n            }\n          }, \"WARNING!\"), \" \", metrics_text);\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"navbar-brand ml-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }\n      }, span_alert);\n    } else {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"navbar-brand ml-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"badge badge-secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 51\n        }\n      }, \"UNKNOWN\"));\n    }\n  }\n\n}\n\nexport default FileStatus;","map":{"version":3,"sources":["/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/experiment/FileStatus.js"],"names":["React","Component","FileStatus","componentDidMount","props","getFileStatus","interval","setInterval","componentWillUnmount","cleanFileStatusData","clearInterval","render","esarchiveStatus","avg_bandwidth","avg_latency","bandwidth_warning","current_bandwidth","current_latency","datetime","error","error_message","latency_warning","reponse_time","response_warning","status","badge_style","show_alert","metrics_text","toFixed","span_alert","title_bandwidth_warn","String","title_latency_warn","title_response_warn","tootltip_title"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAEA,MAAMC,UAAN,SAAyBD,SAAzB,CAAmC;AAEjCE,EAAAA,iBAAiB,GAAE;AACjB,SAAKC,KAAL,CAAWC,aAAX;AACA,SAAKC,QAAL,GAAgBC,WAAW,CAAC,MAAM,KAAKH,KAAL,CAAWC,aAAX,EAAP,EAAmC,MAAnC,CAA3B,CAFiB,CAEsD;AACxE;;AAEDG,EAAAA,oBAAoB,GAAG;AACrB,SAAKJ,KAAL,CAAWK,mBAAX;AACAC,IAAAA,aAAa,CAAC,KAAKJ,QAAN,CAAb;AACD;;AAEDK,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKP,KAAL,CAAWQ,eAAf,EAA+B;AAC7B,YAAM;AACJC,QAAAA,aADI;AAEJC,QAAAA,WAFI;AAGJC,QAAAA,iBAHI;AAIJC,QAAAA,iBAJI;AAKJC,QAAAA,eALI;AAMJC,QAAAA,QANI;AAOJC,QAAAA,KAPI;AAQJC,QAAAA,aARI;AASJC,QAAAA,eATI;AAUJC,QAAAA,YAVI;AAWJC,QAAAA,gBAXI;AAYJC,QAAAA;AAZI,UAaF,KAAKpB,KAAL,CAAWQ,eAbf;AAeA,UAAIa,WAAW,GAAGD,MAAM,KAAK,QAAX,GAAsB,qBAAtB,GAA8C,uBAAhE;AACA,UAAIE,UAAU,GAAG,KAAjB;AACA,YAAMC,YAAY,GAAG,CAACR,KAAD,GAASH,iBAAiB,CAACY,OAAlB,CAA0B,CAA1B,IAA+B,QAA/B,GAA0CX,eAAe,CAACW,OAAhB,CAAwB,CAAxB,CAA1C,GAAuE,IAAhF,GAAuF,EAA5G;AACA,UAAIC,UAAU,gBAAG;AAAM,QAAA,SAAS,EAAEJ,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAA+CE,YAA/C,CAAjB;;AACA,UAAIR,KAAJ,EAAU;AACRU,QAAAA,UAAU,gBAAG;AAAM,UAAA,SAAS,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAAb;AACD,OAFD,MAEO;AACL,YAAId,iBAAiB,IAAIM,eAArB,IAAwCE,gBAA5C,EAA6D;AAC3DE,UAAAA,WAAW,GAAG,qBAAd;AACAC,UAAAA,UAAU,GAAG,IAAb;AACA,gBAAMI,oBAAoB,GAAKf,iBAAiB,GAChDgB,MAAM,CAAChB,iBAAD,CAAN,GAA4B,uBAA5B,GAAsDgB,MAAM,CAACf,iBAAiB,CAACY,OAAlB,CAA0B,CAA1B,CAAD,CAA5D,GAA6F,gCAA7F,GAAgIG,MAAM,CAAClB,aAAa,CAACe,OAAd,CAAsB,CAAtB,CAAD,CAAtI,GAAmK,QADnH,GAE9C,EAFF;AAGA,gBAAMI,kBAAkB,GAAKX,eAAe,GAC5C,OAAOU,MAAM,CAACV,eAAD,CAAb,GAAiC,qBAAjC,GAAyDU,MAAM,CAACd,eAAe,CAACW,OAAhB,CAAwB,CAAxB,CAAD,CAA/D,GAA8F,6BAA9F,GAA8HG,MAAM,CAACjB,WAAW,CAACc,OAAZ,CAAoB,CAApB,CAAD,CAApI,GAA+J,KADnH,GAE1C,EAFF;AAGA,gBAAMK,mBAAmB,GAAGV,gBAAgB,GAAG,OAAOQ,MAAM,CAACR,gBAAD,CAAb,GAAkC,2BAAlC,GAAgEQ,MAAM,CAACT,YAAY,CAACM,OAAb,CAAqB,CAArB,CAAD,CAAzE,GAAqG,EAAjJ;AAGA,gBAAMM,cAAc,GAAGJ,oBAAoB,GAAGE,kBAAvB,GAA4CC,mBAAnE;AACAJ,UAAAA,UAAU,gBAAG;AAAM,YAAA,SAAS,EAAC,qBAAhB;AAAsC,2BAAY,SAAlD;AAA4D,8BAAe,QAA3E;AAAoF,YAAA,KAAK,EAAEK,cAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAAuH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAvH,OAAwIP,YAAxI,CAAb;AACD;AACF;;AAGD,0BACE;AAAM,QAAA,SAAS,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGE,UADH,CADF;AAMD,KA/CD,MA+CO;AACL,0BAAQ;AAAM,QAAA,SAAS,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAoC;AAAM,QAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAApC,CAAR;AACD;AAEF;;AAhEgC;;AAmEnC,eAAe3B,UAAf","sourcesContent":["import React, { Component } from 'react'\n\nclass FileStatus extends Component {\n\n  componentDidMount(){\n    this.props.getFileStatus();\n    this.interval = setInterval(() => this.props.getFileStatus(), 300000); // Every 300 seconds\n  }\n\n  componentWillUnmount() {\n    this.props.cleanFileStatusData();\n    clearInterval(this.interval);\n  }\n\n  render() {\n    if (this.props.esarchiveStatus){\n      const {\n        avg_bandwidth,\n        avg_latency,\n        bandwidth_warning,\n        current_bandwidth,\n        current_latency,\n        datetime,\n        error, \n        error_message,\n        latency_warning,\n        reponse_time,\n        response_warning,\n        status,\n      } = this.props.esarchiveStatus;\n\n      let badge_style = status === \"ONLINE\" ? \"badge badge-success\" : \"badge badge-secondary\";\n      let show_alert = false;\n      const metrics_text = !error ? current_bandwidth.toFixed(2) + \" MB/s \" + current_latency.toFixed(2) + \" s\" : \"\";\n      let span_alert = <span className={badge_style}>/esarchive/ OK! {metrics_text}</span>;\n      if (error){\n        span_alert = <span className=\"badge badge-light\">/esarchive/ UNKNOWN!</span>;\n      } else {\n        if (bandwidth_warning || latency_warning || response_warning){\n          badge_style = \"badge badge-warning\";     \n          show_alert = true;  \n          const title_bandwidth_warn  =  bandwidth_warning ? \n          String(bandwidth_warning) + \". Current bandwidth: \" + String(current_bandwidth.toFixed(2)) + \" MB/s. Average over last day: \" + String(avg_bandwidth.toFixed(2)) + \" MB/s.\" \n          : \"\";\n          const title_latency_warn  =  latency_warning ? \n          \"\\n\" + String(latency_warning) + \". Current latency: \" + String(current_latency.toFixed(2)) + \" s. Average over last day: \" + String(avg_latency.toFixed(2)) + \" s.\" \n          : \"\";\n          const title_response_warn = response_warning ? \"\\n\" + String(response_warning) + \". Current response time: \" + String(reponse_time.toFixed(2)) : \"\";\n  \n  \n          const tootltip_title = title_bandwidth_warn + title_latency_warn + title_response_warn;\n          span_alert = <span className=\"badge badge-warning\" data-toggle='tooltip' data-placement='bottom' title={tootltip_title}>/esarchive/ <b>WARNING!</b> {metrics_text}</span>\n        }\n      }\n      \n      \n      return (\n        <span className=\"navbar-brand ml-4\">\n          {span_alert} \n        </span>\n        \n      )\n    } else {\n      return (<span className=\"navbar-brand ml-4\"><span className=\"badge badge-secondary\">UNKNOWN</span></span>);\n    }\n    \n  }\n}\n\nexport default FileStatus\n"]},"metadata":{},"sourceType":"module"}