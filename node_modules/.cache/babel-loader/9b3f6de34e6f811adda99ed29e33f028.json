{"ast":null,"code":"var _jsxFileName = \"/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/experiment/Running.js\";\nimport React, { Component, Fragment } from \"react\";\n\nclass Running extends Component {\n  constructor(props) {\n    super(props);\n    this.rundata = null; //this.messagesEnd = null;\n    //this.messagesEndRef = React.createRef()\n  }\n\n  componentDidMount() {\n    //console.log(this.props.experimentRunning)\n    this.props.getExperimentRun(this.props.experiment.expid);\n\n    if (this.props.experimentRunning) {\n      this.interval = setInterval(() => this.props.getExperimentRun(this.props.experiment.expid), this.props.experiment.updateTime * 1000);\n    } //console.log(this.messagesEndRef);\n    //this.scrollTo();\n\n  }\n\n  componentWillUnmount() {\n    //console.log(this.props.experimentRunning)\n    this.props.cleanRunData();\n\n    if (this.props.experimentRunning) {\n      clearInterval(this.interval);\n    }\n  }\n\n  componentDidUpdate() {\n    window.scrollToBottom();\n  }\n\n  render() {\n    if (this.props.rundata === null) {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }\n      }, \"Loading...\"));\n    }\n\n    const {\n      logcontent,\n      error,\n      error_message,\n      found,\n      logfile,\n      lastModified,\n      timeStamp\n    } = this.props.rundata;\n    const logitems = logcontent.map(item => /*#__PURE__*/React.createElement(\"li\", {\n      key: item.index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, item.content)));\n\n    if (error) {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }, error_message), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }\n      }));\n    }\n\n    if (!found) {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }\n      }, \"Running log not found. This experiment might not be currently running on Autosubmit.\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row px-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }, \"Logfile: \", logfile), \" \", /*#__PURE__*/React.createElement(\"small\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, \"(\", timeStamp, \")\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }\n    }, \"Last Modified: \", lastModified))), /*#__PURE__*/React.createElement(\"pre\", {\n      className: \"bash mb-0 scroll\",\n      id: \"log_scroll\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      style: pStyle,\n      className: \"p-1 mb-0 ul-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, logitems)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-muted text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, \"Showing last 150 lines.\"))));\n  }\n\n}\n\nconst pStyle = {\n  listStyleType: \"none\"\n}; // const experimentBuffer = {\n//   height: 100,\n// };\n\nexport default Running;","map":{"version":3,"sources":["/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/experiment/Running.js"],"names":["React","Component","Fragment","Running","constructor","props","rundata","componentDidMount","getExperimentRun","experiment","expid","experimentRunning","interval","setInterval","updateTime","componentWillUnmount","cleanRunData","clearInterval","componentDidUpdate","window","scrollToBottom","render","logcontent","error","error_message","found","logfile","lastModified","timeStamp","logitems","map","item","index","content","pStyle","listStyleType"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;AAEA,MAAMC,OAAN,SAAsBF,SAAtB,CAAgC;AAC9BG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,OAAL,GAAe,IAAf,CAFiB,CAGjB;AACA;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB;AACA,SAAKF,KAAL,CAAWG,gBAAX,CAA4B,KAAKH,KAAL,CAAWI,UAAX,CAAsBC,KAAlD;;AACA,QAAI,KAAKL,KAAL,CAAWM,iBAAf,EAAkC;AAChC,WAAKC,QAAL,GAAgBC,WAAW,CACzB,MAAM,KAAKR,KAAL,CAAWG,gBAAX,CAA4B,KAAKH,KAAL,CAAWI,UAAX,CAAsBC,KAAlD,CADmB,EAEzB,KAAKL,KAAL,CAAWI,UAAX,CAAsBK,UAAtB,GAAmC,IAFV,CAA3B;AAID,KARiB,CASlB;AACA;;AACD;;AAEDC,EAAAA,oBAAoB,GAAG;AACrB;AACA,SAAKV,KAAL,CAAWW,YAAX;;AACA,QAAI,KAAKX,KAAL,CAAWM,iBAAf,EAAkC;AAChCM,MAAAA,aAAa,CAAC,KAAKL,QAAN,CAAb;AACD;AACF;;AAEDM,EAAAA,kBAAkB,GAAG;AACnBC,IAAAA,MAAM,CAACC,cAAP;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKhB,KAAL,CAAWC,OAAX,KAAuB,IAA3B,EAAiC;AAC/B,0BACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CADF;AAKD;;AAED,UAAM;AACJgB,MAAAA,UADI;AAEJC,MAAAA,KAFI;AAGJC,MAAAA,aAHI;AAIJC,MAAAA,KAJI;AAKJC,MAAAA,OALI;AAMJC,MAAAA,YANI;AAOJC,MAAAA;AAPI,QAQF,KAAKvB,KAAL,CAAWC,OARf;AAUA,UAAMuB,QAAQ,GAAGP,UAAU,CAACQ,GAAX,CAAgBC,IAAD,iBAC9B;AAAI,MAAA,GAAG,EAAEA,IAAI,CAACC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAQD,IAAI,CAACE,OAAb,CADF,CADe,CAAjB;;AAMA,QAAIV,KAAJ,EAAW;AACT,0BACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMC,aAAN,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,CADF;AAOD;;AACD,QAAI,CAACC,KAAL,EAAY;AACV,0BACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gGADF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CADF;AAUD;;AAED,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAiBC,OAAjB,CADF,EACoC,GADpC,eAEE;AAAO,MAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAgCE,SAAhC,MAFF,CADF,eAKE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAuBD,YAAvB,CADF,CALF,CADF,eAYE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAkC,MAAA,EAAE,EAAC,YAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,KAAK,EAAEO,MAAX;AAAmB,MAAA,SAAS,EAAC,eAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGL,QADH,CADF,CAZF,eAqBE;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADF,CArBF,CADF,CADF;AA6BD;;AA7G6B;;AAgHhC,MAAMK,MAAM,GAAG;AACbC,EAAAA,aAAa,EAAE;AADF,CAAf,C,CAIA;AACA;AACA;;AAEA,eAAehC,OAAf","sourcesContent":["import React, { Component, Fragment } from \"react\";\n\nclass Running extends Component {\n  constructor(props) {\n    super(props);\n    this.rundata = null;\n    //this.messagesEnd = null;\n    //this.messagesEndRef = React.createRef()\n  }\n\n  componentDidMount() {\n    //console.log(this.props.experimentRunning)\n    this.props.getExperimentRun(this.props.experiment.expid);\n    if (this.props.experimentRunning) {\n      this.interval = setInterval(\n        () => this.props.getExperimentRun(this.props.experiment.expid),\n        this.props.experiment.updateTime * 1000\n      );\n    }\n    //console.log(this.messagesEndRef);\n    //this.scrollTo();\n  }\n\n  componentWillUnmount() {\n    //console.log(this.props.experimentRunning)\n    this.props.cleanRunData();\n    if (this.props.experimentRunning) {\n      clearInterval(this.interval);\n    }\n  }\n\n  componentDidUpdate() {\n    window.scrollToBottom();\n  }\n\n  render() {\n    if (this.props.rundata === null) {\n      return (\n        <Fragment>\n          <div>Loading...</div>\n        </Fragment>\n      );\n    }\n\n    const {\n      logcontent,\n      error,\n      error_message,\n      found,\n      logfile,\n      lastModified,\n      timeStamp,\n    } = this.props.rundata;\n\n    const logitems = logcontent.map((item) => (\n      <li key={item.index}>\n        <small>{item.content}</small>\n      </li>\n    ));\n\n    if (error) {\n      return (\n        <Fragment>\n          <div>{error_message}</div>\n          <br></br>\n          <hr></hr>\n        </Fragment>\n      );\n    }\n    if (!found) {\n      return (\n        <Fragment>\n          <div>\n            Running log not found. This experiment might not be currently\n            running on Autosubmit.\n          </div>\n          <br></br>\n          <hr></hr>\n        </Fragment>\n      );\n    }\n\n    return (\n      <div className='row'>\n        <div className='col-12'>\n          <div className='row px-1'>\n            <div className='col-6 text-left'>\n              <small>Logfile: {logfile}</small>{\" \"}\n              <small className='text-muted'>({timeStamp})</small>\n            </div>\n            <div className='col-6 text-right'>\n              <small>Last Modified: {lastModified}</small>\n            </div>\n          </div>\n\n          {/* <p><strong>Showing last 50 lines of the log file:</strong></p> */}\n          <pre className='bash mb-0 scroll' id='log_scroll'>\n            <ul style={pStyle} className='p-1 mb-0 ul-2'>\n              {logitems}\n            </ul>\n            {/* <div style={{ float:\"left\", clear: \"both\" }}\n                            ref={this.messagesEndRef}>\n                        </div>            */}\n          </pre>\n\n          <div className='text-muted text-center'>\n            <small>Showing last 150 lines.</small>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst pStyle = {\n  listStyleType: \"none\",\n};\n\n// const experimentBuffer = {\n//   height: 100,\n// };\n\nexport default Running;\n"]},"metadata":{},"sourceType":"module"}