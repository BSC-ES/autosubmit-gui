{"ast":null,"code":"var _jsxFileName = \"/home/Earth/wuruchi/Documents/ReactProj/dev-react-api/src/components/experiment/GraphRepresentation.js\";\nimport React, { Fragment, useContext, useEffect } from \"react\"; // import vis from \"vis-network\";\n\nimport Spinner from \"../layout/Spinner\";\nimport Graph from 'react-graph-vis';\nimport ExperimentContext from '../context/experiment/experimentContext';\n\nconst GraphRepresentation = () => {\n  const experimentContext = useContext(ExperimentContext);\n  const data = experimentContext.data,\n        loadingGraph = experimentContext.loadingGraph,\n        cleanGraphData = experimentContext.cleanGraphData;\n  console.log(\"Entering GraphRep\");\n  useEffect(() => {\n    return () => {\n      cleanGraphData();\n    }; // eslint-disable-next-line\n  }, []); //const [current, setCurrent] = useState([]);\n  // var data = {\n  //   nodes: nodes,\n  //   edges: edges\n  // };\n\n  var nodes_array = [];\n  var edges_array = [];\n\n  if (typeof data.nodes !== \"undefined\" || typeof data.edges !== \"undefined\") {\n    data.nodes.map(node => nodes_array.push({\n      id: node.id,\n      label: node.label,\n      color: {\n        background: node.status_color,\n        border: \"black\"\n      }\n    }));\n    data.edges.map(edge => {\n      edges_array.push({\n        from: edge.from,\n        to: edge.to\n      });\n    }); // var nodes = new vis.DataSet(nodes_array);\n    // var edges = new vis.DataSet(edges_array);\n    //var network = new vis.Network(container, data, options);\n    //window.test(nodes_array, edges_array);\n  }\n\n  const graph = {\n    nodes: nodes_array,\n    edges: edges_array\n  };\n  const options = {\n    edges: {\n      arrows: {\n        to: {\n          enabled: true\n        }\n      }\n    },\n    layout: {\n      improvedLayout: true,\n      hierarchical: {\n        //parentCentralization: true,\n        //treeSpacing: 180,\n        nodeSpacing: 250,\n        edgeMinimization: false,\n        blockShifting: false,\n        parentCentralization: false,\n        direction: 'UD',\n        sortMethod: 'directed'\n      }\n    },\n    interaction: {\n      dragNodes: true,\n      hoverConnectedEdges: true,\n      multiselect: true,\n      navigationButtons: true\n    },\n    physics: {\n      enabled: false\n    },\n    nodes: {\n      shape: 'dot' // configure: {\n      //   enabled: true,\n      //   filter: 'nodes,edges',\n      //   container: undefined,\n      //   showButton: true\n      // }\n\n    }\n  };\n  const events = {\n    select: function (event) {\n      var nodes = event.nodes,\n          edges = event.edges; //setCurrent(nodes);\n\n      console.log(\"Selected nodes:\");\n      console.log(nodes); //setCurrent(nodes);\n      // console.log(\"Selected edges:\");\n      // console.log(edges);\n    }\n  };\n  if (loadingGraph) return React.createElement(Spinner, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  });\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(Graph, {\n    style: experimentStyle,\n    graph: graph,\n    options: options,\n    events: events,\n    getNetwork: network => {//  if you want access to vis.js network api you can set the state in a parent component using this property\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }));\n};\n\nconst experimentStyle = {\n  height: 800\n};\nexport default GraphRepresentation;","map":{"version":3,"sources":["/home/Earth/wuruchi/Documents/ReactProj/dev-react-api/src/components/experiment/GraphRepresentation.js"],"names":["React","Fragment","useContext","useEffect","Spinner","Graph","ExperimentContext","GraphRepresentation","experimentContext","data","loadingGraph","cleanGraphData","console","log","nodes_array","edges_array","nodes","edges","map","node","push","id","label","color","background","status_color","border","edge","from","to","graph","options","arrows","enabled","layout","improvedLayout","hierarchical","nodeSpacing","edgeMinimization","blockShifting","parentCentralization","direction","sortMethod","interaction","dragNodes","hoverConnectedEdges","multiselect","navigationButtons","physics","shape","events","select","event","experimentStyle","network","height"],"mappings":"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","sourcesContent":["import React, { Fragment, useContext, useEffect } from \"react\";\n// import vis from \"vis-network\";\nimport Spinner from \"../layout/Spinner\";\nimport Graph from 'react-graph-vis';\nimport ExperimentContext from '../context/experiment/experimentContext';\n\nconst GraphRepresentation = () => {\n  const experimentContext = useContext(ExperimentContext);\n  const { data, loadingGraph, cleanGraphData } = experimentContext;\n  console.log(\"Entering GraphRep\")\n  useEffect(() => {\n    return () => {\n      cleanGraphData();\n    };\n    // eslint-disable-next-line\n  }, []);\n\n\n  //const [current, setCurrent] = useState([]);\n  // var data = {\n  //   nodes: nodes,\n  //   edges: edges\n  // };\n\n  var nodes_array = [];\n  var edges_array = [];\n\n  if (\n    typeof data.nodes !== \"undefined\" ||\n    typeof data.edges !== \"undefined\"\n  ) {\n    data.nodes.map(node =>\n      nodes_array.push({\n        id: node.id,\n        label: node.label,\n        color: { background: node.status_color, border: \"black\" }\n      })\n    );\n\n    data.edges.map(edge => {\n      edges_array.push({ from: edge.from, to: edge.to });\n    });\n\n    // var nodes = new vis.DataSet(nodes_array);\n\n    // var edges = new vis.DataSet(edges_array);\n\n    //var network = new vis.Network(container, data, options);\n    //window.test(nodes_array, edges_array);\n  }\n\n  const graph = {\n    nodes : nodes_array,\n    edges : edges_array\n  };\n\n\n    const options = {\n      edges: {\n        arrows: {\n          to: { enabled: true }\n        }\n      },\n      layout: {\n        improvedLayout: true,\n        hierarchical: {\n          //parentCentralization: true,\n          //treeSpacing: 180,\n          nodeSpacing: 250,\n          edgeMinimization: false,\n          blockShifting: false,\n          parentCentralization: false,\n          direction: 'UD',\n          sortMethod: 'directed',\n        }\n      },\n      interaction: {\n        dragNodes: true,\n        hoverConnectedEdges: true,\n        multiselect: true,\n        navigationButtons: true,\n      },\n      physics: {\n        enabled: false,\n      },\n      nodes: {\n        shape: 'dot',\n      }\n      // configure: {\n      //   enabled: true,\n      //   filter: 'nodes,edges',\n      //   container: undefined,\n      //   showButton: true\n      // }\n    };\n    \n    \n\n    const events = {\n      select: function(event) {\n        var { nodes, edges } = event;\n        //setCurrent(nodes);\n        console.log(\"Selected nodes:\");\n        console.log(nodes);\n        //setCurrent(nodes);\n        // console.log(\"Selected edges:\");\n        // console.log(edges);\n      }\n    };\n\n    if (loadingGraph) return <Spinner />;\n    return (\n      <Fragment>\n        <Graph\n          style={experimentStyle}\n          graph={graph}\n          options={options}\n          events={events}\n          getNetwork={network => {\n            //  if you want access to vis.js network api you can set the state in a parent component using this property\n          }}\n        />\n        {/* <Selection selectionList={current} /> */}\n      </Fragment> \n    );     \n}\n\nconst experimentStyle = {\n    height: 800\n  };\n\nexport default GraphRepresentation;\n"]},"metadata":{},"sourceType":"module"}