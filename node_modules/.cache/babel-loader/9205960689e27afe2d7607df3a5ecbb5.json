{"ast":null,"code":"import _slicedToArray from \"/home/Earth/wuruchi/Documents/ReactProj/dev-react-api/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/Earth/wuruchi/Documents/ReactProj/dev-react-api/src/components/context/experiment/ExperimentState.js\";\nimport React, { useReducer } from 'react';\nimport axios from 'axios';\nimport ExperimentContext from './experimentContext';\nimport ExperimentReducer from './experimentReducer';\nimport { SEARCH_EXPERIMENTS, SET_LOADING, CLEAR_EXPERIMENTS, GET_EXPERIMENT, GET_GRAPH, SET_LOADING_GRAPH } from '../types';\n\nconst ExperimentState = props => {\n  const initialState = {\n    experiments: [],\n    experiment: {},\n    loading: false,\n    data: {},\n    loadingGraph: false\n  };\n\n  const _useReducer = useReducer(ExperimentReducer, initialState),\n        _useReducer2 = _slicedToArray(_useReducer, 2),\n        state = _useReducer2[0],\n        dispatch = _useReducer2[1]; // Search Experiments\n\n\n  const searchExperiments = async text => {\n    setLoading();\n    const res = await axios.get(\"http://84.88.185.94:8888/search/\".concat(text));\n    dispatch({\n      type: SEARCH_EXPERIMENTS,\n      payload: res.data.experiment\n    });\n  }; // Get Experiment\n\n\n  const getExperiment = async expid => {\n    setLoading();\n    const res = await axios.get(\"http://84.88.185.94:8888/expinfo/\".concat(expid));\n    dispatch({\n      type: GET_EXPERIMENT,\n      payload: res.data\n    });\n  }; // Get Experiment Graph\n\n\n  const getExperimentGraph = async expid => {\n    setLoadingGraph();\n    const res = await axios.get(\"http://84.88.185.94:8888/graph/\".concat(expid));\n    dispatch({\n      type: GET_GRAPH,\n      payload: res.data\n    }); //this.setState({ data: res.data, loading: false, showGraph: !res.data.error });\n  }; // Clear Experiments\n\n\n  const clearExperiments = () => dispatch({\n    type: CLEAR_EXPERIMENTS\n  }); // Set Loading\n\n\n  const setLoading = () => dispatch({\n    type: SET_LOADING\n  });\n\n  const setLoadingGraph = () => dispatch({\n    type: SET_LOADING_GRAPH\n  }); // Get Graph\n\n\n  return React.createElement(ExperimentContext.Provider, {\n    value: {\n      experiments: state.experiments,\n      experiment: state.experiment,\n      loading: state.loading,\n      data: state.data,\n      searchExperiments,\n      clearExperiments,\n      getExperiment,\n      getExperimentGraph\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, props.children);\n};\n\nexport default ExperimentState;","map":{"version":3,"sources":["/home/Earth/wuruchi/Documents/ReactProj/dev-react-api/src/components/context/experiment/ExperimentState.js"],"names":["React","useReducer","axios","ExperimentContext","ExperimentReducer","SEARCH_EXPERIMENTS","SET_LOADING","CLEAR_EXPERIMENTS","GET_EXPERIMENT","GET_GRAPH","SET_LOADING_GRAPH","ExperimentState","props","initialState","experiments","experiment","loading","data","loadingGraph","state","dispatch","searchExperiments","text","setLoading","res","get","type","payload","getExperiment","expid","getExperimentGraph","setLoadingGraph","clearExperiments","children"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,SACEC,kBADF,EAEEC,WAFF,EAGEC,iBAHF,EAIEC,cAJF,EAKEC,SALF,EAMEC,iBANF,QAOO,UAPP;;AASA,MAAMC,eAAe,GAAGC,KAAK,IAAI;AAC7B,QAAMC,YAAY,GAAG;AACjBC,IAAAA,WAAW,EAAE,EADI;AAEjBC,IAAAA,UAAU,EAAE,EAFK;AAGjBC,IAAAA,OAAO,EAAE,KAHQ;AAIjBC,IAAAA,IAAI,EAAE,EAJW;AAKjBC,IAAAA,YAAY,EAAE;AALG,GAArB;;AAD6B,sBASHjB,UAAU,CAACG,iBAAD,EAAoBS,YAApB,CATP;AAAA;AAAA,QAStBM,KATsB;AAAA,QASfC,QATe,oBAW7B;;;AACA,QAAMC,iBAAiB,GAAG,MAAMC,IAAN,IAAc;AACpCC,IAAAA,UAAU;AACV,UAAMC,GAAG,GAAG,MAAMtB,KAAK,CAACuB,GAAN,2CAA6CH,IAA7C,EAAlB;AACAF,IAAAA,QAAQ,CAAC;AACLM,MAAAA,IAAI,EAAErB,kBADD;AAELsB,MAAAA,OAAO,EAAEH,GAAG,CAACP,IAAJ,CAASF;AAFb,KAAD,CAAR;AAID,GAPH,CAZ6B,CAqB7B;;;AACA,QAAMa,aAAa,GAAG,MAAMC,KAAN,IAAe;AACjCN,IAAAA,UAAU;AACV,UAAMC,GAAG,GAAG,MAAMtB,KAAK,CAACuB,GAAN,4CAA8CI,KAA9C,EAAlB;AACAT,IAAAA,QAAQ,CAAC;AACLM,MAAAA,IAAI,EAAElB,cADD;AAELmB,MAAAA,OAAO,EAAEH,GAAG,CAACP;AAFR,KAAD,CAAR;AAID,GAPH,CAtB6B,CA+B7B;;;AACA,QAAMa,kBAAkB,GAAG,MAAMD,KAAN,IAAe;AACtCE,IAAAA,eAAe;AAEf,UAAMP,GAAG,GAAG,MAAMtB,KAAK,CAACuB,GAAN,0CAA4CI,KAA5C,EAAlB;AACAT,IAAAA,QAAQ,CAAC;AACLM,MAAAA,IAAI,EAAEjB,SADD;AAELkB,MAAAA,OAAO,EAAEH,GAAG,CAACP;AAFR,KAAD,CAAR,CAJsC,CAQtC;AACD,GATH,CAhC6B,CA2C7B;;;AACA,QAAMe,gBAAgB,GAAG,MAAMZ,QAAQ,CAAC;AAAEM,IAAAA,IAAI,EAAEnB;AAAR,GAAD,CAAvC,CA5C6B,CA8C7B;;;AACA,QAAMgB,UAAU,GAAG,MAAMH,QAAQ,CAAC;AAAEM,IAAAA,IAAI,EAAEpB;AAAR,GAAD,CAAjC;;AACA,QAAMyB,eAAe,GAAG,MAAMX,QAAQ,CAAC;AAAEM,IAAAA,IAAI,EAAEhB;AAAR,GAAD,CAAtC,CAhD6B,CAkD7B;;;AAEA,SACI,oBAAC,iBAAD,CAAmB,QAAnB;AACA,IAAA,KAAK,EAAG;AACJI,MAAAA,WAAW,EAAEK,KAAK,CAACL,WADf;AAEJC,MAAAA,UAAU,EAAEI,KAAK,CAACJ,UAFd;AAGJC,MAAAA,OAAO,EAAEG,KAAK,CAACH,OAHX;AAIJC,MAAAA,IAAI,EAAEE,KAAK,CAACF,IAJR;AAKJI,MAAAA,iBALI;AAMJW,MAAAA,gBANI;AAOJJ,MAAAA,aAPI;AAQJE,MAAAA;AARI,KADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAWKlB,KAAK,CAACqB,QAXX,CADJ;AAeH,CAnED;;AAqEA,eAAetB,eAAf","sourcesContent":["import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport ExperimentContext from './experimentContext';\nimport ExperimentReducer from './experimentReducer';\nimport {\n  SEARCH_EXPERIMENTS,\n  SET_LOADING,\n  CLEAR_EXPERIMENTS,\n  GET_EXPERIMENT,\n  GET_GRAPH,\n  SET_LOADING_GRAPH\n} from '../types';\n\nconst ExperimentState = props => {\n    const initialState = {\n        experiments: [],\n        experiment: {},\n        loading: false,\n        data: {},\n        loadingGraph: false,\n    }\n\n    const [state, dispatch] = useReducer(ExperimentReducer, initialState);\n\n    // Search Experiments\n    const searchExperiments = async text => {\n        setLoading();\n        const res = await axios.get(`http://84.88.185.94:8888/search/${text}`);\n        dispatch({\n            type: SEARCH_EXPERIMENTS,\n            payload: res.data.experiment,\n        });\n      };\n\n    // Get Experiment\n    const getExperiment = async expid => {\n        setLoading();\n        const res = await axios.get(`http://84.88.185.94:8888/expinfo/${expid}`);\n        dispatch({\n            type: GET_EXPERIMENT,\n            payload: res.data,\n        });\n      };\n    \n    // Get Experiment Graph\n    const getExperimentGraph = async expid => {\n        setLoadingGraph();\n        \n        const res = await axios.get(`http://84.88.185.94:8888/graph/${expid}`);\n        dispatch({\n            type: GET_GRAPH,\n            payload: res.data,\n        });\n        //this.setState({ data: res.data, loading: false, showGraph: !res.data.error });\n      };\n\n    // Clear Experiments\n    const clearExperiments = () => dispatch({ type: CLEAR_EXPERIMENTS });\n\n    // Set Loading\n    const setLoading = () => dispatch({ type: SET_LOADING });\n    const setLoadingGraph = () => dispatch({ type: SET_LOADING_GRAPH});\n\n    // Get Graph\n\n    return (\n        <ExperimentContext.Provider\n        value ={{\n            experiments: state.experiments,\n            experiment: state.experiment,\n            loading: state.loading,\n            data: state.data,\n            searchExperiments,\n            clearExperiments,\n            getExperiment,\n            getExperimentGraph            \n        }}>\n            {props.children}\n        </ExperimentContext.Provider>\n    );\n};\n\nexport default ExperimentState;"]},"metadata":{},"sourceType":"module"}