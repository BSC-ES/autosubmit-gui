{"ast":null,"code":"var _jsxFileName = \"/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/experiment/GraphControl.js\";\nimport React, { useContext } from \"react\";\nimport ExperimentContext from \"../context/experiment/experimentContext\";\nimport GraphContext from \"../context/graph/graphContext\";\nimport SelectionControl from \"./SelectionControl\";\n\nconst GraphControl = () => {\n  const experimentContext = useContext(ExperimentContext);\n  const graphContext = useContext(GraphContext);\n  const {\n    experiment,\n    experimentRunning,\n    loadingJobMonitor\n  } = experimentContext;\n  const {\n    getExperimentGraph,\n    data,\n    getExperimentPkl,\n    setAutoUpdatePkl,\n    startAutoUpdatePkl,\n    enabledGraphSearch,\n    loadingPkl\n  } = graphContext;\n  const disableQuery = !enabledGraphSearch || loadingPkl;\n\n  const onSubmitGraph = (grouped = \"none\", layout = \"standard\") => e => {\n    e.preventDefault();\n    getExperimentGraph(experiment.expid, grouped, layout);\n  };\n\n  const onJobMonitor = e => {\n    e.preventDefault();\n    setAutoUpdatePkl(true);\n  };\n\n  const onNotJobMonitor = e => {\n    e.preventDefault();\n    setAutoUpdatePkl(false);\n  };\n\n  const onRequestUpdate = e => {\n    e.preventDefault();\n    getExperimentPkl(experiment.expid, experiment.pkl_timestamp);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header p-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, (loadingJobMonitor || loadingPkl) && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 49\n    }\n  }, \"Querying...\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, experiment && data && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(SelectionControl, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmitGraph(),\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Classic\",\n    className: \"btn btn-info btn-block btn-sm\",\n    disabled: disableQuery,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmitGraph(\"none\", \"laplacian\"),\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Laplacian\",\n    className: \"btn btn-info btn-block btn-sm\",\n    disabled: disableQuery,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmitGraph(\"date-member\"),\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Grouped by D-M\",\n    className: \"btn btn-info btn-block btn-sm\",\n    disabled: disableQuery,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmitGraph(\"status\"),\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Grouped by Status\",\n    className: \"btn btn-info btn-block btn-sm\",\n    disabled: disableQuery,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }))), experiment && data && experimentRunning && !startAutoUpdatePkl && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onRequestUpdate,\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Refresh\",\n    className: \"btn btn-success btn-block btn-sm\",\n    disabled: disableQuery,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 19\n    }\n  }))), experimentRunning && data && !startAutoUpdatePkl && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onJobMonitor,\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Start Job Monitor\",\n    className: \"btn btn-success btn-block btn-sm\",\n    disabled: disableQuery,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 19\n    }\n  }))), experimentRunning && data && startAutoUpdatePkl && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onNotJobMonitor,\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Stop Job Monitor\",\n    className: \"btn btn-danger btn-block btn-sm\",\n    disabled: disableQuery,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 19\n    }\n  })))))));\n};\n\nexport default GraphControl;","map":{"version":3,"sources":["/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/experiment/GraphControl.js"],"names":["React","useContext","ExperimentContext","GraphContext","SelectionControl","GraphControl","experimentContext","graphContext","experiment","experimentRunning","loadingJobMonitor","getExperimentGraph","data","getExperimentPkl","setAutoUpdatePkl","startAutoUpdatePkl","enabledGraphSearch","loadingPkl","disableQuery","onSubmitGraph","grouped","layout","e","preventDefault","expid","onJobMonitor","onNotJobMonitor","onRequestUpdate","pkl_timestamp"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport ExperimentContext from \"../context/experiment/experimentContext\";\nimport GraphContext from \"../context/graph/graphContext\";\nimport SelectionControl from \"./SelectionControl\";\n\nconst GraphControl = () => {\n  const experimentContext = useContext(ExperimentContext);\n  const graphContext = useContext(GraphContext);\n  const {\n    experiment,\n    experimentRunning,\n    loadingJobMonitor,\n  } = experimentContext;\n\n  const {\n    getExperimentGraph,\n    data,\n    getExperimentPkl,\n    setAutoUpdatePkl,\n    startAutoUpdatePkl,\n    enabledGraphSearch,\n    loadingPkl,\n  } = graphContext;\n\n  const disableQuery = !enabledGraphSearch || loadingPkl;\n\n  const onSubmitGraph = (grouped = \"none\", layout = \"standard\") => (e) => {\n    e.preventDefault();\n    getExperimentGraph(experiment.expid, grouped, layout);\n  };\n\n  const onJobMonitor = (e) => {\n    e.preventDefault();\n    setAutoUpdatePkl(true);\n  };\n\n  const onNotJobMonitor = (e) => {\n    e.preventDefault();\n    setAutoUpdatePkl(false);\n  };\n\n  const onRequestUpdate = (e) => {\n    e.preventDefault();\n    getExperimentPkl(experiment.expid, experiment.pkl_timestamp);\n  };\n\n  return (\n    <div className='card-header p-1'>\n      <div className='row'>        \n        <div className='col-md-2'>\n          {(loadingJobMonitor || loadingPkl) && <div>Querying...</div>} \n        </div>\n        <div className='col-md-10'>\n          <div className='row justify-content-end'>\n            {experiment && data && (\n              <div className='col-md-2'>\n                <SelectionControl />\n              </div>\n            )}\n\n            <div className='col-md-2'>\n              <form onSubmit={onSubmitGraph()} className='form'>\n                <input\n                  type='submit'\n                  value='Classic'\n                  className='btn btn-info btn-block btn-sm'\n                  disabled={disableQuery}\n                />\n              </form>\n            </div>\n            <div className='col-md-1'>\n              <form\n                onSubmit={onSubmitGraph(\"none\", \"laplacian\")}\n                className='form'\n              >\n                <input\n                  type='submit'\n                  value='Laplacian'\n                  className='btn btn-info btn-block btn-sm'\n                  disabled={disableQuery}\n                />\n              </form>\n            </div>\n            <div className='col-md-2'>\n              <form onSubmit={onSubmitGraph(\"date-member\")} className='form'>\n                <input\n                  type='submit'\n                  value='Grouped by D-M'\n                  className='btn btn-info btn-block btn-sm'\n                  disabled={disableQuery}\n                />\n              </form>\n            </div>\n            <div className='col-md-2'>\n              <form onSubmit={onSubmitGraph(\"status\")} className='form'>\n                <input\n                  type='submit'\n                  value='Grouped by Status'\n                  className='btn btn-info btn-block btn-sm'\n                  disabled={disableQuery}\n                />\n              </form>\n            </div>\n            {experiment && data && experimentRunning && !startAutoUpdatePkl && (\n              <div className='col-md-1'>\n                <form onSubmit={onRequestUpdate} className='form'>\n                  <input\n                    type='submit'\n                    value='Refresh'\n                    className='btn btn-success btn-block btn-sm'\n                    disabled={disableQuery}\n                  />\n                </form>\n              </div>\n            )}\n            {experimentRunning && data && !startAutoUpdatePkl && (\n              <div className='col-md-2'>\n                <form onSubmit={onJobMonitor} className='form'>\n                  <input\n                    type='submit'\n                    value='Start Job Monitor'\n                    className='btn btn-success btn-block btn-sm'\n                    disabled={disableQuery}\n                  />\n                </form>\n              </div>\n            )}\n            {experimentRunning && data && startAutoUpdatePkl && (\n              <div className='col-md-2'>\n                <form onSubmit={onNotJobMonitor} className='form'>\n                  <input\n                    type='submit'\n                    value='Stop Job Monitor'\n                    className='btn btn-danger btn-block btn-sm'\n                    disabled={disableQuery}\n                  />\n                </form>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default GraphControl;\n"]},"metadata":{},"sourceType":"module"}