{"ast":null,"code":"var _jsxFileName = \"/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/experiment/Performance.js\";\nimport React, { useContext, Fragment } from \"react\";\nimport ExperimentContext from \"../context/experiment/experimentContext\";\nimport Spinner from \"../layout/Spinner\";\nimport { secondsToDelta } from \"../context/utils\";\n\nconst Performance = () => {\n  const experimentContext = useContext(ExperimentContext);\n  const {\n    performancedata,\n    experiment,\n    loadingPerformance\n  } = experimentContext;\n\n  if (loadingPerformance === true) {\n    return /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 12\n      }\n    });\n  }\n\n  if (!experiment || !performancedata) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"lead\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 11\n      }\n    }, \"Experiment not defined.\")));\n  } // console.log(performancedata);\n\n\n  const {\n    ASYPD,\n    SYPD,\n    JPSY,\n    Parallelization,\n    CHSY,\n    considered\n  } = performancedata;\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4 p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, \"Parallelization:\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, Parallelization)), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, \"JPSY: \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 19\n    }\n  }, JPSY)), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, \"SYPD: \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 19\n    }\n  }, SYPD)), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, \"ASYPD: \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 20\n    }\n  }, ASYPD)), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, \"CHSY: \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 19\n    }\n  }, CHSY))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-8 p-3 scroll-y-jobs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, \"Considered: (\", considered.length, \")\"), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"Job Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \"Queue\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Run\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \"CHSY\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, \"JPSY\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, \"Energy\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, considered.sort((a, b) => a.name > b.name ? 1 : -1).map((item, index) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: item.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, item.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 23\n    }\n  }, \" \", secondsToDelta(item.queue))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 23\n    }\n  }, secondsToDelta(item.running))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 23\n    }\n  }, item.CHSY)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 23\n    }\n  }, item.JPSY)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 23\n    }\n  }, item.energy)))))))), performancedata && performancedata.warnings_job_data && performancedata.warnings_job_data.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, \" \", \"There are some warnings about the calculations of performance metrics:\", \" \", /*#__PURE__*/React.createElement(\"button\", {\n    \"data-target\": \"#warningsCollapse\",\n    type: \"button\",\n    \"aria-expanded\": \"false\",\n    \"aria-controls\": \"warningsCollapse\",\n    className: \"btn-sm btn-warning\",\n    \"data-toggle\": \"collapse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, \"Show warnings\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"collapse px-4\",\n    id: \"warningsCollapse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"ol\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 19\n    }\n  }, performancedata.warnings_job_data.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 23\n    }\n  }, item))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row px-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, \"Metrics description:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, \"Parallelization\"), \": Total number of cores allocated for the run, per SIM.\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, \"JPSY\"), \": Energy cost of a simulation, measured in Joules per simulated year.\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, \"SYPD\"), \": Simulated years per day for the model in a 24 h period.\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, \"ASYPD\"), \": Actual SYPD, this number should be lower than SYPD due to interruptions, queue wait time, data transfer or issues with the model workflow. This is collected by measuring the time between first submission and the date of arrival of the last history file on the storage file system.\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, \"CHSY\"), \": Core hours per simulated year. This is measured as the product of the model runtime for 1 SY and the number of cores allocated. This is an average of the CHSY of all SIM jobs.\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, \"Considered\"), \": Scrollable list where each item in the list represents job information showing \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 53\n    }\n  }, \"Job Name\"), \",\", \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, \"QUEUE\"), \" and \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 40\n    }\n  }, \"RUNNING\"), \" time in\", \" \", /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, \"HH:mm:ss\"), \" format, \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 37\n    }\n  }, \"CHSY\"), \", \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 60\n    }\n  }, \"JPSY\"), \", and raw \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 23\n    }\n  }, \"Energy\"), \" consumption for that job.\", \" \", /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }, \"Note: Energy values are only collected for those jobs running on MareNostrum4 and using the latest version of Autosubmit. Subsequent development will expand this feature for other platforms.\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  }, \"Visit\", \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://earth.bsc.es/gitlab/wuruchi/autosubmitreact/-/wikis/Performance-Metrics\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }, \"Performance Metrics Documentation\"), \" \", \"for more details.\"))));\n};\n\nexport default Performance;","map":{"version":3,"sources":["/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/experiment/Performance.js"],"names":["React","useContext","Fragment","ExperimentContext","Spinner","secondsToDelta","Performance","experimentContext","performancedata","experiment","loadingPerformance","ASYPD","SYPD","JPSY","Parallelization","CHSY","considered","length","sort","a","b","name","map","item","index","queue","running","energy","warnings_job_data"],"mappings":"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","sourcesContent":["import React, { useContext, Fragment } from \"react\";\nimport ExperimentContext from \"../context/experiment/experimentContext\";\nimport Spinner from \"../layout/Spinner\";\nimport { secondsToDelta } from \"../context/utils\";\n\nconst Performance = () => {\n  const experimentContext = useContext(ExperimentContext);\n  const { performancedata, experiment, loadingPerformance } = experimentContext;\n\n  if (loadingPerformance === true) {\n    return <Spinner />;\n  }\n\n  if (!experiment || !performancedata) {\n    return (\n      <div className='row'>\n        <div className='col-12'>\n          <div className='lead'>Experiment not defined.</div>\n        </div>\n      </div>\n    );\n  }\n  // console.log(performancedata);\n  const {\n    ASYPD,\n    SYPD,\n    JPSY,\n    Parallelization,\n    CHSY,\n    considered,\n  } = performancedata;\n  return (\n    <Fragment>\n      <div className='row px-3'>\n        <div className='col-4 p-4'>\n          <h5>\n            Parallelization:{\" \"}\n            <span className='badge badge-secondary'>{Parallelization}</span>\n          </h5>\n          <h5>\n            JPSY: <span className='badge badge-secondary'>{JPSY}</span>\n          </h5>\n          <h5>\n            SYPD: <span className='badge badge-secondary'>{SYPD}</span>\n          </h5>\n          <h5>\n            ASYPD: <span className='badge badge-secondary'>{ASYPD}</span>\n          </h5>\n          <h5>\n            CHSY: <span className='badge badge-secondary'>{CHSY}</span>\n          </h5>\n          {/* <strong>considered: </strong> {considered} */}\n        </div>\n        <div className='col-8 p-3 scroll-y-jobs'>\n          <p className='lead'>Considered: ({considered.length})</p>\n          <table className='table'>\n            <thead>\n              <tr>\n                <th scope='col'>#</th>\n                <th scope='col'>Job Name</th>\n                <th scope='col'>Queue</th>\n                <th scope='col'>Run</th>\n                <th scope='col'>CHSY</th>\n                <th scope='col'>JPSY</th>\n                <th scope='col'>Energy</th>\n              </tr>\n            </thead>\n            <tbody>\n              {considered\n                .sort((a, b) => (a.name > b.name ? 1 : -1))\n                .map((item, index) => (\n                  <tr key={item.name}>\n                    <th scope='row'>{index + 1}</th>\n                    <td>{item.name}</td>\n                    <td>\n                      <strong> {secondsToDelta(item.queue)}</strong>\n                    </td>\n                    <td>\n                      <strong>{secondsToDelta(item.running)}</strong>\n                    </td>\n                    <td>\n                      <strong>{item.CHSY}</strong>\n                    </td>\n                    <td>\n                      <strong>{item.JPSY}</strong>\n                    </td>\n                    <td>\n                      <strong>{item.energy}</strong>\n                    </td>\n                  </tr>\n                ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {performancedata &&\n        performancedata.warnings_job_data &&\n        performancedata.warnings_job_data.length > 0 && (\n          <div className='row px-3'>\n            <div className='col-12 px-4'>\n              <p>\n                {\" \"}\n                There are some warnings about the calculations of performance\n                metrics:{\" \"}\n                <button\n                  data-target='#warningsCollapse'\n                  type='button'\n                  aria-expanded='false'\n                  aria-controls='warningsCollapse'\n                  className='btn-sm btn-warning'\n                  data-toggle='collapse'\n                >\n                  Show warnings\n                </button>\n              </p>\n            </div>\n\n            <div className='collapse px-4' id='warningsCollapse'>\n              <div className='card card-body'>\n                <small>\n                  <ol>\n                    {performancedata.warnings_job_data.map((item) => (\n                      <li key={item}>{item}</li>\n                    ))}\n                  </ol>\n                </small>\n              </div>\n            </div>\n          </div>\n        )}\n\n      <div className='row px-3'>\n        <div className='col-12 px-4'>\n          <p className='lead'>Metrics description:</p>\n          <p>\n            <strong>Parallelization</strong>: Total number of cores allocated\n            for the run, per SIM.\n          </p>\n          <p>\n            <strong>JPSY</strong>: Energy cost of a simulation, measured in\n            Joules per simulated year.\n          </p>\n          <p>\n            <strong>SYPD</strong>: Simulated years per day for the model in a 24\n            h period.\n          </p>\n          <p>\n            <strong>ASYPD</strong>: Actual SYPD, this number should be lower\n            than SYPD due to interruptions, queue wait time, data transfer or\n            issues with the model workflow. This is collected by measuring the\n            time between first submission and the date of arrival of the last\n            history file on the storage file system.\n          </p>\n          <p>\n            <strong>CHSY</strong>: Core hours per simulated year. This is\n            measured as the product of the model runtime for 1 SY and the number\n            of cores allocated. This is an average of the CHSY of all SIM jobs.\n          </p>\n          <p>\n            <strong>Considered</strong>: Scrollable list where each item in the\n            list represents job information showing <strong>Job Name</strong>,{\" \"}\n            <strong>QUEUE</strong> and <strong>RUNNING</strong> time in{\" \"}\n            <i>HH:mm:ss</i> format, <strong>CHSY</strong>, <strong>JPSY</strong>\n            , and raw <strong>Energy</strong> consumption for that job.{\" \"}\n            <i>\n              Note: Energy values are only collected for those jobs running on\n              MareNostrum4 and using the latest version of Autosubmit.\n              Subsequent development will expand this feature for other\n              platforms.\n            </i>\n          </p>\n          <p>\n            Visit{\" \"}\n            <a\n              href='https://earth.bsc.es/gitlab/wuruchi/autosubmitreact/-/wikis/Performance-Metrics'\n              target='_blank'\n              rel='noopener noreferrer'\n            >\n              Performance Metrics Documentation\n            </a>{\" \"}\n            for more details.\n          </p>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default Performance;\n"]},"metadata":{},"sourceType":"module"}