{"ast":null,"code":"var _jsxFileName = \"/home/Earth/wuruchi/Documents/ReactProj/dev-react-api/src/components/experiment/GraphRepresentation.js\";\nimport React, { Fragment, useContext, useEffect, Component } from \"react\"; // import vis from \"vis-network\";\n\nimport Spinner from \"../layout/Spinner\";\nimport Graph from 'react-graph-vis';\nimport ExperimentContext from '../context/experiment/experimentContext';\n\nclass GraphRepresentation extends Component {\n  // { data, loadingGraph, cleanGraphData, updateSelection } = experimentContext;\n  // console.log(\"Entering GraphRep\")\n  // useEffect(() => {\n  //   return () => {\n  //     cleanGraphData();\n  //   };\n  //   // eslint-disable-next-line\n  // }, []);\n  render() {\n    const experimentContext = useContext(ExperimentContext); //{ data, loadingGraph, cleanGraphData, updateSelection } = experimentContext;\n\n    var nodes_array = [];\n    var edges_array = [];\n\n    if (typeof experimentContext.data.nodes !== \"undefined\" || typeof experimentContext.data.edges !== \"undefined\") {\n      experimentContext.data.nodes.map(node => nodes_array.push({\n        id: node.id,\n        label: node.label,\n        color: {\n          background: node.status_color,\n          border: \"black\"\n        }\n      }));\n      experimentContext.data.edges.map(edge => {\n        edges_array.push({\n          from: edge.from,\n          to: edge.to\n        });\n      });\n    }\n\n    const graph = {\n      nodes: nodes_array,\n      edges: edges_array\n    };\n    const options = {\n      edges: {\n        arrows: {\n          to: {\n            enabled: true\n          }\n        }\n      },\n      layout: {\n        improvedLayout: true,\n        hierarchical: {\n          nodeSpacing: 250,\n          edgeMinimization: false,\n          blockShifting: false,\n          parentCentralization: false,\n          direction: 'UD',\n          sortMethod: 'directed'\n        }\n      },\n      interaction: {\n        dragNodes: true,\n        hoverConnectedEdges: true,\n        multiselect: true,\n        navigationButtons: true\n      },\n      physics: {\n        enabled: false\n      },\n      nodes: {\n        shape: 'dot'\n      }\n    };\n    const events = {\n      select: function (event) {\n        var nodes = event.nodes,\n            edges = event.edges; //setCurrent(nodes);\n\n        console.log(\"Selected nodes:\");\n        console.log(nodes);\n        experimentContext.updateSelection(nodes); //setCurrent(nodes);\n        // console.log(\"Selected edges:\");\n        // console.log(edges);\n      }\n    };\n    if (experimentContext.loadingGraph) return React.createElement(Spinner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    });\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Graph, {\n      style: experimentStyle,\n      graph: graph,\n      options: options,\n      events: events,\n      getNetwork: network => {//  if you want access to vis.js network api you can set the state in a parent component using this property\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst experimentStyle = {\n  height: 800\n};\nexport default GraphRepresentation;","map":{"version":3,"sources":["/home/Earth/wuruchi/Documents/ReactProj/dev-react-api/src/components/experiment/GraphRepresentation.js"],"names":["React","Fragment","useContext","useEffect","Component","Spinner","Graph","ExperimentContext","GraphRepresentation","render","experimentContext","nodes_array","edges_array","data","nodes","edges","map","node","push","id","label","color","background","status_color","border","edge","from","to","graph","options","arrows","enabled","layout","improvedLayout","hierarchical","nodeSpacing","edgeMinimization","blockShifting","parentCentralization","direction","sortMethod","interaction","dragNodes","hoverConnectedEdges","multiselect","navigationButtons","physics","shape","events","select","event","console","log","updateSelection","loadingGraph","experimentStyle","network","height"],"mappings":"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","sourcesContent":["import React, { Fragment, useContext, useEffect, Component } from \"react\";\n// import vis from \"vis-network\";\nimport Spinner from \"../layout/Spinner\";\nimport Graph from 'react-graph-vis';\nimport ExperimentContext from '../context/experiment/experimentContext';\n\nclass GraphRepresentation extends Component {\n\n \n  // { data, loadingGraph, cleanGraphData, updateSelection } = experimentContext;\n  // console.log(\"Entering GraphRep\")\n\n  // useEffect(() => {\n  //   return () => {\n  //     cleanGraphData();\n  //   };\n  //   // eslint-disable-next-line\n  // }, []);\n\n  render(){\n    const experimentContext = useContext(ExperimentContext);\n    //{ data, loadingGraph, cleanGraphData, updateSelection } = experimentContext;\n\n    var nodes_array = [];\n    var edges_array = [];\n\n    if (\n      typeof experimentContext.data.nodes !== \"undefined\" ||\n      typeof experimentContext.data.edges !== \"undefined\"\n    ) {\n      experimentContext.data.nodes.map(node =>\n        nodes_array.push({\n          id: node.id,\n          label: node.label,\n          color: { background: node.status_color, border: \"black\" }\n        })\n      );\n\n      experimentContext.data.edges.map(edge => {\n        edges_array.push({ from: edge.from, to: edge.to });\n      });\n    }\n\n    const graph = {\n      nodes : nodes_array,\n      edges : edges_array\n    };\n\n\n    const options = {\n      edges: {\n        arrows: {\n          to: { enabled: true }\n        }\n      },\n      layout: {\n        improvedLayout: true,\n        hierarchical: {\n\n          nodeSpacing: 250,\n          edgeMinimization: false,\n          blockShifting: false,\n          parentCentralization: false,\n          direction: 'UD',\n          sortMethod: 'directed',\n        }\n      },\n      interaction: {\n        dragNodes: true,\n        hoverConnectedEdges: true,\n        multiselect: true,\n        navigationButtons: true,\n      },\n      physics: {\n        enabled: false,\n      },\n      nodes: {\n        shape: 'dot',\n      }\n    };\n    \n    \n\n    const events = {\n      select: function(event) {\n        var { nodes, edges } = event;\n        //setCurrent(nodes);\n        console.log(\"Selected nodes:\");\n        console.log(nodes);\n        experimentContext.updateSelection(nodes);\n        //setCurrent(nodes);\n        // console.log(\"Selected edges:\");\n        // console.log(edges);\n      }\n    };\n\n    if (experimentContext.loadingGraph) return <Spinner />;\n    return (\n      <Fragment>\n        <Graph\n          style={experimentStyle}\n          graph={graph}\n          options={options}\n          events={events}\n          getNetwork={network => {\n            //  if you want access to vis.js network api you can set the state in a parent component using this property\n          }}\n        />\n        {/* <Selection selectionList={current} /> */}\n      </Fragment> \n    );    \n  }\n   \n}\n\nconst experimentStyle = {\n    height: 800\n  };\n\nexport default GraphRepresentation;\n"]},"metadata":{},"sourceType":"module"}