{"ast":null,"code":"var _jsxFileName = \"/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/experiment/FileStatus.js\";\nimport React, { Component } from 'react';\n\nclass FileStatus extends Component {\n  componentDidMount() {\n    this.props.getFileStatus();\n    this.interval = setInterval(() => this.props.getFileStatus(), 300000); // Every 300 seconds\n  }\n\n  componentWillUnmount() {\n    this.props.cleanFileStatusData();\n    clearInterval(this.interval);\n  }\n\n  render() {\n    if (this.props.esarchiveStatus) {\n      const {\n        avg_bandwidth,\n        avg_latency,\n        bandwidth_warning,\n        current_bandwidth,\n        current_latency,\n        //datetime,\n        error,\n        error_message,\n        latency_warning,\n        reponse_time,\n        response_warning,\n        status\n      } = this.props.esarchiveStatus; // let badge_style = status === \"ONLINE\" ? \"badge badge-success\" : \"badge badge-secondary\";\n      // let show_alert = false;\n\n      const metrics_text = !error ? current_bandwidth.toFixed(2) + \" MB/s \" + current_latency.toFixed(2) + \" s\" : \"\";\n      let span_alert = /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 24\n        }\n      }, \"esarchive \", metrics_text);\n\n      if (error || status !== \"ONLINE\") {\n        const message_pop = error ? error_message : \"Access to esarchive seems to be unstable at the moment.\";\n        span_alert = /*#__PURE__*/React.createElement(\"span\", {\n          className: \"badge badge-light\",\n          \"data-toggle\": \"tooltip\",\n          \"data-placement\": \"bottom\",\n          title: message_pop,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 22\n          }\n        }, \"esarchive UNKNOWN!\");\n      } else {\n        if (bandwidth_warning || latency_warning || response_warning) {\n          //badge_style = \"badge badge-warning\";     \n          //show_alert = true;  \n          const title_bandwidth_warn = bandwidth_warning ? String(bandwidth_warning) + \". Current bandwidth: \" + String(current_bandwidth.toFixed(2)) + \" MB/s. Average over last day: \" + String(avg_bandwidth.toFixed(2)) + \" MB/s.\" : \"\";\n          const title_latency_warn = latency_warning ? \"\\n\" + String(latency_warning) + \". Current latency: \" + String(current_latency.toFixed(2)) + \"s. Average over last day: \" + String(avg_latency.toFixed(2)) + \"s.\" : \"\";\n          const title_response_warn = response_warning ? \"\\n\" + String(response_warning) + \". Current response time: \" + String(reponse_time.toFixed(2)) + \" s.\" : \"\";\n          const tootltip_title = title_bandwidth_warn + title_latency_warn + title_response_warn;\n          span_alert = /*#__PURE__*/React.createElement(\"span\", {\n            className: \"badge badge-warning\",\n            \"data-toggle\": \"tooltip\",\n            \"data-placement\": \"bottom\",\n            title: tootltip_title,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 24\n            }\n          }, \"esarchive \", /*#__PURE__*/React.createElement(\"i\", {\n            className: \"fa fa-exclamation-circle\",\n            \"aria-hidden\": \"true\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 141\n            }\n          }), \" \", metrics_text);\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"navbar-brand ml-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }\n      }, span_alert));\n    } else {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"navbar-brand ml-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"badge badge-secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 51\n        }\n      }, \"UNKNOWN\"));\n    }\n  }\n\n}\n\nexport default FileStatus;","map":{"version":3,"sources":["/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/experiment/FileStatus.js"],"names":["React","Component","FileStatus","componentDidMount","props","getFileStatus","interval","setInterval","componentWillUnmount","cleanFileStatusData","clearInterval","render","esarchiveStatus","avg_bandwidth","avg_latency","bandwidth_warning","current_bandwidth","current_latency","error","error_message","latency_warning","reponse_time","response_warning","status","metrics_text","toFixed","span_alert","message_pop","title_bandwidth_warn","String","title_latency_warn","title_response_warn","tootltip_title"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAEA,MAAMC,UAAN,SAAyBD,SAAzB,CAAmC;AAEjCE,EAAAA,iBAAiB,GAAE;AACjB,SAAKC,KAAL,CAAWC,aAAX;AACA,SAAKC,QAAL,GAAgBC,WAAW,CAAC,MAAM,KAAKH,KAAL,CAAWC,aAAX,EAAP,EAAmC,MAAnC,CAA3B,CAFiB,CAEsD;AACxE;;AAEDG,EAAAA,oBAAoB,GAAG;AACrB,SAAKJ,KAAL,CAAWK,mBAAX;AACAC,IAAAA,aAAa,CAAC,KAAKJ,QAAN,CAAb;AACD;;AAEDK,EAAAA,MAAM,GAAG;AAEP,QAAI,KAAKP,KAAL,CAAWQ,eAAf,EAA+B;AAC7B,YAAM;AACJC,QAAAA,aADI;AAEJC,QAAAA,WAFI;AAGJC,QAAAA,iBAHI;AAIJC,QAAAA,iBAJI;AAKJC,QAAAA,eALI;AAMJ;AACAC,QAAAA,KAPI;AAQJC,QAAAA,aARI;AASJC,QAAAA,eATI;AAUJC,QAAAA,YAVI;AAWJC,QAAAA,gBAXI;AAYJC,QAAAA;AAZI,UAaF,KAAKnB,KAAL,CAAWQ,eAbf,CAD6B,CAgB7B;AACA;;AACA,YAAMY,YAAY,GAAG,CAACN,KAAD,GAASF,iBAAiB,CAACS,OAAlB,CAA0B,CAA1B,IAA+B,QAA/B,GAA0CR,eAAe,CAACQ,OAAhB,CAAwB,CAAxB,CAA1C,GAAuE,IAAhF,GAAuF,EAA5G;AACA,UAAIC,UAAU,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAkBF,YAAlB,CAAjB;;AACA,UAAIN,KAAK,IAAIK,MAAM,KAAK,QAAxB,EAAiC;AAC/B,cAAMI,WAAW,GAAGT,KAAK,GAAGC,aAAH,GAAmB,yDAA5C;AACAO,QAAAA,UAAU,gBAAG;AAAM,UAAA,SAAS,EAAC,mBAAhB;AAAoC,yBAAY,SAAhD;AAA0D,4BAAe,QAAzE;AAAkF,UAAA,KAAK,EAAEC,WAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAb;AACD,OAHD,MAGO;AACL,YAAIZ,iBAAiB,IAAIK,eAArB,IAAwCE,gBAA5C,EAA6D;AAC3D;AACA;AACA,gBAAMM,oBAAoB,GAAKb,iBAAiB,GAChDc,MAAM,CAACd,iBAAD,CAAN,GAA4B,uBAA5B,GAAsDc,MAAM,CAACb,iBAAiB,CAACS,OAAlB,CAA0B,CAA1B,CAAD,CAA5D,GAA6F,gCAA7F,GAAgII,MAAM,CAAChB,aAAa,CAACY,OAAd,CAAsB,CAAtB,CAAD,CAAtI,GAAmK,QADnH,GAE9C,EAFF;AAGA,gBAAMK,kBAAkB,GAAKV,eAAe,GAC5C,OAAOS,MAAM,CAACT,eAAD,CAAb,GAAiC,qBAAjC,GAAyDS,MAAM,CAACZ,eAAe,CAACQ,OAAhB,CAAwB,CAAxB,CAAD,CAA/D,GAA8F,4BAA9F,GAA6HI,MAAM,CAACf,WAAW,CAACW,OAAZ,CAAoB,CAApB,CAAD,CAAnI,GAA8J,IADlH,GAE1C,EAFF;AAGA,gBAAMM,mBAAmB,GAAGT,gBAAgB,GAAG,OAAOO,MAAM,CAACP,gBAAD,CAAb,GAAkC,2BAAlC,GAAgEO,MAAM,CAACR,YAAY,CAACI,OAAb,CAAqB,CAArB,CAAD,CAAtE,GAAkG,KAArG,GAA6G,EAAzJ;AAGA,gBAAMO,cAAc,GAAGJ,oBAAoB,GAAGE,kBAAvB,GAA4CC,mBAAnE;AACAL,UAAAA,UAAU,gBAAG;AAAM,YAAA,SAAS,EAAC,qBAAhB;AAAsC,2BAAY,SAAlD;AAA4D,8BAAe,QAA3E;AAAoF,YAAA,KAAK,EAAEM,cAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAAqH;AAAG,YAAA,SAAS,EAAC,0BAAb;AAAwC,2BAAY,MAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAArH,OAAsLR,YAAtL,CAAb;AACD;AACF;;AAGD,0BACE;AAAM,QAAA,SAAS,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAQE,UAAR,CADF,CADF;AAMD,KAhDD,MAgDO;AACL,0BAAQ;AAAM,QAAA,SAAS,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAoC;AAAM,QAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAApC,CAAR;AACD;AAEF;;AAlEgC;;AAqEnC,eAAexB,UAAf","sourcesContent":["import React, { Component } from 'react'\n\nclass FileStatus extends Component {\n\n  componentDidMount(){\n    this.props.getFileStatus();\n    this.interval = setInterval(() => this.props.getFileStatus(), 300000); // Every 300 seconds\n  }\n\n  componentWillUnmount() {\n    this.props.cleanFileStatusData();\n    clearInterval(this.interval);\n  }\n\n  render() {\n    \n    if (this.props.esarchiveStatus){\n      const {\n        avg_bandwidth,\n        avg_latency,\n        bandwidth_warning,\n        current_bandwidth,\n        current_latency,\n        //datetime,\n        error, \n        error_message,\n        latency_warning,\n        reponse_time,\n        response_warning,\n        status,\n      } = this.props.esarchiveStatus;\n\n      // let badge_style = status === \"ONLINE\" ? \"badge badge-success\" : \"badge badge-secondary\";\n      // let show_alert = false;\n      const metrics_text = !error ? current_bandwidth.toFixed(2) + \" MB/s \" + current_latency.toFixed(2) + \" s\" : \"\";\n      let span_alert = <small>esarchive {metrics_text}</small>;\n      if (error || status !== \"ONLINE\"){\n        const message_pop = error ? error_message : \"Access to esarchive seems to be unstable at the moment.\";\n        span_alert = <span className=\"badge badge-light\" data-toggle='tooltip' data-placement='bottom' title={message_pop}>esarchive UNKNOWN!</span>;\n      } else {\n        if (bandwidth_warning || latency_warning || response_warning){\n          //badge_style = \"badge badge-warning\";     \n          //show_alert = true;  \n          const title_bandwidth_warn  =  bandwidth_warning ? \n          String(bandwidth_warning) + \". Current bandwidth: \" + String(current_bandwidth.toFixed(2)) + \" MB/s. Average over last day: \" + String(avg_bandwidth.toFixed(2)) + \" MB/s.\" \n          : \"\";\n          const title_latency_warn  =  latency_warning ? \n          \"\\n\" + String(latency_warning) + \". Current latency: \" + String(current_latency.toFixed(2)) + \"s. Average over last day: \" + String(avg_latency.toFixed(2)) + \"s.\" \n          : \"\";\n          const title_response_warn = response_warning ? \"\\n\" + String(response_warning) + \". Current response time: \" + String(reponse_time.toFixed(2)) + \" s.\" : \"\";\n  \n  \n          const tootltip_title = title_bandwidth_warn + title_latency_warn + title_response_warn;\n          span_alert = <span className=\"badge badge-warning\" data-toggle='tooltip' data-placement='bottom' title={tootltip_title}>esarchive <i className=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i> {metrics_text}</span>\n        }\n      }\n      \n      \n      return (\n        <span className=\"navbar-brand ml-4\">\n          <small>{span_alert}</small>\n        </span>\n        \n      )\n    } else {\n      return (<span className=\"navbar-brand ml-4\"><span className=\"badge badge-secondary\">UNKNOWN</span></span>);\n    }\n    \n  }\n}\n\nexport default FileStatus\n"]},"metadata":{},"sourceType":"module"}