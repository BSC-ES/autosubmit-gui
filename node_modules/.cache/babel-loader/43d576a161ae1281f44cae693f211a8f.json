{"ast":null,"code":"var _jsxFileName = \"/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/experiment/ExperimentItem.js\";\nimport React, { useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\nimport ExperimentContext from \"../context/experiment/experimentContext\";\nimport { quickThreshold } from \"../context/vars\";\n\nconst ExperimentItem = ({\n  experiment: {\n    name,\n    description,\n    user,\n    hpc,\n    status,\n    completed,\n    total,\n    version\n  }\n}) => {\n  const experimentContext = useContext(ExperimentContext);\n  const {\n    getExperimentSummary,\n    summaries,\n    loadingSummary\n  } = experimentContext;\n\n  const onGetSummary = e => {\n    e.preventDefault(); //console.log(name);\n\n    getExperimentSummary(name);\n  };\n\n  const disabledMore = total >= quickThreshold ? true : false;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header text-center py-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 15\n    }\n  }, name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, \" \", completed, \" / \", total, \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"progress border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: completed === total ? \"progress-bar bg-warning\" : status === \"RUNNING\" ? summaries[name] && summaries[name].n_failed > 0 ? \"progress-bar progress-bar-striped progress-bar-animated bg-danger\" : \"progress-bar progress-bar-striped progress-bar-animated bg-success\" : summaries[name] && summaries[name].n_failed > 0 ? \"progress-bar bg-danger\" : \"progress-bar bg-info\",\n    role: \"progressbar\",\n    style: {\n      width: total > 0 ? completed / total * 100 + \"%\" : \"0%\"\n    },\n    \"aria-valuenow\": completed,\n    \"aria-valuemin\": \"0\",\n    \"aria-valuemax\": total,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, status && status === \"RUNNING\" && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-success text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"ACTIVE\"), status && status !== \"RUNNING\" && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-secondary text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \"INACTIVE\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body py-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"card-subtitle text-muted pt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \"Owner:\"), \" \", user)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, \"HPC: \", hpc))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"card-text py-1 mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, description)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-3 px-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, !loadingSummary.has(name) && /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onGetSummary,\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: summaries[name] ? \"btn btn-info btn-block btn-sm\" : \"btn btn-outline-info btn-block btn-sm\",\n    type: \"submit\",\n    value: summaries[name] ? \"Refresh\" : \"Summary\",\n    \"aria-controls\": name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  })), loadingSummary.has(name) && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-sm btn-secondary btn-block disabled\",\n    disabled: \"True\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, \"Loading...\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 px-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, disabledMore === true && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-sm btn-block\",\n    disabled: \"True\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, \"More \\u2192\"), disabledMore === false && /*#__PURE__*/React.createElement(Link, {\n    to: `/autosubmitapp/experiment/${name}`,\n    className: \"btn btn-outline-primary btn-block btn-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, \"More\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-3 px-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/autosubmitapp/experiment/${name}/light`,\n    className: \"btn btn-outline-success btn-block btn-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, \"Quick\")), summaries[name] && summaries[name].error === true && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 pt-2\",\n    id: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-body py-0 scroll-x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }, \"ERROR: \", summaries[name].error_message)))))), summaries[name] && summaries[name].error === false && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 pt-2\",\n    id: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-body py-0 scroll-x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 23\n    }\n  }, \"All : avg. queue\", \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 25\n    }\n  }, summaries[name].avg_queue_time), \" | run\", \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 25\n    }\n  }, summaries[name].avg_run_time)))), summaries[name].sim_queue_considered > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }\n  }, \"SIM \", \" (\", summaries[name].n_sim, \") \", \" : avg. queue\", \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 27\n    }\n  }, summaries[name].avg_sim_queue_time), \" \", \" (\", summaries[name].sim_queue_considered, \") \", \"| run\", \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 27\n    }\n  }, summaries[name].avg_sim_run_time), \" (\", summaries[name].sim_run_considered, \")\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row pb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 21\n    }\n  }, summaries[name].n_running > 0 && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 25\n    }\n  }, \"Running: \", summaries[name].n_running), \" \", summaries[name].n_queuing > 0 && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge\",\n    style: {\n      backgroundColor: \"pink\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 25\n    }\n  }, \"Queuing: \", summaries[name].n_queuing), \" \", summaries[name].n_submitted > 0 && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge\",\n    style: {\n      backgroundColor: \"cyan\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 25\n    }\n  }, \"Submitted: \", summaries[name].n_submitted), \" \", summaries[name].n_suspended > 0 && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge\",\n    style: {\n      backgroundColor: \"orange\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 25\n    }\n  }, \"Suspended: \", summaries[name].n_suspended))), summaries[name].n_failed > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row px-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2 text-center px-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 25\n    }\n  }, \"Failed: \", summaries[name].n_failed)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-10 text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    style: {\n      overflow: \"auto\",\n      maxHeight: \"200px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"ol\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 29\n    }\n  }, summaries[name].failed_jobs.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 33\n    }\n  }, item)))))))))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"card-text text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }\n  }, version)))));\n};\n\nExperimentItem.propTypes = {\n  experiment: PropTypes.object.isRequired\n};\nexport default ExperimentItem;","map":{"version":3,"sources":["/Users/BleuDChan/ReposBSC/autosubmitreact/src/components/experiment/ExperimentItem.js"],"names":["React","useContext","PropTypes","Link","ExperimentContext","quickThreshold","ExperimentItem","experiment","name","description","user","hpc","status","completed","total","version","experimentContext","getExperimentSummary","summaries","loadingSummary","onGetSummary","e","preventDefault","disabledMore","n_failed","width","has","error","error_message","avg_queue_time","avg_run_time","sim_queue_considered","n_sim","avg_sim_queue_time","avg_sim_run_time","sim_run_considered","n_running","n_queuing","backgroundColor","n_submitted","n_suspended","overflow","maxHeight","failed_jobs","map","item","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\nimport ExperimentContext from \"../context/experiment/experimentContext\";\nimport { quickThreshold } from \"../context/vars\";\n\nconst ExperimentItem = ({\n  experiment: { name, description, user, hpc, status, completed, total, version },\n}) => {\n  const experimentContext = useContext(ExperimentContext);\n  const { getExperimentSummary, summaries, loadingSummary } = experimentContext;\n  const onGetSummary = (e) => {\n    e.preventDefault();\n    //console.log(name);\n    getExperimentSummary(name);\n  };\n\n  const disabledMore = total >= quickThreshold ? true : false;\n\n  return (\n    <div className='col mb-4'>\n      <div className='card'>\n        <div className='card-header text-center py-1'>\n          <div className='row'>\n            <div className='col-md-3 text-left'>\n              <h3 className='font-weight-bold'>{name}</h3>\n            </div>\n            <div className='col-md-6 text-center'>\n              {\" \"}\n              {completed} / {total}{\" \"}\n              <div className='progress border'>\n                <div\n                  className={\n                    completed === total\n                      ? \"progress-bar bg-warning\"\n                      : status === \"RUNNING\"\n                      ? summaries[name] && summaries[name].n_failed > 0\n                        ? \"progress-bar progress-bar-striped progress-bar-animated bg-danger\"\n                        : \"progress-bar progress-bar-striped progress-bar-animated bg-success\"\n                      : summaries[name] && summaries[name].n_failed > 0\n                      ? \"progress-bar bg-danger\"\n                      : \"progress-bar bg-info\"\n                  }\n                  role='progressbar'\n                  style={{\n                    width: total > 0 ? (completed / total) * 100 + \"%\" : \"0%\",\n                  }}\n                  aria-valuenow={completed}\n                  aria-valuemin='0'\n                  aria-valuemax={total}\n                ></div>\n              </div>\n              {/* <span className='badge badge-default'>\n              {\" \"}\n              \n            </span> */}\n            </div>\n            <div className='col-md-3 text-right'>\n              {status && status === \"RUNNING\" && (\n                <span className='badge badge-success text-right'>ACTIVE</span>\n              )}\n              {status && status !== \"RUNNING\" && (\n                <span className='badge badge-secondary text-right'>\n                  INACTIVE\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n        <div className='card-body py-1'>\n          {/* <h4 className=\"card-title\"></h4> */}\n          <div className=\"d-flex justify-content-between\">\n            <div>\n              <h6 className='card-subtitle text-muted pt-2'>\n                <small>Owner:</small> {user}\n              </h6>\n            </div>\n            <div>\n              <small className='text-muted'>HPC: {hpc}</small>\n            </div>\n          </div>          \n          <p className='card-text py-1 mb-1'>\n            <small>{description}</small>\n          </p>\n          <div className='row'>\n            <div className='col-3 px-1'>\n              {!loadingSummary.has(name) && (\n                <form onSubmit={onGetSummary} className='form'>\n                  <input\n                    className={\n                      summaries[name]\n                        ? \"btn btn-info btn-block btn-sm\"\n                        : \"btn btn-outline-info btn-block btn-sm\"\n                    }\n                    type='submit'\n                    value={summaries[name] ? \"Refresh\" : \"Summary\"}\n                    aria-controls={name}\n                  />\n                </form>\n              )}\n              {loadingSummary.has(name) && (\n                <button\n                  className='btn-sm btn-secondary btn-block disabled'\n                  disabled='True'\n                >\n                  Loading...\n                </button>\n              )}\n            </div>\n            <div className='col-6 px-1'>\n              {disabledMore === true && (\n                <button className='btn-sm btn-block' disabled='True'>\n                  More &#8594;\n                </button>\n              )}\n              {disabledMore === false && (\n                <Link\n                  to={`/autosubmitapp/experiment/${name}`}\n                  className='btn btn-outline-primary btn-block btn-sm'\n                >\n                  More\n                </Link>\n              )}\n            </div>\n            <div className='col-3 px-1'>\n              <Link\n                to={`/autosubmitapp/experiment/${name}/light`}\n                className='btn btn-outline-success btn-block btn-sm'\n              >\n                Quick\n              </Link>\n            </div>\n            {summaries[name] && summaries[name].error === true && (\n              <div className='col-12 pt-2' id={name}>\n                <div className='card card-body py-0 scroll-x'>\n                  <div className='row text-left'>\n                    <div className='col-md-12'>\n                      <div className='small'>\n                        <strong>ERROR: {summaries[name].error_message}</strong>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n            {summaries[name] && summaries[name].error === false && (\n              <div className='col-12 pt-2' id={name}>\n                <div className='card card-body py-0 scroll-x'>\n                  <div className='row text-left'>\n                    <div className='col-md-12'>\n                      <small>\n                        All : avg. queue{\" \"}\n                        <strong>{summaries[name].avg_queue_time}</strong> | run{\" \"}\n                        <strong>{summaries[name].avg_run_time}</strong>\n                      </small>\n                    </div>\n                  </div>\n                  {summaries[name].sim_queue_considered > 0 && (\n                    <div className='row text-left'>\n                      <div className='col-md-12'>\n                        <small>\n                          SIM {\" (\"}\n                          {summaries[name].n_sim}\n                          {\") \"} : avg. queue{\" \"}\n                          <strong>{summaries[name].avg_sim_queue_time}</strong>{\" \"}\n                          {\" (\"}\n                          {summaries[name].sim_queue_considered}\n                          {\") \"}| run{\" \"}\n                          <strong>{summaries[name].avg_sim_run_time}</strong>\n                          {\" (\"}\n                          {summaries[name].sim_run_considered}\n                          {\")\"}\n                        </small>\n                      </div>\n                    </div>\n                  )}\n                  <div className='row pb-2'>\n                    <div className='col-12'>\n                      {summaries[name].n_running > 0 && (\n                        <span className='badge badge-success'>\n                          Running: {summaries[name].n_running}\n                        </span>\n                      )}{\" \"}\n                      {summaries[name].n_queuing > 0 && (\n                        <span\n                          className='badge'\n                          style={{ backgroundColor: \"pink\" }}\n                        >\n                          Queuing: {summaries[name].n_queuing}\n                        </span>\n                      )}{\" \"}\n                      {summaries[name].n_submitted > 0 && (\n                        <span\n                          className='badge'\n                          style={{ backgroundColor: \"cyan\" }}\n                        >\n                          Submitted: {summaries[name].n_submitted}\n                        </span>\n                      )}{\" \"}\n                      {summaries[name].n_suspended > 0 && (\n                        <span\n                          className='badge'\n                          style={{ backgroundColor: \"orange\" }}\n                        >\n                          Suspended: {summaries[name].n_suspended}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n\n                  {summaries[name].n_failed > 0 && (\n                    <div className='row px-1'>\n                      <div className='col-md-2 text-center px-2'>\n                        <span className='badge badge-danger'>\n                          Failed: {summaries[name].n_failed}\n                        </span>\n                      </div>\n                      <div className='col-md-10 text-left'>\n                        <div\n                          className=''\n                          style={{ overflow: \"auto\", maxHeight: \"200px\" }}\n                        >\n                          <small>\n                            <ol>\n                              {summaries[name].failed_jobs.map((item) => (\n                                <li key={item}>{item}</li>\n                              ))}\n                            </ol>\n                          </small>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n          <p className='card-text text-center'>\n            <small className='text-muted'>{version}</small>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nExperimentItem.propTypes = {\n  experiment: PropTypes.object.isRequired,\n};\n\nexport default ExperimentItem;\n"]},"metadata":{},"sourceType":"module"}