{"ast":null,"code":"import _slicedToArray from \"/home/Earth/wuruchi/Documents/ReactProj/dev-autosubmitreact/autosubmitreact/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/Earth/wuruchi/Documents/ReactProj/dev-autosubmitreact/autosubmitreact/src/components/experiment/Experiment.js\";\nimport React, { useEffect, useContext, Fragment, useState } from \"react\";\nimport Spinner from \"../layout/Spinner\";\nimport { Link } from \"react-router-dom\";\nimport ExperimentContext from '../context/experiment/experimentContext';\n\nconst Experiment = ({\n  expidToken\n}) => {\n  const experimentContext = useContext(ExperimentContext);\n  const getExperiment = experimentContext.getExperiment,\n        getExperimentGraph = experimentContext.getExperimentGraph,\n        setAutoUpdatePkl = experimentContext.setAutoUpdatePkl,\n        loading = experimentContext.loading,\n        experiment = experimentContext.experiment,\n        enabledGraphSearch = experimentContext.enabledGraphSearch,\n        data = experimentContext.data,\n        startAutoUpdatePkl = experimentContext.startAutoUpdatePkl,\n        setAutoUpdateRun = experimentContext.setAutoUpdateRun,\n        startAutoUpdateRun = experimentContext.startAutoUpdateRun;\n  useEffect(() => {\n    getExperiment(expidToken); // eslint-disable-next-line\n  }, []);\n\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        text = _useState2[0],\n        setText = _useState2[1];\n\n  const onSubmit = e => {\n    e.preventDefault();\n    getExperimentGraph(experiment.expid);\n  };\n\n  const onJobMonitor = e => {\n    e.preventDefault();\n    setAutoUpdatePkl(true);\n  };\n\n  const onNotJobMonitor = e => {\n    e.preventDefault();\n    setAutoUpdatePkl(false);\n  };\n\n  const onSubmitRun = e => {\n    e.preventDefault();\n    setAutoUpdateRun(true);\n  };\n\n  const onStopSubmitRun = e => {\n    e.preventDefault();\n    setAutoUpdateRun(false);\n  };\n\n  const onSubmitStats = e => {\n    e.preventDefault();\n  };\n\n  const onChangeStats = e => setText(e.target.value); // const cleanParentLocal = () => {\n  //   console.log('Exp clean ')\n  //   cleanParent();\n  // };\n\n\n  const expid = experiment.expid,\n        owner = experiment.owner,\n        owner_id = experiment.owner_id,\n        path = experiment.path,\n        time_last_access = experiment.time_last_access,\n        time_last_mod = experiment.time_last_mod,\n        description = experiment.description,\n        version = experiment.version,\n        updateTime = experiment.updateTime,\n        running = experiment.running,\n        error = experiment.error,\n        error_message = experiment.error_message,\n        pkl_timestamp = experiment.pkl_timestamp,\n        model = experiment.model,\n        branch = experiment.branch,\n        hpc = experiment.hpc;\n  if (loading) return React.createElement(Spinner, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    className: \"btn btn-light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Back To Search\"))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-header pt-1 pb-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-8 text-left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"font-weight-bold\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, expid)), React.createElement(\"div\", {\n    className: \"col-4 text-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, running && React.createElement(\"span\", {\n    className: \"badge badge-success text-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"RUNNING\"), !running && React.createElement(\"span\", {\n    className: \"badge badge-danger text-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"NOT RUNNING\")))), React.createElement(\"div\", {\n    className: \"card-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row px-3 py-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, description)), error && React.createElement(\"pre\", {\n    className: \"text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, error_message), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"Version: \", version)), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"col-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(\"small\", {\n    className: \"font-weight-bold\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"Owner:\"), \" \", owner_id, \" \", owner), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"small\", {\n    className: \"font-weight-bold\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"Path:\"), \" \", path), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"SleepTime: \", updateTime))), React.createElement(\"div\", {\n    className: \"col-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(\"small\", {\n    className: \"font-weight-bold\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"Last Modified:\"), \" \", time_last_mod), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(\"small\", {\n    className: \"font-weight-bold\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"Last Access:\"), \" \", time_last_access), pkl_timestamp && React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"small\", {\n    className: \"font-weight-bold\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, \"Pkl:\"), \" \", pkl_timestamp))))), React.createElement(\"div\", {\n    className: \"card-footer p-1 text-muted text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, \"Model:\"), \" \", model)), React.createElement(\"div\", {\n    className: \"col-md-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, \"Branch:\"), \" \", branch)), React.createElement(\"div\", {\n    className: \"col-md-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, \"Hpc:\"), \" \", hpc)))), React.createElement(\"div\", {\n    className: \"card-footer p-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    className: \"form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Show Graph\",\n    className: \"btn btn-info btn-block btn-sm\",\n    disabled: !enabledGraphSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"col-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, experiment && !startAutoUpdateRun && React.createElement(\"form\", {\n    onSubmit: onSubmitRun,\n    className: \"form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Show Log\",\n    className: \"btn btn-dark btn-sm btn-block\" // disabled={!enabledGraphSearch}\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  })), experiment && startAutoUpdateRun && React.createElement(\"form\", {\n    onSubmit: onStopSubmitRun,\n    className: \"form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Hide Log\",\n    className: \"btn btn-danger btn-sm btn-block\" // disabled={!enabledGraphSearch}\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"col-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, running && data && !startAutoUpdatePkl && React.createElement(\"form\", {\n    onSubmit: onJobMonitor,\n    className: \"form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Start Job Monitor\",\n    className: \"btn btn-dark btn-block btn-sm\",\n    disabled: !enabledGraphSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  })), running && data && startAutoUpdatePkl && React.createElement(\"form\", {\n    onSubmit: onNotJobMonitor,\n    className: \"form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Stop Job Monitor\",\n    className: \"btn btn-danger btn-block btn-sm\",\n    disabled: !enabledGraphSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"col-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: onSubmitStats,\n    className: \"form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-group mb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    name: \"text\",\n    placeholder: \"Hours\",\n    onChange: onChangeStats,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"input-group-append\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Statistics\",\n    className: \"btn btn-info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  })))))))))));\n};\n\nexport default Experiment;","map":{"version":3,"sources":["/home/Earth/wuruchi/Documents/ReactProj/dev-autosubmitreact/autosubmitreact/src/components/experiment/Experiment.js"],"names":["React","useEffect","useContext","Fragment","useState","Spinner","Link","ExperimentContext","Experiment","expidToken","experimentContext","getExperiment","getExperimentGraph","setAutoUpdatePkl","loading","experiment","enabledGraphSearch","data","startAutoUpdatePkl","setAutoUpdateRun","startAutoUpdateRun","text","setText","onSubmit","e","preventDefault","expid","onJobMonitor","onNotJobMonitor","onSubmitRun","onStopSubmitRun","onSubmitStats","onChangeStats","target","value","owner","owner_id","path","time_last_access","time_last_mod","description","version","updateTime","running","error","error_message","pkl_timestamp","model","branch","hpc"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, Fragment, useState } from \"react\";\nimport Spinner from \"../layout/Spinner\";\nimport { Link } from \"react-router-dom\";\nimport ExperimentContext from '../context/experiment/experimentContext';\n\nconst Experiment = ({ expidToken }) => {\n  const experimentContext = useContext(ExperimentContext); \n  const { getExperiment, \n        getExperimentGraph, \n        setAutoUpdatePkl, \n        loading, \n        experiment, \n        enabledGraphSearch, \n        data, \n        startAutoUpdatePkl,\n        setAutoUpdateRun, \n        startAutoUpdateRun } = experimentContext;\n\n  useEffect(() => {\n    getExperiment(expidToken);\n    // eslint-disable-next-line\n  }, []);\n\n  const [text, setText] = useState('');\n  \n  const onSubmit = e => {\n    e.preventDefault();\n    getExperimentGraph(experiment.expid);\n  };\n\n  const onJobMonitor = e => {\n    e.preventDefault();\n    setAutoUpdatePkl(true);\n  }\n\n  const onNotJobMonitor = e => {\n    e.preventDefault();\n    setAutoUpdatePkl(false);\n\n  }\n\n  const onSubmitRun = e => {\n    e.preventDefault();\n    setAutoUpdateRun(true);\n  };\n\n  const onStopSubmitRun = e => {\n    e.preventDefault();\n    setAutoUpdateRun(false);\n  };\n  \n  const onSubmitStats = e => {\n    e.preventDefault();    \n  }\n\n  const onChangeStats = e => setText(e.target.value);\n\n  // const cleanParentLocal = () => {\n  //   console.log('Exp clean ')\n  //   cleanParent();\n  // };\n\n  const {\n    expid,\n    owner,\n    owner_id,\n    path,\n    time_last_access,\n    time_last_mod,\n    description,\n    version,\n    updateTime,\n    running,\n    error,\n    error_message,\n    pkl_timestamp,\n    model, \n    branch, \n    hpc\n  } = experiment;\n\n  if (loading)  return <Spinner />;\n\n  return (\n    <div>\n      <div className=\"row\">\n        <div className=\"col\">\n          <Link to='/' className='btn btn-light'>\n            Back To Search\n          </Link>    \n        </div>        \n      </div>\n      <br></br>\n      <div className=\"row\">\n        <div className=\"col-12\">\n        <div className=\"card\">\n          <div className='card-header pt-1 pb-0'>\n            <div className='row'>\n              <div className='col-8 text-left'>\n                <h3 className=\"font-weight-bold\">{expid}</h3>\n              </div>\n              <div className='col-4 text-right'>\n                {running && <span className='badge badge-success text-right'>RUNNING</span>}\n                {!running && <span className='badge badge-danger text-right'>NOT RUNNING</span>}\n              </div>\n            </div>\n          </div>\n          <div className='card-text'>\n            <div className=\"row px-3 py-0\">\n              <div className='col-4'>\n                <div><small>{description}</small></div>\n                {error && <pre className=\"text-danger\">{error_message}</pre>}\n                <div><span>Version: {version}</span></div>\n                <div></div>\n              </div>\n\n              <div className='col-4'>\n                <div><small className='font-weight-bold'>Owner:</small> {owner_id} {owner}</div>\n                <div><small className='font-weight-bold'>Path:</small> {path}</div>\n                <div><small>SleepTime: {updateTime}</small></div>  \n              </div>   \n              <div className='col-4'>\n                  <div><small className='font-weight-bold'>Last Modified:</small> {time_last_mod}</div>\n                  <div><small className='font-weight-bold'>Last Access:</small> {time_last_access}</div>\n                  {pkl_timestamp && <Fragment>\n                    <div><small className='font-weight-bold'>Pkl:</small> {pkl_timestamp}</div>\n                  </Fragment>\n                    \n                  } \n                \n              </div>\n            </div>\n          </div> \n          <div className=\"card-footer p-1 text-muted text-center\">\n            <div className=\"row\">\n                <div className=\"col-md-4\">\n                    <small><strong>Model:</strong> {model}</small>\n                </div>\n                <div className=\"col-md-4\">\n                    <small><strong>Branch:</strong> {branch}</small>\n                </div>\n                <div className=\"col-md-4\">\n                    <small><strong>Hpc:</strong> {hpc}</small>\n                </div>                \n            </div>    \n          </div>\n          <div className='card-footer p-1'>\n            <div className='row'>\n                <div className='col-3'>\n                  <form onSubmit={onSubmit} className='form'>\n                    <input\n                      type='submit'\n                      value='Show Graph'\n                      className='btn btn-info btn-block btn-sm'\n                      disabled={!enabledGraphSearch}\n                    />\n                  </form>\n                </div>   \n                <div className=\"col-3\">\n                    {experiment && !startAutoUpdateRun &&\n                      <form onSubmit={onSubmitRun} className='form'>\n                        <input\n                        type='submit'\n                        value='Show Log'\n                        className='btn btn-dark btn-sm btn-block'\n                        // disabled={!enabledGraphSearch}\n                        />\n                      </form>\n                    }\n                    {experiment && startAutoUpdateRun &&\n                      <form onSubmit={onStopSubmitRun} className='form'>\n                        <input\n                        type='submit'\n                        value='Hide Log'\n                        className='btn btn-danger btn-sm btn-block'\n                        // disabled={!enabledGraphSearch}\n                        />\n                      </form>\n                    }\n                </div>       \n                <div className='col-3'>\n                  {running && data && !startAutoUpdatePkl &&\n                    <form onSubmit={onJobMonitor} className='form'>\n                      <input\n                        type='submit'\n                        value='Start Job Monitor'\n                        className='btn btn-dark btn-block btn-sm'\n                        disabled={!enabledGraphSearch}\n                      />\n                  </form>\n                  }\n                  {running && data && startAutoUpdatePkl &&\n                    <form onSubmit={onNotJobMonitor} className='form'>\n                      <input\n                        type='submit'\n                        value='Stop Job Monitor'\n                        className='btn btn-danger btn-block btn-sm'\n                        disabled={!enabledGraphSearch}\n                      />\n                  </form>\n                  }\n                </div>\n                <div className='col-3'>\n                  <form onSubmit={onSubmitStats} className='form'>\n                    <div className=\"input-group mb-3\">                      \n                        <input\n                          className=\"form-control\"\n                          type='text'\n                          name='text'\n                          placeholder='Hours'                          \n                          onChange={onChangeStats}\n                        />\n                        <div className=\"input-group-append\">\n                          <input          \n                            type='submit'\n                            value='Statistics'\n                            className='btn btn-info'\n                          />\n                        </div>        \n                    </div>\n                  </form>\n                </div>\n              </div>\n          </div>  \n          \n        </div>\n        </div>\n      </div>\n     \n         \n      \n    </div>\n  );\n}\n\n\nexport default Experiment;\n"]},"metadata":{},"sourceType":"module"}