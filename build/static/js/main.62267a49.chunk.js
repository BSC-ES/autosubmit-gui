(this["webpackJsonpreact-api"]=this["webpackJsonpreact-api"]||[]).push([[0],{45:function(e,t){e.exports="data:image/gif;base64,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"},48:function(e,t,a){e.exports=a.p+"static/media/dogload.9bbeb4de.gif"},49:function(e,t,a){e.exports=a.p+"static/media/catload.0e70881c.gif"},53:function(e,t,a){e.exports=a(83)},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(44),c=a.n(l),s=a(7),o=a(8),i=a(10),m=a(9),u=a(14),d=a(17),p=a(3),E=Object(n.createContext)(),b=a(45),g=a.n(b),h=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:g.a,alt:"Loading...",style:{width:"200px",margin:"auto",display:"block"}}))},f=function(e){var t=e.expidToken,a=Object(n.useContext)(E),l=a.loading,c=a.loadingState,s=a.experiment,o=a.experimentRunning;if(Object(n.useEffect)((function(){}),[]),null===s)return r.a.createElement(h,null);var i=s.expid,m=s.error,u=s.error_message;return l?r.a.createElement("span",null,"Loading..."):t?r.a.createElement("span",{className:"navbar-brand ml-4"},r.a.createElement("strong",null,i)," ",m&&r.a.createElement("pre",{className:"text-danger"},u)," ",c&&r.a.createElement("span",{className:"badge badge-dark text-right"},"LOADING..."),o&&!c&&r.a.createElement("span",{className:"badge badge-success text-right"},"ACTIVE"),!o&&!c&&r.a.createElement("span",{className:"badge badge-secondary text-right"},"INACTIVE")):r.a.createElement("span",null)},N=function(e){var t=e.icon,a=e.title,l=Object(d.f)(),c=Object(n.useContext)(E),s=c.searchExperiments,o=c.experiment,i=Object(n.useState)(""),m=Object(p.a)(i,2),b=m[0],g=m[1],h=null;o&&(h=o.expid);return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark mb-1 p-1"},r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{className:"navbar-brand",to:"/autosubmitapp/"},r.a.createElement("i",{className:t})," ",a),r.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{className:"nav-link",to:"/autosubmitapp/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{className:"nav-link",to:"/autosubmitapp/about"},r.a.createElement("u",null,"About"))),r.a.createElement("li",{className:"nav-item"},h&&r.a.createElement(f,{expidToken:h}))),l&&"/autosubmitapp/"!==l.location.pathname&&"/autosubmitapp"!==l.location.pathname&&r.a.createElement("form",{className:"form-inline my-2 my-lg-0",onSubmit:function(e){e.preventDefault(),""!==b&&(s(b),l.push("/autosubmitapp/"))}},r.a.createElement("input",{type:"search",className:"form-control mr-sm-2",placeholder:"Search Experiments","aria-label":"Search",value:b,onChange:function(e){return g(e.target.value)}}),r.a.createElement("button",{className:"btn btn-outline-light my-2 my-sm-0",type:"submit"},"Search"))))};N.defaultProps={title:"Autosubmit Searcher",icon:"fas fa-home"};var v=N,A=Object(n.createContext)(),y=function(){var e=Object(n.useContext)(A).alert;return null!==e&&r.a.createElement("div",{className:"alert alert-".concat(e.type)},r.a.createElement("i",{className:"fas fa-info-circle"})," ",e.msg)},T=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("h3",null,"User Information"),r.a.createElement("p",null,"For user instructions visit our user guide"," ",r.a.createElement("a",{href:"https://autosubmit.readthedocs.io/en/latest/autosubmit-gui.html"},"User Guide"),"."),r.a.createElement("p",null,"To request more information make a post in the issue"," ",r.a.createElement("a",{href:"https://earth.bsc.es/gitlab/es/autosubmit/issues/506"},"Autosubmit User Documentation"),"."),r.a.createElement("h3",null,"Bugs and Requests"),r.a.createElement("p",null,"If you find a bug or want to request some important feature, please open an issue at"," ",r.a.createElement("a",{href:"https://earth.bsc.es/gitlab/es/autosubmit/issues"},"Autosubmit Issues"),"."),r.a.createElement("p",null,"Version: 1.0.0-beta"))},x=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Oops!"),r.a.createElement("p",null,"Looks like you are lost. Better go back home."),r.a.createElement(u.b,{to:"/autosubmitapp/",className:"btn btn-light"},"Back Home"))},w=function(e){e.expidToken,e.refTree;var t=Object(n.useContext)(E),a=t.loading,l=t.experiment,c=t.totalJobs;if(null===l)return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"footer bg-dark text-white p-0"})));var s=l.owner,o=l.owner_id,i=l.db_historic_version,m=l.version,u=l.branch,d=l.hpc,p=l.description,b=i||"NA";return a?r.a.createElement("div",{className:"footer bg-dark text-white "},r.a.createElement("div",{className:"card-footer p-0 px-2 scroll-x"},r.a.createElement("div",{className:"row text-right"},r.a.createElement("div",{className:"col"},"Loading...")))):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"footer bg-dark text-white "},r.a.createElement("div",{className:"card-footer py-0 scroll-x"},r.a.createElement("div",{className:"row text-right"},r.a.createElement("div",{className:"col"},r.a.createElement("small",{className:"mr-2"},p),"|",r.a.createElement("small",{className:"mx-2"},r.a.createElement("strong",null,"Branch:")," ",u),"|",r.a.createElement("small",{className:"mx-2"},r.a.createElement("strong",null,"Hpc:")," ",d),"|",r.a.createElement("small",{className:"mx-2"},r.a.createElement("strong",null,"Owner:")," ",o," ",s," "),"|",r.a.createElement("small",{className:"mx-2"},r.a.createElement("strong",null,"Version:")," ",m),"|",r.a.createElement("small",{className:"mx-2"},r.a.createElement("strong",null,"DB:")," ",b),"|",r.a.createElement("small",{className:"mx-2"},r.a.createElement("strong",null,"#Jobs:")," ",c)))))))},k=a(25),S="https://earth.bsc.es/autosubmitapi/",C={background:"lightpink",fontWeight:"bold"},O={background:"red",fontWeight:"bold",color:"white"},_={background:"yellow",fontWeight:"bold"},j={background:"cyan",fontWeight:"bold"},R={background:"green",fontWeight:"bold",color:"white"},I={background:"lightblue",fontWeight:"bold"},D={background:"gray",fontWeight:"bold",color:"white"},G={background:"white",color:"black",fontWeight:"bold"},B={background:"orange",fontWeight:"bold",color:"white"},L={background:"salmon",fontWeight:"bold",color:"white"},F={background:"lightsalmon",fontWeight:"bold"},U=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return!0===this.props.shouldUpdateGraph||(!(!e.data||!this.props.data||e.data.pkl_timestamp===this.props.data.pkl_timestamp)||e.loadingGraph!==this.props.loadingGraph)}},{key:"componentWillUnmount",value:function(){this.props.cleanGraphData(),this.props.clearStats()}},{key:"render",value:function(){if(this.props.loadingGraph)return r.a.createElement(h,null);if(!this.props.data)return r.a.createElement("div",{className:"card-body text-left",style:P},r.a.createElement("p",{className:"lead"},"Press ",r.a.createElement("span",{className:"badge badge-info"},"Classic")," to see the standard graph representation of the experiment."),r.a.createElement("p",null,"For the classic approach, the algorithm will first try to use graphviz, there are some constraints in place that try to identify those instances that could potentially make graphviz run forever. If an experiment is identified to be time-wise out of bounds for graphviz, it will be sent to the regular algorithm. Currently, the regular algorithm does not handle well wrappers; work is being done to developed a general algorithm."),r.a.createElement("p",{className:"lead"},"Press ",r.a.createElement("span",{className:"badge badge-info"},"Grouped")," to see the grouped by date-member graph representation of the experiment."),r.a.createElement("p",null,"If the experiment instance cannot be handled by graphviz, then it would not be possible to group it. Again, work is being done to overcome this."),r.a.createElement("p",{className:"lead"},"If the experiment is"," ",r.a.createElement("span",{className:"badge badge-success"},"RUNNING")," and the Graph has been rendered, press"," ",r.a.createElement("span",{className:"badge badge-dark"},"Start Job Monitor")," to start a live tracker of the changes on the experiment's jobs. This process will automatically update the graph's nodes colors and show a log of the detected changes."),r.a.createElement("p",{className:"lead"},"If there are any defined wrappers, they will be shown on the corresponding tab at the right side of the Graph. You can click on any member of that list and the nodes belonging to that wrapper will be highlighted."));var e=[],t=[],a=this.props.data.graphviz,l=this.props.data.groups,c=this.props.data.groups_data,u=this.props.current_grouped;if(!(this.props.data.nodes.length>0&&null!==this.props.data.edges))return r.a.createElement("div",{className:"card-body text-left",style:P},r.a.createElement("p",{className:"lead"},"Something has gone very wrong."),r.a.createElement("p",{className:"lead text-danger"},this.props.data.error_message));!0===a?this.props.data.nodes.map((function(t){return e.push({id:t.id,label:t.label,shape:t.shape,color:{background:t.status_color,border:"black"},status:t.status,x:t.x,y:t.y,shapeProperties:{borderDashes:t.dashed}})})):this.props.data.nodes.map((function(t){return e.push({id:t.id,label:t.label,shape:t.shape,color:{background:t.status_color,border:"black"},status:t.status,shapeProperties:{borderDashes:t.dashed},x:t.x,y:t.y})})),this.props.data.edges&&this.props.data.edges.map((function(e){return t.push({id:e.id,from:e.from,to:e.to,dashes:e.dashed,background:{enabled:e.is_wrapper,color:"rgba(63, 191, 63, 0.5)"},arrows:{to:{enabled:!e.dashed}}})})),this.props.data.fake_edges&&this.props.data.fake_edges.map((function(e){return t.push({id:e.id,from:e.from,to:e.to,dashes:e.dashed,background:{enabled:e.is_wrapper,color:"rgba(63, 191, 63, 0.5)"},arrows:{to:{enabled:!e.dashed}}})}));var d=new k.a.DataSet(e),p=new k.a.DataSet(t),E=!1;this.props.data.total_jobs<=500&&(E=!0);var b={autoResize:!0,edges:{arrows:{to:{enabled:!0}}},layout:{improvedLayout:!1,hierarchical:{nodeSpacing:190,blockShifting:!1,edgeMinimization:E,parentCentralization:!0,sortMethod:"hubsize",direction:"UD",enabled:!1}},interaction:{dragNodes:!0,hoverConnectedEdges:!0,hideEdgesOnDrag:!0,multiselect:!0,navigationButtons:!0},physics:{enabled:!1,stabilization:{enabled:!0,iterations:1e3}},nodes:{shape:"dot",font:{size:10}}},g={nodes:d,edges:p},f=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return!0===this.props.shouldUpdateGraph}},{key:"componentDidMount",value:function(){var e=this,t=new k.a.Network(this.refs.myRef,this.props.graph,this.props.options),a=this.props.groups_data,n=this.props.current_grouped;if(this.props.setVisNetwork(t),t.on("select",(function(a){a.nodes&&1===a.nodes.length&&(t.isCluster(a.nodes[0])||(e.props.updateSelection(a.nodes),e.props.updateCurrentSelected(a.nodes[0],e.props.data)))})),t.on("doubleClick",(function(e){if(e.nodes&&1===e.nodes.length&&t.isCluster(e.nodes[0])){var a={releaseFunction:function(e,t){return t}};t.openCluster(e.nodes[0],a)}})),this.props.clusterGroups){var r=this.props.clusterGroups;if("date-member"===n)for(var l,c=0;c<r.length;c++){var s=r[c];l={joinCondition:function(e){return e.id.startsWith(s)},processProperties:function(e,t,a){for(var n=0,r=0;r<t.length;r++)n+=t[r].mass;return e.mass=n,e},clusterNodeProperties:{id:"cluster:"+s,borderWidth:3,shape:"box",label:s.split("_").join("\n"),color:a[s].color,font:{size:50},x:a[s].x,y:a[s].y}},t.clustering.cluster(l)}else if("status"===n)for(var o,i=0;i<r.length;i++){var m=r[i];o={joinCondition:function(e){return e.status===m&&"dot"===e.shape},processProperties:function(e,t,a){for(var n=0,r=0;r<t.length;r++)n+=t[r].mass;return e.mass=n,e},clusterNodeProperties:{id:m,borderWidth:3,shape:"box",label:m,color:a[m].color,font:{size:50}}},t.clustering.cluster(o)}}this.props.navigateAfterLoadGraph(this.props.experimentRunning)}},{key:"componentWillUnmount",value:function(){this.props.cleanNavData()}},{key:"render",value:function(){return r.a.createElement("div",{className:"card-body p-0"},r.a.createElement("div",{ref:"myRef",style:P}))}}]),a}(n.Component);return r.a.createElement(f,{data:this.props.data,graph:g,options:b,updateSelection:this.props.updateSelection,shouldUpdateGraph:this.props.shouldUpdateGraph,setVisNetwork:this.props.setVisNetwork,cleanNavData:this.props.cleanNavData,isGraphViz:a,clusterGroups:l,groups_data:c,current_grouped:u,experimentRunning:this.props.experimentRunning,navigateAfterLoadGraph:this.props.navigateAfterLoadGraph,updateCurrentSelected:this.props.updateCurrentSelected,updateGraphSelectedNodes:this.props.updateGraphSelectedNodes})}}]),a}(n.Component),P={height:755},Q=U,M=Object(n.createContext)(),Y=function(e){var t=new Date(1e3*e),a=t.getHours(),n="0"+t.getMinutes(),r="0"+t.getSeconds(),l=t.getMonth()+1;return"["+t.getDate()+"/"+l+"] "+a+":"+n.substr(-2)+":"+r.substr(-2)},H=function(e){if(e>0){var t=e,a=Math.floor(t/3600),n=Math.floor((t-3600*a)/60),r=t-3600*a-60*n;return a<10&&(a="0"+a),n<10&&(n="0"+n),r<10&&(r="0"+r),a+":"+n+":"+r}return"0:00:00"},V=function(e){return e<=2e3?1:Math.round(.005*e-37)},J=function(e){var t=e.source,a=e.target,l=Object(n.useContext)(M),c=Object(n.useContext)(E),s=c.currentSelected,o=c.setCurrentCommand,i=c.experiment,m=c.currentCommand,u=l.graphSelectedNodes,d=l.setCurrentCommandGraph,p=l.currentCommandGraph,b=null;i&&(b=i.expid);var g="graph-only"===t?u:s,h="graph-only"===t?p:m,f="graph-only"===t?"Invalid Selection: You have to select at least one job from the Graph. You can select multiple jobs.":"Invalid Selection: You have to select at least one job.",N=function(e){return function(a){a.preventDefault();var n="";"graph-only"===t?(n=function(e,t,a){var n="Invalid Command: You have to select at least one job.";return t.length>0&&(n="autosubmit setstatus "+e+' -fl "'+t.join(" ")+'" -t '+a+" -s -nt -np"),n}(b,g,e),v(n),d(n)):(n=function(e,t,a){var n=[],r="Invalid Command: You have to select at least one job.";return t.map((function(e){return n.push(e.name)})),n.length>0&&(r="autosubmit setstatus "+e+' -fl "'+n.join(" ")+'" -t '+a+" -s -nt -np"),r}(b,g,e),v(n),o(n))}},v=function(e){window.copyTextToClipboard(e)},A=r.a.createElement("div",{className:"col-12"},f);return g&&g.length>0&&(A=r.a.createElement("div",{className:"col-12"},"Set status to:"," ",r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Status"},r.a.createElement("button",{className:"btn btn-sm",style:{background:"lightblue"},onClick:N("READY")},"Ready"),r.a.createElement("button",{className:"btn btn-sm btn-secondary",onClick:N("WAITING")},"Waiting"),r.a.createElement("button",{className:"btn btn-sm",style:{background:"yellow"},onClick:N("COMPLETED")},"Completed"),r.a.createElement("button",{className:"btn btn-sm",style:{background:"orange"},onClick:N("SUSPENDED")},"Suspended"),r.a.createElement("button",{className:"btn btn-sm btn-danger",onClick:N("FAILED")},"Failed")))),r.a.createElement("div",{className:"modal fade",id:"command"+a,tabIndex:"-1",role:"dialog","aria-labelledby":"commandTitle"+a,"aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content",style:{width:"600px"}},r.a.createElement("div",{className:"modal-body pb-1"},r.a.createElement("div",{className:"row"},A),r.a.createElement("div",{className:"row mt-2 mx-1"},r.a.createElement("div",{className:"col-12",style:{fontFamily:"Courier",background:"black",color:"white"}},h&&r.a.createElement("div",{className:"p-2"},JSON.parse(JSON.stringify(h)))))),h&&h.length>0&&r.a.createElement("div",{className:"row mx-1 mb-2 float-left"},r.a.createElement("div",{className:"col-12"},"The command has been copied to the clipboard. Paste it in your terminal.")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-dark","data-dismiss":"modal"},"Close")))))},W=function(e){var t=e.source,a=e.target,l=Object(n.useContext)(E),c=l.currentSelected,s=l.removeSelectedJob,o=l.canSelect;return!0===o?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"card p-0 m-0"},r.a.createElement("div",{className:"card-header text-center p-0 m-0"},r.a.createElement("button",{className:"btn btn-info btn-sm my-0 py-0","data-toggle":"modal","data-target":"#command"+a},r.a.createElement("strong",null,"Generate Command"))),r.a.createElement("div",{className:"card-body"},c&&c.sort((function(e,t){return e.name>t.name?-1:1})).map((function(e){return r.a.createElement("button",{key:e.name,type:"button",className:"btn btn-sm m-1 p-1",style:{background:e.color},onClick:(t=e.name,function(e){e.preventDefault(),s(t)})},r.a.createElement("small",null,e.name));var t})))),r.a.createElement(J,{source:t,target:a})):r.a.createElement("div",{className:"card"})},K=a(48),q=a.n(K),Z=a(49),z=a.n(Z),X=Object(n.createContext)(),$=Object(n.createContext)(),ee=function(e){var t=e.loadsource,a=Object(n.useContext)(X),l=Object(n.useContext)($),c=Object(n.useContext)(E),s=c.expectedLoadingTreeTime,o=c.expectedLoadingQuickView,i=a.increaseElapsedLoadingTree,m=a.elapsedLoadingTree,u=l.increaseElapsedLoadingQuickView,d=l.elapsedLoadingQuickView,p="tree"===t?i:u,b="tree"===t?m:d,g="tree"===t?s:o,h="tree"===t?"Fetching this tree view will take about "+g+" seconds.":"Loading this not-so-quick view will take about "+g+" seconds.";return Object(n.useEffect)((function(){var e=setInterval((function(){p()}),1e3);return function(){return clearInterval(e)}}),[]),r.a.createElement("div",{className:"pb-4 text-center"},g>240&&r.a.createElement("p",null,"This experiment might be too heavy to fetch in due time. If an error message is prompted, try the ",r.a.createElement("b",null,"Quick View"),"."),r.a.createElement("p",null,h),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-bar",role:"progressbar",style:{width:g>0&&b<=g?b/g*100+"%":"100%"},"aria-valuenow":b,"aria-valuemin":"0","aria-valuemax":g},b)))))},te=function(e){var t=e.source,a=Object(n.useContext)(E),l=a.expectedLoadingTreeTime,c=a.expectedLoadingQuickView,s="tree"===t?l:c,o="tree"===t?q.a:z.a;return s>1?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-4"},r.a.createElement("img",{src:o,alt:"Loading...",style:{width:"200px",margin:"auto",display:"block"}}))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-4"},r.a.createElement(ee,{loadsource:t}))))):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(h,null)))},ae=(a(62),a(32),a(33),a(34),a(35),a(16)),ne=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return e.treedata!==this.props.treedata||e.loadingTree!==this.props.loadingTree}},{key:"componentWillUnmount",value:function(){this.props.cleanTreeData()}},{key:"componenteDidMount",value:function(){}},{key:"render",value:function(){if(this.props.loadingTree)return r.a.createElement(te,{source:"tree"});if(!this.props.treedata)return r.a.createElement("div",{className:"card-body text-left",style:re},r.a.createElement("p",{className:"lead"},"Press ",r.a.createElement("span",{className:"badge badge-info"},"Show")," to see the tree view representation of the experiment."),r.a.createElement("p",{className:"lead"},"Repeating subtrees in the tree view are only shown once, use the searcher to focus only on those items."));if(!0===this.props.treedata.error)return r.a.createElement("div",{className:"card-body text-left",style:re},r.a.createElement("p",{className:"lead"},"Something has gone very wrong."),r.a.createElement("p",{className:"lead text-danger"},this.props.treedata.error_message));var e=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new ae.createTree("#tree",{activate:function(t,a){a&&(e.props.updateSelectionTree(a),a&&a.node&&void 0===a.node.folder&&e.props.updateCurrentSelected(a.node.refKey,e.props.originaldata))},extensions:["filter","childcounter","clones"],filter:{autoApply:!0,autoExpand:!0,counter:!0,fuzzy:!1,hideExpandedCounter:!0,hideExpanders:!1,highlight:!1,leavesOnly:!0,nodata:!0,mode:"hide"},source:this.props.treedata});this.props.setFancyTree(t)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"card-body p-0"},r.a.createElement("div",{id:"tree"}))}}]),a}(n.Component);return r.a.createElement(e,{treedata:this.props.treedata.tree,originaldata:this.props.treedata,setFancyTree:this.props.setFancyTree,updateSelectionTree:this.props.updateSelectionTree,updateCurrentSelected:this.props.updateCurrentSelected,canSelect:this.props.canSelect})}}]),a}(n.Component),re={height:750},le=ne,ce=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return e.data!==this.props.data||e.loadingView!==this.props.loadingView}},{key:"componentWillUnmount",value:function(){this.props.cleanLoadingLighterView()}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){if(this.props.loadingView)return r.a.createElement(te,{source:"lighter"});if(!this.props.data)return r.a.createElement("div",{className:"card-body text-left",style:se},r.a.createElement("p",{className:"lead"},"Press ",r.a.createElement("span",{className:"badge badge-info"},"View")," to see the light-version of the experiment representation."),r.a.createElement("p",{className:"lead"},"Use the search tool."));if(!0===this.props.data.error)return r.a.createElement("div",{className:"card-body text-left",style:se},r.a.createElement("p",{className:"lead"},"Something has gone very wrong."),r.a.createElement("p",{className:"lead text-danger"},this.props.data.error_message));var e=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=new ae.createTree("#light_tree",{extensions:["filter","childcounter"],filter:{autoApply:!0,autoExpand:!0,counter:!0,fuzzy:!1,hideExpandedCounter:!0,hideExpanders:!1,highlight:!1,leavesOnly:!0,nodata:!0,mode:"hide"},source:this.props.tree_data});this.props.setLighterFancyTree(e)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"card-body p-0"},r.a.createElement("div",{id:"light_tree"}))}}]),a}(n.Component);return r.a.createElement(e,{tree_data:this.props.data.tree_view,originaldata:this.props.data,setLighterFancyTree:this.props.setLighterFancyTree})}}]),a}(n.Component),se={height:750},oe=ce,ie=Object(n.createContext)(),me={height:360},ue={height:30},de=function(){var e=Object(n.useContext)(E),t=Object(n.useContext)(M),a=e.experiment,l=t.data,c=t.selection,s="",o=null,i=function(e){return function(t){t.preventDefault(),window.copyToClip(e)}};return c&&(c.map((function(e){return s=e})),o=l.nodes.find((function(e){return e.id===s}))),r.a.createElement(n.Fragment,null,o&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card text-white bg-info",style:me},r.a.createElement("div",{className:"card-header text-center p-0",style:ue},r.a.createElement("div",{className:"mh-100 px-0 mx-0"},r.a.createElement("small",null,r.a.createElement("strong",null,o.id)))),r.a.createElement("div",{className:"card-body py-0"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("small",null,r.a.createElement("strong",null,"Start:")," ",o.date)),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("small",null,r.a.createElement("strong",null,"End:")," ",o.date_plus))),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("small",null,r.a.createElement("strong",null,"Section:")," ",o.section)))),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("small",null,r.a.createElement("strong",null,"Member:")," ",o.member)),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("small",null,r.a.createElement("strong",null,"Chunk:")," ",o.chunk)))),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("small",null,r.a.createElement("strong",null,"Platform:")," ",o.platform_name&&o.platform_name," ",!o.platform_name&&a.hpc,o.rm_id&&r.a.createElement("span",null,r.a.createElement("strong",null," \xa0 Id: "),o.rm_id))))),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("small",null,r.a.createElement("strong",null,"Processors:")," ",o.processors)),r.a.createElement("div",{className:"col-6"},r.a.createElement("small",null,r.a.createElement("strong",null,"Wallclock:")," ",o.wallclock)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"}," ",o.minutes_queue>=0&&r.a.createElement("span",{className:"badge text-center",style:{width:"100%",backgroundColor:"SUBMITTED"===o.status?"cyan":"pink",color:"black"}},r.a.createElement("small",null,"SUBMITTED"===o.status?"Submit":"Queue",":")," ",H(o.minutes_queue))),r.a.createElement("div",{className:"col-md-6"},o.minutes>=0&&["RUNNING","COMPLETED","FAILED"].includes(o.status)&&r.a.createElement("span",{className:"badge badge-success text-center ml-1",style:{width:"100%"}},r.a.createElement("small",null,"Run:")," ",H(o.minutes)," "))),r.a.createElement("div",{className:"row py-1"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("span",{className:"badge text-center",style:{width:"100%",backgroundColor:o.status_color,color:"RUNNING"===o.status?"white":"black"}},"Status:",r.a.createElement("strong",null," ",o.status))),r.a.createElement("div",{className:"col-md-3 px-1"},o.children_list&&o.children_list.length>0&&r.a.createElement("button",{className:"btn btn-dark btn-sm btn-block","data-toggle":"modal","data-target":"#childrenList"},r.a.createElement("small",null,r.a.createElement("strong",null,"Out:")," ",o.children)),o.children_list&&0===o.children_list.length&&r.a.createElement("small",null,r.a.createElement("strong",null,"Out:")," ",o.children)),r.a.createElement("div",{className:"col-md-3 px-1"},o.parent_list&&o.parent_list.length>0&&r.a.createElement("button",{className:"btn btn-dark btn-sm btn-block","data-toggle":"modal","data-target":"#parentList"},r.a.createElement("small",null,r.a.createElement("strong",null,"In:")," ",o.parents)),o.parent_list&&0===o.parent_list.length&&r.a.createElement("small",null,r.a.createElement("strong",null,"In:")," ",o.parents))),r.a.createElement("div",null,o.out&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 px-0"},r.a.createElement("form",{onSubmit:i("g_out"),className:"form"},r.a.createElement("div",{className:"input-group input-group-sm"},r.a.createElement("input",{className:"form-control py-0",type:"text",value:o.out,id:"g_out",readOnly:!0}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("input",{type:"submit",className:"btn btn-light btn-sm py-0",value:"Copy out"})))))),o.err&&r.a.createElement("div",{className:"row mt-1"},r.a.createElement("div",{className:"col-12 px-0"},r.a.createElement("form",{onSubmit:i("g_err"),className:"form"},r.a.createElement("div",{className:"input-group input-group-sm"},r.a.createElement("input",{className:"form-control py-0",type:"text",value:o.err,id:"g_err",readOnly:!0}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("input",{type:"submit",className:"btn btn-light btn-sm py-0",value:"Copy err"}))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("table",null,r.a.createElement("tbody",null,null!==o.submit&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("small",null,"Submit:")),r.a.createElement("td",null,r.a.createElement("span",{className:"badge badge-dark"},o.submit))),null!==o.start&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("small",null,"Start:")),r.a.createElement("td",null,r.a.createElement("span",{className:"badge badge-dark"},o.start))),null!==o.finish&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("small",null,"Finish:")),r.a.createElement("td",null,r.a.createElement("span",{className:"badge badge-dark"},o.finish)))))))))))),!o&&l&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card text-white bg-info",style:me},r.a.createElement("div",{className:"card-header text-center py-0"},r.a.createElement("small",null,"Here goes the Job Id")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"text-center"},r.a.createElement("small",null,"Select a Node to see more information.")))))),o&&o.children_list&&o.children_list.length>0&&r.a.createElement("div",{className:"modal fade",id:"childrenList",tabIndex:"-1",role:"dialog","aria-labelledby":"childrenListTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"childrenListTitle"},"Children List"),r.a.createElement("button",{className:"close",type:"button","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("ul",null,o.children_list.map((function(e,t){return r.a.createElement("li",{key:t},e)})))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"))))),o&&o.parent_list&&o.parent_list.length>0&&r.a.createElement("div",{className:"modal fade",id:"parentList",tabIndex:"-1",role:"dialog","aria-labelledby":"parentListTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"parentListTitle"},"Parent List"),r.a.createElement("button",{className:"close",type:"button","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("ul",null,o.parent_list.map((function(e,t){return r.a.createElement("li",{key:t},e)})))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"))))))},pe={height:430},Ee={height:30},be=function(){var e=Object(n.useContext)(E),t=Object(n.useContext)(X),a=e.experiment,l=t.selectedTreeNode,c=t.treedata,s=null;if(l&&l.node&&l.node.refKey){var o=l.node.refKey;s=c&&c.jobs?c.jobs.find((function(e){return e.id===o})):null}else s=null;var i=function(e){return function(t){t.preventDefault(),window.copyToClip(e)}};return r.a.createElement(n.Fragment,null,s&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"col-12 px-0"},r.a.createElement("div",{className:"card text-white bg-info",style:pe},r.a.createElement("div",{className:"card-header text-center p-0",style:Ee},r.a.createElement("div",{className:"mh-100 px-0 mx-0"},r.a.createElement("small",null,r.a.createElement("strong",null,s.id)))),r.a.createElement("div",{className:"card-body py-0"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("small",null,r.a.createElement("strong",null,"Start:")," ",s.date)),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("small",null,r.a.createElement("strong",null,"End:")," ",s.date_plus))),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("small",null,r.a.createElement("strong",null,"Section:")," ",s.section)))),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("small",null,r.a.createElement("strong",null,"Member:")," ",s.member)),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("small",null,r.a.createElement("strong",null,"Chunk:")," ",s.chunk)))),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("small",null,r.a.createElement("strong",null,"Platform:")," ",s.platform_name&&s.platform_name," ",!s.platform_name&&a.hpc,s.rm_id&&r.a.createElement("span",null,r.a.createElement("strong",null," \xa0 Id: "),s.rm_id))))),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("small",null,r.a.createElement("strong",null,"Processors:")," ",s.processors)),r.a.createElement("div",{className:"col-6"},r.a.createElement("small",null,r.a.createElement("strong",null,"Wallclock:")," ",s.wallclock)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"}," ",s.minutes_queue>=0&&r.a.createElement("span",{className:"badge text-center",style:{width:"100%",backgroundColor:"SUBMITTED"===s.status?"cyan":"pink",color:"black"}},r.a.createElement("small",null,"SUBMITTED"===s.status?"Submit":"Queue",":")," ",H(s.minutes_queue))),r.a.createElement("div",{className:"col-md-6"},s.minutes>=0&&["RUNNING","COMPLETED","FAILED"].includes(s.status)&&r.a.createElement("span",{className:"badge badge-success text-center ml-1",style:{width:"100%"}},r.a.createElement("small",null,"Run:")," ",H(s.minutes)," "))),r.a.createElement("div",{className:"row py-1"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("span",{className:"badge text-center",style:{width:"100%",backgroundColor:s.status_color,color:"RUNNING"===s.status?"white":"black"}},"Status:",r.a.createElement("strong",null," ",s.status))),r.a.createElement("div",{className:"col-md-3 px-1"},s.children_list&&s.children_list.length>0&&r.a.createElement("button",{className:"btn btn-dark btn-sm btn-block","data-toggle":"modal","data-target":"#childrenList-tree"},r.a.createElement("small",null,r.a.createElement("strong",null,"Out:")," ",s.children)),s.children_list&&0===s.children_list.length&&r.a.createElement("small",null,r.a.createElement("strong",null,"Out:")," ",s.children)),r.a.createElement("div",{className:"col-md-3 px-1"},null!==s.parent_list&&s.parents>0&&r.a.createElement("button",{className:"btn btn-dark btn-sm btn-block","data-toggle":"modal","data-target":"#parentList-tree"},r.a.createElement("small",null,r.a.createElement("strong",null,"In:")," ",s.parents)),null!==s.parent_list&&0===s.parents&&r.a.createElement("small",null,r.a.createElement("strong",null,"In:")," ",s.parents))),r.a.createElement("div",null,s.out&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 px-0"},r.a.createElement("form",{onSubmit:i("g_out_t"),className:"form"},r.a.createElement("div",{className:"input-group input-group-sm"},r.a.createElement("input",{className:"form-control py-0",type:"text",value:s.out,id:"g_out_t",readOnly:!0}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("input",{type:"submit",className:"btn btn-light btn-sm py-0",value:"Copy out"})))))),s.err&&r.a.createElement("div",{className:"row mt-1"},r.a.createElement("div",{className:"col-12 px-0"},r.a.createElement("form",{onSubmit:i("g_err_t"),className:"form"},r.a.createElement("div",{className:"input-group input-group-sm"},r.a.createElement("input",{className:"form-control py-0",type:"text",value:s.err,id:"g_err_t",readOnly:!0}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("input",{type:"submit",className:"btn btn-light btn-sm py-0",value:"Copy err"}))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("table",null,r.a.createElement("tbody",null,null!==s.submit&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("small",null,"Submit:")),r.a.createElement("td",null,r.a.createElement("span",{className:"badge badge-dark"},s.submit))),null!==s.start&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("small",null,"Start:")),r.a.createElement("td",null,r.a.createElement("span",{className:"badge badge-dark"},s.start))),null!==s.finish&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("small",null,"Finish:")),r.a.createElement("td",null,r.a.createElement("span",{className:"badge badge-dark"},s.finish))))))),null!==s.wrapper&&s.wrapper.length>0&&r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("small",null,r.a.createElement("strong",null,"Wrapper:")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("small",null,s.wrapper)))))))),!s&&c&&c.jobs&&r.a.createElement("div",{className:"col-12 px-0"},r.a.createElement("div",{className:"card text-white bg-info",style:pe},r.a.createElement("div",{className:"card-header text-center py-0"},r.a.createElement("small",null,"Here goes the Job Id")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"text-center"},r.a.createElement("small",null,"Select a Node to see more information."))))),s&&s.children_list&&s.children_list.length>0&&r.a.createElement("div",{className:"modal fade",id:"childrenList-tree",tabIndex:"-1",role:"dialog","aria-labelledby":"childrenListTitle-tree","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"childrenListTitle-tree"},"Children List"),r.a.createElement("button",{className:"close",type:"button","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("ul",null,s.children_list.map((function(e,t){return r.a.createElement("li",{key:t},e)})))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"))))),s&&s.parent_list&&s.parent_list.length>0&&r.a.createElement("div",{className:"modal fade",id:"parentList-tree",tabIndex:"-1",role:"dialog","aria-labelledby":"parentListTitle-tree","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"parentListTitle-tree"},"Parent List"),r.a.createElement("button",{className:"close",type:"button","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("ul",null,s.parent_list.map((function(e,t){return r.a.createElement("li",{key:t},e)})))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"))))))},ge=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).rundata=null,n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getExperimentRun(this.props.experiment.expid),this.props.experimentRunning&&(this.interval=setInterval((function(){return e.props.getExperimentRun(e.props.experiment.expid)}),1e3*this.props.experiment.updateTime))}},{key:"componentWillUnmount",value:function(){this.props.cleanRunData(),this.props.experimentRunning&&clearInterval(this.interval)}},{key:"componentDidUpdate",value:function(){window.scrollToBottom()}},{key:"render",value:function(){if(null===this.props.rundata)return r.a.createElement(n.Fragment,null,r.a.createElement("div",null,"Loading..."));var e=this.props.rundata,t=e.logcontent,a=e.error,l=e.error_message,c=e.found,s=e.logfile,o=e.lastModified,i=e.timeStamp,m=t.map((function(e){return r.a.createElement("li",{key:e.index},r.a.createElement("small",null,e.content))}));return a?r.a.createElement(n.Fragment,null,r.a.createElement("div",null,l),r.a.createElement("br",null),r.a.createElement("hr",null)):c?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"row px-1"},r.a.createElement("div",{className:"col-6 text-left"},r.a.createElement("small",null,"Logfile: ",s)," ",r.a.createElement("small",{className:"text-muted"},"(",i,")")),r.a.createElement("div",{className:"col-6 text-right"},r.a.createElement("small",null,"Last Modified: ",o))),r.a.createElement("pre",{className:"bash mb-0 scroll",id:"log_scroll"},r.a.createElement("ul",{style:he,className:"p-1 mb-0 ul-2"},m)),r.a.createElement("div",{className:"text-muted text-center"},r.a.createElement("small",null,"Showing last 150 lines.")))):r.a.createElement(n.Fragment,null,r.a.createElement("div",null,"Running log not found. This experiment might not be currently running on Autosubmit."),r.a.createElement("br",null),r.a.createElement("hr",null))}}]),a}(n.Component),he={listStyleType:"none"},fe=ge,Ne=a(24),ve=a.n(Ne),Ae=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.experiment&&(this.props.getExperimentPkl(this.props.experiment.expid,this.props.experiment.pkl_timestamp),this.props.experimentRunning&&(this.interval=setInterval((function(){return e.props.getExperimentPkl(e.props.experiment.expid,e.props.experiment.pkl_timestamp)}),2e3*this.props.experiment.updateTime)))}},{key:"componentWillUnmount",value:function(){this.props.cleanPklData(),this.props.experimentRunning&&clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.loadingPkl,a=e.pklchanges,n=e.notificationTitleGraph,l=e.setNotificationTitleGraph;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header text-center py-0"},r.a.createElement("small",null,"Monitoring jobs...")),r.a.createElement("div",{className:"card-body p-0"},a&&r.a.createElement("pre",{className:"scroll-y mb-0"},a),t&&r.a.createElement("small",null,"Loading...")))),n&&r.a.createElement(ve.a,{title:n,onClose:function(){return l(null)},onPermissionDenied:function(){return console.log("Permission Denied.")}}))}}]),a}(n.Component),ye=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.experiment&&(this.props.getExperimentTreePkl(this.props.experiment.expid,this.props.experiment.pkl_timestamp),this.props.experimentRunning&&(this.interval=setInterval((function(){return e.props.getExperimentTreePkl(e.props.experiment.expid,e.props.experiment.pkl_timestamp)}),2e3*this.props.experiment.updateTime)))}},{key:"componentWillUnmount",value:function(){this.props.cleanPklTreeData(),this.props.experimentRunning&&clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.loadingTreePkl,a=e.pkltreechanges,n=e.notificationTitleTree,l=e.setNotificationTitleTree;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header text-center py-0"},r.a.createElement("small",null,"Monitoring jobs...")),r.a.createElement("div",{className:"card-body p-0"},a&&r.a.createElement("pre",{className:"scroll-y-tree mb-0"},a),t&&r.a.createElement("small",null,"Loading...")))),n&&r.a.createElement(ve.a,{title:n,onClose:function(){return l(null)},onPermissionDenied:function(){return console.log("Permission Denied.")}}))}}]),a}(n.Component),Te=function(){var e=Object(n.useContext)(M).navToLatest,t=function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){n.preventDefault(),e(t,a)}};return r.a.createElement("div",{className:"row card-body py-1"},r.a.createElement("div",{className:"col-1 px-1"},r.a.createElement("form",{onSubmit:t(0,!1),className:"form"},r.a.createElement("input",{type:"submit",value:"Waiting",className:"btn btn-block btn-sm",style:D}))),r.a.createElement("div",{className:"col-1 px-1"},r.a.createElement("form",{onSubmit:t(1),className:"form"},r.a.createElement("input",{type:"submit",value:"Ready",className:"btn btn-block btn-sm",style:I}))),r.a.createElement("div",{className:"col-1 px-1"},r.a.createElement("form",{onSubmit:t(7),className:"form"},r.a.createElement("input",{type:"submit",value:"Prepared",className:"btn btn-block btn-sm",style:F}))),r.a.createElement("div",{className:"col-1 px-1"},r.a.createElement("form",{onSubmit:t(2),className:"form"},r.a.createElement("input",{type:"submit",value:"Submitted",className:"btn btn-block btn-sm",style:j}))),r.a.createElement("div",{className:"col-1 px-1"},r.a.createElement("form",{onSubmit:t(3),className:"form"},r.a.createElement("input",{type:"submit",value:"Queue",className:"btn btn-block btn-sm",style:C}))),r.a.createElement("div",{className:"col-1 px-1"},r.a.createElement("form",{onSubmit:t(4),className:"form"},r.a.createElement("input",{type:"submit",value:"Running",className:"btn btn-block btn-sm",style:R}))),r.a.createElement("div",{className:"col-1 px-1"},r.a.createElement("form",{onSubmit:t(5),className:"form"},r.a.createElement("input",{type:"submit",value:"Completed",className:"btn btn-block btn-sm",style:_}))),r.a.createElement("div",{className:"col-1 px-1"},r.a.createElement("form",{onSubmit:t(-1),className:"form"},r.a.createElement("input",{type:"submit",value:"Failed",className:"btn btn-block btn-sm",style:O}))),r.a.createElement("div",{className:"col-1 px-1"},r.a.createElement("form",{onSubmit:t(-3),className:"form"},r.a.createElement("input",{type:"submit",value:"Suspended",className:"btn btn-block btn-sm",style:B}))),r.a.createElement("div",{className:"col-1 px-1"},r.a.createElement("form",{onSubmit:t(-2),className:"form"},r.a.createElement("input",{type:"submit",value:"Unknown",className:"btn btn-block btn-sm",style:G}))),r.a.createElement("div",{className:"col-1 px-1"},r.a.createElement("form",{onSubmit:t(6),className:"form"},r.a.createElement("input",{type:"submit",value:"Hold",className:"btn btn-block btn-sm",style:L}))),r.a.createElement("div",{className:"col-1 px-1 text-left"},r.a.createElement("small",null," \u2190 CLICKABLE ")))},xe=a(50),we=function(){var e=Object(n.useContext)(ie),t=Object(n.useContext)(E),a=e.getExperimentStats,l=e.statdata,c=e.loading,s=e.clearStats,o=e.isError,i=e.errorMessage,m=e.totaldata,u=e.ticksdata,d=t.experiment,b={chartArea:{width:"90%",height:"700px"},hAxis:{title:"Jobs",ticks:u},vAxis:{title:"Hours"},legend:{position:"top"},explorer:{actions:["dragToZoom","rightClickToReset"],axis:"horizontal"}},g=null;m&&m.stats&&m.stats.totals&&(g=m.stats.totals.map((function(e,t){return r.a.createElement("li",{key:t},e)})));var f=Object(n.useState)(""),N=Object(p.a)(f,2),v=N[0],A=N[1],y=Object(n.useState)(""),T=Object(p.a)(y,2),x=T[0],w=T[1];return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 offset-md-4 text-center"},!l&&d&&!1===t.loading&&r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(d.expid,v,x)},className:"form"},r.a.createElement("div",{className:"input-group input-group-sm"},r.a.createElement("input",{className:"form-control",type:"text",name:"section",placeholder:"Section",onChange:function(e){return w(e.target.value)}}),r.a.createElement("input",{className:"form-control",type:"text",name:"hours",placeholder:"Hours",onChange:function(e){return A(e.target.value)}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("input",{type:"submit",value:"Get Statistics",className:"btn btn-info",disabled:c})))),l&&r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),A(""),w(""),s()},className:"form"},r.a.createElement("div",{className:""},r.a.createElement("input",{type:"submit",value:"Clear Statistics",className:"btn btn-dark btn-sm"})))),r.a.createElement("div",{className:"col-md-12"},!l&&d&&r.a.createElement("div",{className:"col-md-12 p-3"},r.a.createElement("p",{className:"lead"},"Supply a Section (Type) in the appropriate textbox to filter the jobs that will be included in the query. Also, you can also supply the Hours value that determines how many hours before the current time you want to query. Leave both empty and a query for Any Section since the date of creation of the experiment will be executed."),r.a.createElement("p",{className:"lead"},"Press ",r.a.createElement("span",{className:"badge badge-info"},"Get Statistics")," ","to generate the statistics, this will generate a Bar Chart and some extra statistics below. Drag the mouse inside the chart to zoom in; however, zoom in capabilities are not unlimited, so try to narrow your query.")),c&&r.a.createElement(h,null),l&&!o&&r.a.createElement(xe.a,{chartType:"ColumnChart",loader:r.a.createElement("div",null,"Loading Chart"),width:"100%",height:"700px",data:l,options:b}),l&&o&&r.a.createElement("div",{className:"col-md-12 text-center p-3"},i),m&&r.a.createElement("div",{className:"col-md-8 offset-md-4 mt-2"},m&&r.a.createElement("ul",{style:{listStyleType:"none"}},g&&g)))))},ke=function(e){var t=e.target,a=void 0===t?"manual-graph":t,l=Object(n.useContext)(M),c=Object(n.useContext)(E),s=l.selection,o=l.updateGraphSelectedNodes,i=c.canSelect;return s&&!i?r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"btn-sm btn-info",type:"button","data-toggle":"modal","data-target":"#command"+a,onClick:function(e){e.preventDefault(),o()}},r.a.createElement("strong",null,"Change Status")),r.a.createElement(J,{source:"graph-only",target:a})):null},Se=function(e){var t=e.source,a=Object(n.useContext)(E),l=Object(n.useContext)(M),c=Object(n.useContext)(X),s=Object(n.useContext)($),o=a.totalJobs,i=null;switch(t){case"tree":o!==c.treedata.total&&(i="The number of jobs in the experiment tree is different than the number of jobs in your current run. This might be due to a change in the config files of your experiment while Autosubmit was already running.");break;case"graph":o!==l.data.total_jobs&&(i="The number of jobs in the experiment graph is different than the number of jobs in your current run. This might be due to a change in the config files of your experiment while Autosubmit was already running.");break;case"lighter":o!==s.lightData.total&&(i="The number of jobs in the experiment quick representation is different than the number of jobs in your current run. This might be due to a change in the config files of your experiment while Autosubmit was already running.");break;default:i=null}return i&&null!==i?r.a.createElement("span",{className:"badge badge-danger","data-toggle":"tooltip","data-placement":"bottom",title:i},r.a.createElement("b",null,"ALERT")):null},Ce=function(){var e=Object(n.useContext)(M),t=e.searchJobInGraph,a=e.foundNodes,l=e.loadingSearchJob,c=e.data,s=e.navigateTo,o=Object(n.useState)(""),i=Object(p.a)(o,2),m=i[0],u=i[1],d=Object(n.useState)(""),E=Object(p.a)(d,2),b=E[0],g=E[1],h=function(e){return function(t){if(t.preventDefault(),a){var n=b+e;n>=0&&n<a.length?(s(a[n].id),g(n)):n<0?(s(a[a.length-1].id),g(a.length-1)):n>=a.length&&(s(a[0].id),g(0))}}};return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(m),g(0)},className:"form"},r.a.createElement("div",{className:"input-group input-group-sm"},r.a.createElement("input",{className:"form-control",type:"text",name:"section",placeholder:"Job Name (e.g. fc0_1_CLEAN)",onChange:function(e){return u(e.target.value)}}),l&&r.a.createElement("span",null,"Searching..."),!l&&r.a.createElement("div",{className:"input-group-append"},r.a.createElement("input",{type:"submit",value:"Search by Job Name",className:"btn btn-dark btn-sm"}))))),r.a.createElement("div",{className:"col-md-2 text-center"},a&&a.length>1&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn-sm btn-info",type:"button",onClick:h(-1)},"Previous"),r.a.createElement("button",{className:"btn-sm btn-info",type:"button",onClick:h(1)},"Next"),r.a.createElement("small",{className:"text-muted ml-2"},b+1," of ",a.length))),r.a.createElement("div",{className:"col-md-2"},r.a.createElement(ke,null)),r.a.createElement("div",{className:"col-md-4 text-right text-muted pr-4"},c&&r.a.createElement("small",null,"Max out: ",c.max_children," | Max in: ",c.max_parents," | Total #Jobs: ",c.total_jobs," ",r.a.createElement(Se,{source:"graph"})," | Chunk unit: ",r.a.createElement("strong",null,c.chunk_unit)," | Chunk size"," ",r.a.createElement("strong",null,c.chunk_size)," ")))},Oe=function(){var e=Object(n.useContext)(X),t=e.filterTreeView,a=e.treedata,l=e.loadingFilterTree,c=e.clearFilterTreeView,s=e.returnFilter,o=Object(n.useState)(""),i=Object(p.a)(o,2),m=i[0],u=i[1],d="Clear";return s&&s>=0&&(d="Clear Result"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 pr-1"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(m)},className:"form",autoComplete:"off"},r.a.createElement("div",{className:"input-group input-group-sm"},r.a.createElement("input",{className:"form-control",type:"text",name:"section",placeholder:"Filter text",onChange:function(e){return u(e.target.value)}}),l&&r.a.createElement("span",null,"Searching..."),!l&&r.a.createElement("div",{className:"input-group-append"},r.a.createElement("input",{type:"submit",value:"Filter",className:"btn btn-dark btn-sm"}))))),r.a.createElement("div",{className:"col-md-4 text-left pl-1"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c()},className:"form"},r.a.createElement("input",{type:"submit",value:d,className:"btn btn-info btn-sm"}))),r.a.createElement("div",{className:"col-md-4 text-right text-muted pr-4"},a&&a.jobs&&r.a.createElement("small",null,"Total #Jobs: ",a.total," ",r.a.createElement(Se,{source:"tree"})," | Chunk unit: ",r.a.createElement("strong",null,a.reference.chunk_unit)," | Chunk size:"," ",r.a.createElement("strong",null,a.reference.chunk_size)," ")))},_e={height:660},je={height:30},Re=function(){var e=Object(n.useContext)(E),t=Object(n.useContext)(M),a=e.experiment,l=t.data,c=t.navigateToGroup,s={},o=null,i=null;return a&&l&&l.packages&&Object.keys(l.packages).length>0&&(s=l.packages,i=(o=Object.keys(s)).map((function(e,t){return r.a.createElement("button",{className:"btn-sm btn-warning btn-block",type:"button",key:t,onClick:(a={wrapper:e},function(e){e.preventDefault(),s&&c(s[a.wrapper])})},r.a.createElement("small",null,e.split("_").slice(1).join("_")));var a}))),r.a.createElement("div",null,a&&s&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card text-white bg-info scroll",style:_e},r.a.createElement("div",{className:"card-header text-center p-0",style:je},r.a.createElement("div",{className:"mh-100 px-0 mx-0"},r.a.createElement("small",null,r.a.createElement("strong",null,"WRAPPERS")))),r.a.createElement("div",{className:"card-body py-0"},o&&i)))))},Ie=function(){var e=Object(n.useContext)(E),t=Object(n.useContext)(X),a=e.canSelect,l=e.activateSelectionMode,c=e.deactivateSelectionMode,s=t.setStartSelection;return!0===a?r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),c()}},r.a.createElement("input",{type:"submit",value:"Deactivate Selection Mode",className:"btn btn-danger btn-sm btn-block"})):r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),l(),s()}},r.a.createElement("input",{type:"submit",value:"Activate Selection Mode",className:"btn btn-info btn-sm btn-block"}))},De=function(){var e=Object(n.useContext)(E),t=Object(n.useContext)(M),a=e.experiment,l=e.experimentRunning,c=e.loadingJobMonitor,s=t.getExperimentGraph,o=t.data,i=t.getExperimentPkl,m=t.setAutoUpdatePkl,u=t.startAutoUpdatePkl,d=t.enabledGraphSearch,p=t.loadingPkl,b=!d||p,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"standard";return function(n){n.preventDefault(),s(a.expid,e,t)}};return r.a.createElement("div",{className:"card-header p-1"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},(c||p)&&r.a.createElement("div",null,"Querying...")),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("div",{className:"row justify-content-end"},a&&o&&r.a.createElement("div",{className:"col-md-2"},r.a.createElement(Ie,null)),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("form",{onSubmit:g(),className:"form"},r.a.createElement("input",{type:"submit",value:"Classic",className:"btn btn-info btn-block btn-sm",disabled:b}))),r.a.createElement("div",{className:"col-md-1"},r.a.createElement("form",{onSubmit:g("none","laplacian"),className:"form"},r.a.createElement("input",{type:"submit",value:"Laplacian",className:"btn btn-info btn-block btn-sm",disabled:b}))),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("form",{onSubmit:g("date-member"),className:"form"},r.a.createElement("input",{type:"submit",value:"Grouped by D-M",className:"btn btn-info btn-block btn-sm",disabled:b}))),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("form",{onSubmit:g("status"),className:"form"},r.a.createElement("input",{type:"submit",value:"Grouped by Status",className:"btn btn-info btn-block btn-sm",disabled:b}))),a&&o&&l&&!u&&r.a.createElement("div",{className:"col-md-1"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(a.expid,a.pkl_timestamp)},className:"form"},r.a.createElement("input",{type:"submit",value:"Refresh",className:"btn btn-success btn-block btn-sm",disabled:b}))),l&&o&&!u&&r.a.createElement("div",{className:"col-md-2"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m(!0)},className:"form"},r.a.createElement("input",{type:"submit",value:"Start Job Monitor",className:"btn btn-success btn-block btn-sm",disabled:b}))),l&&o&&u&&r.a.createElement("div",{className:"col-md-2"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m(!1)},className:"form"},r.a.createElement("input",{type:"submit",value:"Stop Job Monitor",className:"btn btn-danger btn-block btn-sm",disabled:b})))))))},Ge=function(){var e=Object(n.useContext)(E),t=e.experiment,a=e.startAutoUpdateRun,l=e.setAutoUpdateRun;return r.a.createElement("div",{className:"card-header p-1"},r.a.createElement("div",{className:"row justify-content-end"},r.a.createElement("div",{className:"col-md-2"},t&&!a&&r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(!0)},className:"form"},r.a.createElement("input",{type:"submit",value:"Show Log",className:"btn btn-dark btn-sm btn-block"})),t&&a&&r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(!1)},className:"form"},r.a.createElement("input",{type:"submit",value:"Hide Log",className:"btn btn-secondary btn-sm btn-block"})))))},Be=function(){var e=Object(n.useContext)(E),t=Object(n.useContext)(X),a=e.experiment,l=e.experimentRunning,c=t.treedata,s=t.getExperimentTree,o=t.cleanTreeData,i=t.enabledTreeSearch,m=t.getExperimentTreePkl,u=t.loadingTreeRefresh,d=t.setAutoUpdateTreePkl,p=t.startAutoUpdateTreePkl,b=t.loadingTreePkl,g=!i||b;return r.a.createElement("div",{className:"card-header p-1"},r.a.createElement("div",{className:"row justify-content-end"},(u||b)&&r.a.createElement("div",{className:"col text-left"},"Querying..."),a&&c&&r.a.createElement("div",{className:"col-md-2"},r.a.createElement(Ie,null)),a&&!c&&r.a.createElement("div",{className:"col-md-1"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s(a.expid)},className:"form"},r.a.createElement("input",{type:"submit",value:"Show",className:"btn btn-info btn-block btn-sm",disabled:g}))),a&&c&&!p&&r.a.createElement("div",{className:"col-md-1"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o()},className:"form"},r.a.createElement("input",{type:"submit",value:"Clear Tree",className:"btn btn-secondary btn-block btn-sm",disabled:g}))),a&&c&&l&&!p&&r.a.createElement("div",{className:"col-md-1"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m(a.expid,a.pkl_timestamp)},className:"form"},r.a.createElement("input",{type:"submit",value:"Refresh",className:"btn btn-success btn-block btn-sm",disabled:g}))),l&&c&&!p&&r.a.createElement("div",{className:"col-md-2"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),d(!0)},className:"form"},r.a.createElement("input",{type:"submit",value:"Start Job Monitor",className:"btn btn-success btn-block btn-sm",disabled:g}))),l&&c&&p&&r.a.createElement("div",{className:"col-md-2"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),d(!1)},className:"form"},r.a.createElement("input",{type:"submit",value:"Stop Job Monitor",className:"btn btn-danger btn-block btn-sm",disabled:g})))))},Le=function(){var e=Object(n.useContext)($),t=Object(n.useContext)(E),a=e.getLighterView,l=e.loadingView,c=e.lightData,s=e.filterLighterTreeView,o=e.loadingFilterTreeView,i=e.clearLighterFilterTreeView,m=e.filterCount,u=t.experiment,d=Object(n.useState)(""),b=Object(p.a)(d,2),g=b[0],h=b[1],f=function(e){e.preventDefault(),i()},N=function(e){return function(t){t.preventDefault(),s(e)}},v=c?"Refresh":"View",A="Clear";return m&&m>=0&&(A="Clear Result"),r.a.createElement("div",{className:"card-header p-1"},r.a.createElement("div",{className:"row justify-content-end"},c&&r.a.createElement("div",{className:"col"},r.a.createElement("button",{className:"btn-sm btn-secondary",onClick:f},c.total," total jobs"),c.completed>0&&r.a.createElement("button",{className:"btn-sm",type:"button",style:_,onClick:N("#COMPLETED"),disabled:o},c.completed," completed"),c.failed>0&&r.a.createElement("button",{className:"btn-sm",type:"button",style:O,onClick:N("#FAILED"),disabled:o},c.failed," failed"),c.running>0&&r.a.createElement("button",{className:"btn-sm",type:"button",style:R,onClick:N("#RUNNING"),disabled:o},c.running," running"),c.queuing>0&&r.a.createElement("button",{className:"btn-sm",type:"button",style:C,onClick:N("#QUEUING"),disabled:o},c.queuing," queuing")),c&&r.a.createElement(Se,{source:"lighter"}),c&&r.a.createElement("div",{className:"col-md"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s(g)},className:"form",autoComplete:"off"},o&&r.a.createElement("span",null,"Searching..."),!o&&r.a.createElement("div",{className:"input-group input-group-sm"},r.a.createElement("input",{className:"form-control",type:"text",name:"section",placeholder:"Filter View",onChange:function(e){return h(e.target.value)}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("input",{type:"submit",value:"Filter",className:"btn btn-dark btn-sm"}))))),c&&m>0&&r.a.createElement("div",{className:"col-md-1"},r.a.createElement("form",{onSubmit:f,className:"form"},r.a.createElement("input",{type:"submit",value:A,className:"btn btn-info btn-sm"}))),r.a.createElement("div",{className:"col-md-2"},u&&r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(u.expid)},className:"form"},r.a.createElement("input",{type:"submit",value:v,className:"btn btn-success btn-block btn-sm",disabled:l})))))},Fe=function(){var e=Object(n.useContext)(E),t=Object(n.useContext)(X),a=e.getExperimentPerformanceMetrics,l=e.experiment,c=t.enabledTreeSearch;return r.a.createElement("div",{className:"card-header p-1"},r.a.createElement("div",{className:"row justify-content-end"},r.a.createElement("div",{className:"col-md-2"},l&&r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(l.expid)},className:"form"},r.a.createElement("input",{type:"submit",value:"Refresh",className:"btn btn-success btn-block btn-sm",disabled:!c})))))},Ue=function(){var e=Object(n.useContext)(E),t=e.performancedata;if(!e.experiment||!t)return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"lead"},"Experiment not defined.")));var a=t.ASYPD,l=t.SYPD,c=t.JPSY,s=t.Parallelization,o=t.CHSY,i=t.considered;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row px-3"},r.a.createElement("div",{className:"col-4 p-4"},r.a.createElement("h5",null,"Parallelization:"," ",r.a.createElement("span",{className:"badge badge-secondary"},s)),r.a.createElement("h5",null,"JPSY: ",r.a.createElement("span",{className:"badge badge-secondary"},c)),r.a.createElement("h5",null,"SYPD: ",r.a.createElement("span",{className:"badge badge-secondary"},l)),r.a.createElement("h5",null,"ASYPD: ",r.a.createElement("span",{className:"badge badge-secondary"},a)),r.a.createElement("h5",null,"CHSY: ",r.a.createElement("span",{className:"badge badge-secondary"},o))),r.a.createElement("div",{className:"col-8 p-3 scroll-y-jobs"},r.a.createElement("p",{className:"lead"},"Considered: (",i.length,")"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Job Name"),r.a.createElement("th",{scope:"col"},"Queue"),r.a.createElement("th",{scope:"col"},"Run"),r.a.createElement("th",{scope:"col"},"CHSY"),r.a.createElement("th",{scope:"col"},"JPSY"),r.a.createElement("th",{scope:"col"},"Energy"))),r.a.createElement("tbody",null,i.sort((function(e,t){return e.name>t.name?1:-1})).map((function(e,t){return r.a.createElement("tr",{key:e.name},r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("strong",null," ",H(e.queue))),r.a.createElement("td",null,r.a.createElement("strong",null,H(e.running))),r.a.createElement("td",null,r.a.createElement("strong",null,e.CHSY)),r.a.createElement("td",null,r.a.createElement("strong",null,e.JPSY)),r.a.createElement("td",null,r.a.createElement("strong",null,e.energy)))})))))),r.a.createElement("div",{className:"row px-3"},r.a.createElement("div",{className:"col-12 px-4"},r.a.createElement("p",{className:"lead"},"Metrics description:"),r.a.createElement("p",null,r.a.createElement("strong",null,"Parallelization"),": Total number of cores allocated for the run, per SIM."),r.a.createElement("p",null,r.a.createElement("strong",null,"JPSY"),": Energy cost of a simulation, measured in Joules per simulated year."),r.a.createElement("p",null,r.a.createElement("strong",null,"SYPD"),": Simulated years per day for the model in a 24 h period."),r.a.createElement("p",null,r.a.createElement("strong",null,"ASYPD"),": Actual SYPD, this number should be lower than SYPD due to interruptions, queue wait time, data transfer or issues with the model workflow. This is collected by measuring the time between first submission and the date of arrival of the last history file on the storage file system."),r.a.createElement("p",null,r.a.createElement("strong",null,"CHSY"),": Core hours per simulated year. This is measured as the product of the model runtime for 1 SY and the number of cores allocated. This is an average of the CHSY of all SIM jobs."),r.a.createElement("p",null,r.a.createElement("strong",null,"Considered"),": Scrollable list where each item in the list represents job information showing ",r.a.createElement("strong",null,"Job Name"),","," ",r.a.createElement("strong",null,"QUEUE")," and ",r.a.createElement("strong",null,"RUNNING")," time in"," ",r.a.createElement("i",null,"HH:mm:ss")," format, ",r.a.createElement("strong",null,"CHSY"),", ",r.a.createElement("strong",null,"JPSY"),", and raw ",r.a.createElement("strong",null,"Energy")," consumption for that job."," ",r.a.createElement("i",null,"Note: Energy values are only collected for those jobs running on MareNostrum4 and using the latest version of Autosubmit. Subsequent development will expand this feature for other platforms.")),r.a.createElement("p",null,"Visit"," ",r.a.createElement("a",{href:"https://earth.bsc.es/gitlab/wuruchi/autosubmitreact/-/wikis/Performance-Metrics",target:"_blank",rel:"noopener noreferrer"},"Performance Metrics Documentation")," ","for more details."))))},Pe={minHeight:"100%"},Qe=function(e){var t=e.match,a=t.params.expid,l=t.params.action,c=!(!l||"graph"!==l),s=!(!l||"light"!==l),o=!0===c||!0===s?"nav-link":"nav-link active",i=!0===c?"nav-link active":"nav-link",m=!0===s?"nav-link active":"nav-link",u=!0===c||!0===s?"tab-pane fade":"tab-pane fade show active",d=!0===c?"tab-pane fade show active":"tab-pane fade",p=!0===s?"tab-pane fade show active":"tab-pane fade",b=Object(n.useContext)(E),g=Object(n.useContext)(M),h=Object(n.useContext)(X),f=Object(n.useContext)(ie),N=Object(n.useContext)($),v=b.loadingRun,A=b.cleanRunData,y=b.getExperiment,T=b.getRunningState,x=b.getExperimentRun,k=b.getExperimentPerformanceMetrics,S=b.startAutoUpdateRun,C=b.setAutoUpdateRun,O=b.rundata,_=b.experiment,j=b.canSelect,R=b.experimentRunning,I=b.updateCurrentSelectedGraph,D=b.updateCurrentSelectedTree,G=b.cleanExperimentData,B=b.totalJobs,L=h.treedata,F=h.updateSelectionTree,U=h.loadingTree,P=h.getExperimentTreePkl,Y=h.getExperimentTree,H=h.cleanPklTreeData,V=h.startAutoUpdateTreePkl,J=h.pkltreechanges,K=h.setFancyTree,q=h.cleanTreeData,Z=h.notificationTitleTree,z=h.setNotificationTitleTree,ee=g.cleanPklData,te=g.cleanNavData,ae=g.getExperimentGraph,ne=g.setVisData,re=g.getExperimentPkl,ce=g.updateSelection,se=g.setVisNetwork,me=g.data,ue=g.visNetwork,pe=g.navToLatest,Ee=g.navigateAfterLoadGraph,ge=g.pklchanges,he=g.loadingGraph,Ne=g.shouldUpdateGraph,ve=g.startAutoUpdatePkl,xe=g.cleanGraphData,ke=g.current_grouped,Se=g.updateGraphSelectedNodes,_e=g.notificationTitleGraph,je=g.setNotificationTitleGraph,Ie=f.clearStats,Qe=N.loadingView,Me=N.setLighterFancyTree,Ye=N.lightData,He=N.cleanLoadingLighterView,Ve=N.getLighterView;return Object(n.useEffect)((function(){y(a),T(a),a&&a.length>0&&(l?"graph"===l?ae(a):"light"===l&&Ve(a):Y(a),k(a));var e=setInterval((function(){return T(a)}),3e5);return function(){clearInterval(e),G()}}),[]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:o,id:"treeview-tab","data-toggle":"tab",href:"#treeview",role:"tab","aria-controls":"treeview","aria-selected":"false"},"Tree View")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:i,id:"graph-tab","data-toggle":"tab",href:"#graph",role:"tab","aria-controls":"graph","aria-selected":"true"},"Graph")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",id:"log-tab","data-toggle":"tab",href:"#log",role:"tab","aria-controls":"log","aria-selected":"false"},"Log")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",id:"stats-tab","data-toggle":"tab",href:"#stats",role:"tab","aria-controls":"stats","aria-selected":"false"},"Statistics")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",id:"performance-tab","data-toggle":"tab",href:"#performance",role:"tab","aria-controls":"performance","aria-selected":"false"},"Performance")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:m,id:"lightview-tab","data-toggle":"tab",href:"#lightview",role:"tab","aria-controls":"lightview","aria-selected":"false"},"Quick View"))),r.a.createElement("div",{className:"tab-content",id:"myTabContent"},r.a.createElement("div",{className:d,id:"graph",role:"tabpanel","aria-labelledby":"graph-tab"},r.a.createElement("div",{className:"card"},_&&r.a.createElement(De,null),_&&me&&r.a.createElement("div",{className:"card-header p-1"},r.a.createElement(Ce,null)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col pr-0"},r.a.createElement(Q,{data:me,updateSelection:ce,loadingGraph:he,cleanGraphData:xe,shouldUpdateGraph:Ne,setVisData:ne,setVisNetwork:se,navToLatest:pe,clearStats:Ie,cleanNavData:te,current_grouped:ke,experimentRunning:R,navigateAfterLoadGraph:Ee,updateCurrentSelected:I,canSelect:j,updateGraphSelectedNodes:Se})),r.a.createElement("div",{className:!0===j?"col-3 px-0":"col-3 pl-0"},r.a.createElement("ul",{className:"nav nav-tabs",id:"myTabSide",role:"tablist"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link active",id:"selection-tab","data-toggle":"tab",href:"#selection",role:"tab","aria-controls":"selection","aria-selected":"true"},"Selection")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",id:"wrapper-tab","data-toggle":"tab",href:"#wrapper",role:"tab","aria-controls":"treeview","aria-selected":"false"},"Wrappers"))),r.a.createElement("div",{className:"tab-content",id:"myTabSideContent"},r.a.createElement("div",{className:"tab-pane fade show active",id:"selection",role:"tabpanel","aria-labelledby":"selection-tab"},me&&r.a.createElement(de,null),ve&&r.a.createElement(Ae,{experiment:_,getExperimentPkl:re,cleanPklData:ee,pklchanges:ge,experimentRunning:R,notificationTitleGraph:_e,setNotificationTitleGraph:je})),r.a.createElement("div",{className:"tab-pane fade show",id:"wrapper",role:"tabpanel","aria-labelledby":"wrapper-tab"},r.a.createElement("div",null,r.a.createElement(Re,null))))),_&&me&&j&&r.a.createElement("div",{className:"col-2 pl-0"},r.a.createElement(W,{target:"graph",source:"experiment"}))),r.a.createElement("div",{className:"card-footer p-0"},me&&ue&&r.a.createElement(Te,null)))),r.a.createElement("div",{className:u,id:"treeview",role:"tabpanel","aria-labelledby":"treeview-tab"},r.a.createElement("div",{className:"card"},_&&r.a.createElement(Be,null),_&&L&&r.a.createElement("div",{className:"card-header p-1"},r.a.createElement(Oe,null)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:!0===U?"col":"col pr-0"},r.a.createElement(le,{treedata:L,loadingTree:U,cleanTreeData:q,setFancyTree:K,updateSelectionTree:F,updateCurrentSelected:D,canSelect:j,totalJobs:B})),L&&r.a.createElement("div",{className:!0===j?"col-3 px-0":"col-3 pl-0"},r.a.createElement(be,null),V&&r.a.createElement(ye,{experiment:_,getExperimentTreePkl:P,cleanPklTreeData:H,pkltreechanges:J,experimentRunning:R,notificationTitleTree:Z,setNotificationTitleTree:z})),_&&L&&j&&r.a.createElement("div",{className:"col-2 pl-0"},r.a.createElement(W,{target:"tree",source:"experiment"}))))),r.a.createElement("div",{className:"tab-pane fade",id:"log",role:"tabpanel","aria-labelledby":"log-tab"},r.a.createElement("div",{className:"card"},_&&r.a.createElement(Ge,null),r.a.createElement("div",{className:"card-body p-0",style:Pe},r.a.createElement("div",{className:"col-12 p-0"},S&&r.a.createElement(fe,{rundata:O,loadingRun:v,cleanRunData:A,getExperimentRun:x,experiment:_,startAutoUpdateRun:S,setAutoUpdateRun:C,experimentRunning:R}),!S&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("p",{className:"lead"},"Press"," ",r.a.createElement("span",{className:"badge badge-dark"},"Show Log")," ","to see the last 50 lines of the running log of this experiment. If the experiment is running, the log will update automatically."))))))),r.a.createElement("div",{className:"tab-pane fade",id:"stats",role:"tabpanel","aria-labelledby":"stats-tab"},r.a.createElement("div",{className:"card mt-2",style:Pe},r.a.createElement("div",{className:"card-header py-0 text-muted"},r.a.createElement("small",null,"Statistics")),r.a.createElement("div",{className:"card-body p-1"},r.a.createElement("div",{className:"col-12"},r.a.createElement(we,null))))),r.a.createElement("div",{className:"tab-pane fade",id:"performance",role:"tabpanel","aria-labelledby":"performance-tab"},r.a.createElement("div",{className:"card mt-2"},_&&r.a.createElement(Fe,null),r.a.createElement("div",{className:"card-body p-1"},_&&r.a.createElement(Ue,null)))),r.a.createElement("div",{className:p,id:"lightview",role:"tabpanel","aria-labelledby":"lightview-tab"},r.a.createElement("div",{className:"card mt-2"},_&&r.a.createElement(Le,null),r.a.createElement("div",{className:"card-body p-1"},_&&r.a.createElement(oe,{data:Ye,loadingView:Qe,setLighterFancyTree:Me,cleanLoadingLighterView:He}))))))),r.a.createElement(w,{expidToken:a}))},Me=function(e){e.setAlert;var t=Object(n.useContext)(E),a=Object(n.useContext)(A),l=Object(n.useState)(""),c=Object(p.a)(l,2),s=c[0],o=c[1];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-11"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""===s?a.setAlert("Please enter something","light"):t.searchExperiments(s)},className:"form"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{className:"form-control",type:"text",name:"text",placeholder:"If it uses Autosubmit, you will find it. Search by expid, description, or owner.",value:s,onChange:function(e){return o(e.target.value)}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("input",{type:"submit",value:"Search",className:"btn btn-dark"}))))),r.a.createElement("div",{className:"col-1"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t.getCurrentRunning()},className:"form"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{type:"submit",value:"Active Exps",className:"btn btn-success"}))))),t.experiments.length>0&&r.a.createElement("div",{className:"row pb-3"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("button",{className:"btn btn-info btn-block",onClick:t.getSummaries},"Show Detailed Data")),r.a.createElement("div",{className:"col-md-9"},r.a.createElement("button",{className:"btn btn-light btn-block",onClick:t.clearExperiments},"Clear"))))},Ye=function(e){var t=e.experiment,a=t.name,l=t.description,c=t.user,s=t.hpc,o=t.status,i=t.completed,m=t.total,d=Object(n.useContext)(E),p=d.getExperimentSummary,b=d.summaries,g=d.loadingSummary,h=m>=12e3;return r.a.createElement("div",{className:"col mb-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header text-center py-1"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3 text-left"},r.a.createElement("h3",{className:"font-weight-bold"},a)),r.a.createElement("div",{className:"col-md-6 text-center"}," ",i," / ",m," ",r.a.createElement("div",{className:"progress border"},r.a.createElement("div",{className:i===m?"progress-bar bg-warning":"RUNNING"===o?b[a]&&b[a].n_failed>0?"progress-bar progress-bar-striped progress-bar-animated bg-danger":"progress-bar progress-bar-striped progress-bar-animated bg-success":b[a]&&b[a].n_failed>0?"progress-bar bg-danger":"progress-bar bg-info",role:"progressbar",style:{width:m>0?i/m*100+"%":"0%"},"aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":m}))),r.a.createElement("div",{className:"col-md-3 text-right"},o&&"RUNNING"===o&&r.a.createElement("span",{className:"badge badge-success text-right"},"ACTIVE"),o&&"RUNNING"!==o&&r.a.createElement("span",{className:"badge badge-secondary text-right"},"INACTIVE")))),r.a.createElement("div",{className:"card-body py-1"},r.a.createElement("h6",{className:"card-subtitle text-muted pt-2"},r.a.createElement("small",null,"Owner:")," ",c),r.a.createElement("p",{className:"card-text py-1 mb-1"},r.a.createElement("small",null,l)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 px-1"},!g.has(a)&&r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),p(a)},className:"form"},r.a.createElement("input",{className:b[a]?"btn btn-info btn-block btn-sm":"btn btn-outline-info btn-block btn-sm",type:"submit",value:b[a]?"Refresh":"Summary","aria-controls":a})),g.has(a)&&r.a.createElement("button",{className:"btn-sm btn-secondary btn-block disabled",disabled:"True"},"Loading...")),r.a.createElement("div",{className:"col-6 px-1"},!0===h&&r.a.createElement("button",{className:"btn-sm btn-block",disabled:"True"},"More \u2192"),!1===h&&r.a.createElement(u.b,{to:"/autosubmitapp/experiment/".concat(a),className:"btn btn-outline-primary btn-block btn-sm"},"More")),r.a.createElement("div",{className:"col-3 px-1"},r.a.createElement(u.b,{to:"/autosubmitapp/experiment/".concat(a,"/light"),className:"btn btn-outline-success btn-block btn-sm"},"Quick")),b[a]&&!0===b[a].error&&r.a.createElement("div",{className:"col-12 pt-2",id:a},r.a.createElement("div",{className:"card card-body py-0 scroll-x"},r.a.createElement("div",{className:"row text-left"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"small"},r.a.createElement("strong",null,"ERROR: ",b[a].error_message)))))),b[a]&&!1===b[a].error&&r.a.createElement("div",{className:"col-12 pt-2",id:a},r.a.createElement("div",{className:"card card-body py-0 scroll-x"},r.a.createElement("div",{className:"row text-left"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("small",null,"All : avg. queue"," ",r.a.createElement("strong",null,b[a].avg_queue_time)," | run"," ",r.a.createElement("strong",null,b[a].avg_run_time)))),b[a].sim_queue_considered>0&&r.a.createElement("div",{className:"row text-left"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("small",null,"SIM "," (",b[a].n_sim,") "," : avg. queue"," ",r.a.createElement("strong",null,b[a].avg_sim_queue_time)," "," (",b[a].sim_queue_considered,") ","| run"," ",r.a.createElement("strong",null,b[a].avg_sim_run_time)," (",b[a].sim_run_considered,")"))),r.a.createElement("div",{className:"row pb-2"},r.a.createElement("div",{className:"col-12"},b[a].n_running>0&&r.a.createElement("span",{className:"badge badge-success"},"Running: ",b[a].n_running)," ",b[a].n_queuing>0&&r.a.createElement("span",{className:"badge",style:{backgroundColor:"pink"}},"Queuing: ",b[a].n_queuing)," ",b[a].n_submitted>0&&r.a.createElement("span",{className:"badge",style:{backgroundColor:"cyan"}},"Submitted: ",b[a].n_submitted)," ",b[a].n_suspended>0&&r.a.createElement("span",{className:"badge",style:{backgroundColor:"orange"}},"Suspended: ",b[a].n_suspended))),b[a].n_failed>0&&r.a.createElement("div",{className:"row px-1"},r.a.createElement("div",{className:"col-md-2 text-center px-2"},r.a.createElement("span",{className:"badge badge-danger"},"Failed: ",b[a].n_failed)),r.a.createElement("div",{className:"col-md-10 text-left"},r.a.createElement("div",{className:"",style:{overflow:"auto",maxHeight:"200px"}},r.a.createElement("small",null,r.a.createElement("ol",null,b[a].failed_jobs.map((function(e){return r.a.createElement("li",{key:e},e)})))))))))),r.a.createElement("p",{className:"card-text text-center"},r.a.createElement("small",{className:"text-muted"},"HPC: ",s)))))},He=function(){var e=Object(n.useContext)(E),t=e.loading,a=e.experiments;return t?r.a.createElement(h,null):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row row-cols-1 row-cols-md-3"},a&&a.sort((function(e,t){return e.status>t.status?-1:1})).map((function(e){return r.a.createElement(Ye,{key:e.id,experiment:e})}))))},Ve=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Me,null),r.a.createElement(He,null))};var Je={height:40},We=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row",style:Je}))},Ke=a(2),qe=a.n(Ke),Ze=a(4),ze=a(6),Xe=a.n(ze),$e=a(52),et=a(1),tt=function(e,t){switch(t.type){case"ACTIVATE_SELECTION_MODE":return Object(et.a)(Object(et.a)({},e),{},{canSelect:!0,currentSelected:[],currentCommand:null});case"DEACTIVATE_SELECTION_MODE":return Object(et.a)(Object(et.a)({},e),{},{canSelect:!1,currentSelected:[],currentCommand:null});case"CLEAN_RUN_DATA":return Object(et.a)(Object(et.a)({},e),{},{rundata:null,startAutoUpdateRun:!1});case"CLEAN_EXPERIMENT_DATA":return Object(et.a)(Object(et.a)({},e),{},{experiment:null,loading:!1,totalJobs:0,expectedLoadingTreeTime:0,expectedLoadingQuickView:0,data:null,canSelect:!1});case"UPDATE_EXPERIMENT_TS":var a=t.payload;return e.experiment.pkl_timestamp=a,Object(et.a)({},e);case"SEARCH_EXPERIMENTS":case"CURRENT_RUNNING":return Object(et.a)(Object(et.a)({},e),{},{experiments:t.payload,loading:!1});case"SET_AUTOUPDATE_RUN":return Object(et.a)(Object(et.a)({},e),{},{startAutoUpdateRun:t.payload});case"SET_LOADING":return Object(et.a)(Object(et.a)({},e),{},{loading:!0});case"SET_LOADING_STATE":return Object(et.a)(Object(et.a)({},e),{},{loadingState:!0});case"SET_LOADING_RUN":return Object(et.a)(Object(et.a)({},e),{},{loadingRun:!0});case"CLEAR_EXPERIMENTS":return Object(et.a)(Object(et.a)({},e),{},{experiments:[],summaries:[],loading:!1});case"GET_EXPERIMENT":var n=t.payload.total_jobs;return Object(et.a)(Object(et.a)({},e),{},{experiment:t.payload,loading:!1,totalJobs:n,expectedLoadingTreeTime:(E=n,E<=1e3?1:Math.round(.02*E-30)),expectedLoadingQuickView:V(n),data:null,canSelect:!1});case"SET_LOADING_SUMMARY":var r=t.payload;return e.loadingSummary.set(r,{loading:!0}),Object(et.a)({},e);case"GET_EXPERIMENT_SUMMARY":var l=t.payload,c=l.expid,s=l.summary;return e.summaries[c]=s,e.loadingSummary.delete(c),Object(et.a)({},e);case"CLEAR_SUMMARY_EXP":var o=t.payload;return e.summaries[o]&&(e.summaries[o]=null),Object(et.a)({},e);case"GET_EXPERIMENT_PERFORMANCE":return Object(et.a)(Object(et.a)({},e),{},{performancedata:t.payload});case"CLEAN_PERFORMANCE_METRICS":return Object(et.a)(Object(et.a)({},e),{},{performancedata:null});case"GET_EXPERIMENT_RUN":return Object(et.a)(Object(et.a)({},e),{},{rundata:t.payload,loadingRun:!1});case"GET_RUNNING_STATE":return Object(et.a)(Object(et.a)({},e),{},{experimentRunning:t.payload,loadingState:!1});case"UPDATE_SELECTED_JOBS":var i=t.payload,m=e.currentSelected.find((function(e){return e.name===i.name}));return!1===e.canSelect||m?Object(et.a)({},e):Object(et.a)(Object(et.a)({},e),{},{currentSelected:[].concat(Object($e.a)(e.currentSelected),[i]),currentCommand:null});case"SET_CURRENT_COMMAND":return Object(et.a)(Object(et.a)({},e),{},{currentCommand:t.payload});case"REMOVE_SELECTED_JOB":for(var u=t.payload,d=[],p=0;p<e.currentSelected.length;p++)e.currentSelected[p].name!==u&&d.push(e.currentSelected[p]);return e.currentSelected.find((function(e){return e.name===u})),Object(et.a)(Object(et.a)({},e),{},{currentSelected:d,currentCommand:null});default:return null}var E},at=function(e){var t={experiments:[],summaries:[],experiment:{},totalJobs:0,expectedLoadingTreeTime:0,expectedLoadingQuickView:0,loadingSummary:new Map,loading:!1,experimentRunning:!1,rundata:null,performancedata:null,loadingRun:!1,loadingState:!1,loadingFilterTree:!1,currentCommand:null,currentSelected:[],startAutoUpdateRun:!1,startAutoUpdateTreePkl:!1,fancyTree:null,allowJobMonitor:!1,canSelect:!1},a=Object(n.useReducer)(tt,t),l=Object(p.a)(a,2),c=l[0],s=l[1],o=S,i=function(){var e=Object(Ze.a)(qe.a.mark((function e(t){var a;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(),e.next=3,Xe.a.get("".concat(o,"/search/").concat(t));case 3:a=e.sent,s({type:"SEARCH_EXPERIMENTS",payload:a.data.experiment});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(Ze.a)(qe.a.mark((function e(t){var a,n;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(t),x(t),e.next=4,Xe.a.get("".concat(o,"/summary/").concat(t));case 4:a=e.sent,n=a.data,s({type:"GET_EXPERIMENT_SUMMARY",payload:{expid:t,summary:n}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(Ze.a)(qe.a.mark((function e(t){var a,n;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(),e.next=3,Xe.a.get("".concat(o,"/performance/").concat(t));case 3:a=e.sent,n=a.data,s({type:"GET_EXPERIMENT_PERFORMANCE",payload:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){s({type:"CLEAR_SUMMARY_EXP",payload:e})},b=function(){var e=Object(Ze.a)(qe.a.mark((function e(){var t;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(),e.next=3,Xe.a.get("".concat(o,"/running/"));case 3:t=e.sent,s({type:"CURRENT_RUNNING",payload:t.data.experiment});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(Ze.a)(qe.a.mark((function e(t){var a;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(),e.next=3,Xe.a.get("".concat(o,"/expinfo/").concat(t));case 3:a=e.sent,s({type:"GET_EXPERIMENT",payload:a.data});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(Ze.a)(qe.a.mark((function e(t){var a;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(),e.next=3,Xe.a.get("".concat(o,"/exprun/").concat(t));case 3:a=e.sent,s({type:"GET_EXPERIMENT_RUN",payload:a.data});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(Ze.a)(qe.a.mark((function e(t){var a;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(),e.next=3,Xe.a.get("".concat(o,"/ifrun/").concat(t));case 3:a=e.sent,s({type:"GET_RUNNING_STATE",payload:a.data.running});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(Ze.a)(qe.a.mark((function e(t){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:"SET_CURRENT_COMMAND",payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){return s({type:"CLEAN_PERFORMANCE_METRICS"})},A=function(){return s({type:"SET_LOADING"})},y=function(){return s({type:"SET_LOADING_RUN"})},T=function(){return s({type:"SET_LOADING_STATE"})},x=function(e){return s({type:"SET_LOADING_SUMMARY",payload:e})};return r.a.createElement(E.Provider,{value:{experiments:c.experiments,experiment:c.experiment,summaries:c.summaries,loadingSummary:c.loadingSummary,loading:c.loading,loadingRun:c.loadingRun,loadingState:c.loadingState,performancedata:c.performancedata,rundata:c.rundata,currentSelected:c.currentSelected,startAutoUpdateRun:c.startAutoUpdateRun,experimentRunning:c.experimentRunning,currentCommand:c.currentCommand,canSelect:c.canSelect,totalJobs:c.totalJobs,expectedLoadingTreeTime:c.expectedLoadingTreeTime,expectedLoadingQuickView:c.expectedLoadingQuickView,setAutoUpdateRun:function(e){return s({type:"SET_AUTOUPDATE_RUN",payload:e})},searchExperiments:i,getCurrentRunning:b,clearExperiments:function(){return s({type:"CLEAR_EXPERIMENTS"})},getExperiment:g,cleanPerformanceMetrics:v,cleanRunData:function(){return s({type:"CLEAN_RUN_DATA"})},getExperimentRun:h,timeStampToDate:Y,getRunningState:f,getExperimentPerformanceMetrics:u,getExperimentSummary:m,clearSummary:d,getSummaries:function(){var e=c.experiments;for(var t in e){var a=e[t].name;m(a)}},activateSelectionMode:function(){return s({type:"ACTIVATE_SELECTION_MODE"})},deactivateSelectionMode:function(){return s({type:"DEACTIVATE_SELECTION_MODE"})},removeSelectedJob:function(e){return s({type:"REMOVE_SELECTED_JOB",payload:e})},setCurrentCommand:N,updateCurrentSelectedGraph:function(e,t){if(t){var a={name:e,color:"yellow"},n=t.nodes.find((function(e){return e.id===a.name}));a.color=n.status_color,s({type:"UPDATE_SELECTED_JOBS",payload:a})}},updateCurrentSelectedTree:function(e,t){if(t){var a={name:e,color:"yellow",source:"Tree"},n=t.jobs.find((function(e){return e.id===a.name}));a.color=n.status_color,s({type:"UPDATE_SELECTED_JOBS",payload:a})}},updateExperimentTimeStamp:function(e){s({type:"UPDATE_EXPERIMENT_TS",payload:e})},cleanExperimentData:function(){return s({type:"CLEAN_EXPERIMENT_DATA"})}}},e.children)},nt=a(23),rt=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.9,r=arguments.length>4?arguments[4]:void 0;n<=.05&&(n=.05),r&&(r.moveTo({position:{x:t,y:a},scale:n,animation:!1}),e&&r.selectNodes([e]))},lt=function(e,t,a){var n=e+"-"+t;a.visNetwork&&a.visNetwork.body.data.edges.add([{id:n,from:e,to:t,dashes:!0,background:{enabled:!0,color:"rgba(63, 191, 63, 0.5)"},arrows:{to:{enabled:!1}}}])},ct=function(e,t){t.visNetwork&&Object.keys(t.visNetwork.body.edges).includes(e)&&(t.visNetwork.body.edges[e].options.dashes=!1,t.visNetwork.body.edges[e].options.background.enabled=!0,t.visNetwork.body.edges[e].options.background.color="rgba(63, 191, 63, 0.5)")},st=function(e,t){t.visNetwork&&(t.visNetwork.body.nodes[e].options.shapeProperties.borderDashes=!0,t.visNetwork.selectNodes([e]))},ot=function(e,t,a){a.visNetwork&&(a.visNetwork.body.nodes[e].options.color.background=t,a.visNetwork.selectNodes([e]))},it=function(e,t,a){a.visNetwork&&(a.visNetwork.body.nodes[e].options.shape=t,a.visNetwork.selectNodes([e]))},mt=function(e){var t,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.9,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=0,o="not found";if(l&&l.nodes)if(!0===a){var i,m=Object(nt.a)(l.nodes);try{for(m.s();!(i=m.n()).done;){var u=i.value;u.status_code===e&&u.level>=s&&(s=u.level,o=u.id)}}catch(b){m.e(b)}finally{m.f()}}else{s=Number.MAX_VALUE;var d,p=Object(nt.a)(l.nodes);try{for(p.s();!(d=p.n()).done;){var E=d.value;E.status_code===e&&E.level<=s&&(s=E.level,o=E.id)}}catch(b){p.e(b)}finally{p.f()}}return r&&((t=r.getPositions([o]))[o]?(rt(o,t[o].x,t[o].y,n,r),c.selection=[o]):c.selection=null),!!t[o]},ut=function(e,t){if(t.visNetwork){var a=t.visNetwork.getPositions([e]);if(a[e])return{x:a[e].x,y:a[e].y}}return{x:null,y:null}},dt=function(e,t){switch(t.type){case"GET_GRAPH":var a=t.payload,n=a.resdata,r=a.grouped,l=a.layout;return Object(et.a)(Object(et.a)({},e),{},{data:n,current_grouped:r,current_layout:l,loadingGraph:!1,enabledGraphSearch:!0,graphSelectedNodes:null});case"GET_PKL_DATA":var c=t.payload;if(null!==e.data&&!0===c.has_changed&&c.pkl_content.length>0){for(var s,o={},i={},m={},u={},d={},p={},E="",b="",g=c.packages,h=e.data.packages,f=0;f<e.data.nodes.length;f++)o[(s=e.data.nodes[f]).id]=s;for(var N,v=0;v<c.pkl_content.length;v++)i[(N=c.pkl_content[v]).name]=N;for(var A in g)if(!Object.keys(h).includes(A))for(var y in h[A]=g[A],g[A]){var T=parseInt(y);u[g[A][T]]="hexagon";var x=T+1;x<g[A].length&&o[g[A][T]].level===o[g[A][x]].level&&(p[g[A][T]]=g[A][x])}var w=!1;if(e.data.nodes){for(var k=0;k<e.data.nodes.length;k++){var S=i[e.data.nodes[k].id];if(S&&(e.data.nodes[k].status_code!==S.status_code||e.data.nodes[k].package!==S.package||e.data.nodes[k].minutes!==S.minutes||e.data.nodes[k].minutes_queue!==S.minutes_queue)){if(e.data.nodes[k].status_code!==i[e.data.nodes[k].id].status_code&&(E+=Y(c.pkl_timestamp)+": "+e.data.nodes[k].id+" to "+i[e.data.nodes[k].id].status+"\n",b+=i[e.data.nodes[k].id].status+" : "+e.data.nodes[k].id+"\n"),e.data.nodes[k].package!==i[e.data.nodes[k].id].package){E+=Y(c.pkl_timestamp)+": "+e.data.nodes[k].id+" added to "+i[e.data.nodes[k].id].package+"\n",b+="Wrapper "+i[e.data.nodes[k].id].package+" added.\n";var C=o[e.data.nodes[k].id].children_list;for(var O in C)i[C[O]].package===i[e.data.nodes[k].id].package&&(d[e.data.nodes[k].id]=C[O])}e.data.nodes[k].status_code!==i[e.data.nodes[k].id].status_code&&(m[e.data.nodes[k].id]=i[e.data.nodes[k].id].status_color,e.data.nodes[k].status_code=i[e.data.nodes[k].id].status_code,e.data.nodes[k].status_color=i[e.data.nodes[k].id].status_color,e.data.nodes[k].status=i[e.data.nodes[k].id].status),e.data.nodes[k].package=i[e.data.nodes[k].id].package,e.data.nodes[k].dashed=i[e.data.nodes[k].id].dashed,e.data.nodes[k].shape=i[e.data.nodes[k].id].shape,e.data.nodes[k].out=i[e.data.nodes[k].id].out,e.data.nodes[k].err=i[e.data.nodes[k].id].err,e.data.nodes[k].minutes=i[e.data.nodes[k].id].minutes,e.data.nodes[k].minutes_queue=i[e.data.nodes[k].id].minutes_queue,e.data.nodes[k].submit=i[e.data.nodes[k].id].submit,e.data.nodes[k].start=i[e.data.nodes[k].id].start,e.data.nodes[k].finish=i[e.data.nodes[k].id].finish,e.data.nodes[k].rm_id=i[e.data.nodes[k].id].rm_id,w=!0}}if(w){for(var _ in e.data.pkl_timestamp=c.pkl_timestamp,e.notificationTitleGraph=b,e.pklchanges?e.pklchanges=E+e.pklchanges:e.pklchanges=E,m)ot(_,m[_],e);for(var j in u)it(j,u[j],e),st(j,e);for(var R in d)ct(R+"-"+d[R],e);for(var I in p)lt(I,p[I],e)}}}return Object(et.a)(Object(et.a)({},e),{},{pkldata:c,loadingPkl:!1,loadingJobMonitor:!1});case"NAVIGATE_AFTER_LOADING_GRAPH":var D=t.payload;if(e.visNetwork){var G=!1;!0===D?(G=mt(4,!0,.5,e.visNetwork,e.data,e))||(G=mt(3,!0,.5,e.visNetwork,e.data,e))||(G=mt(2,!0,.5,e.visNetwork,e.data,e))||(G=mt(5,!0,.5,e.visNetwork,e.data,e)):(G=mt(-1,!0,.5,e.visNetwork,e.data,e))||(G=mt(5,!0,.5,e.visNetwork,e.data,e)),G||mt(0,!1,.5,e.visNetwork,e.data,e)}return Object(et.a)({},e);case"NAVIGATE_GRAPH_TO":var B=t.payload;if(e.visNetwork){var L=ut(B,e);L.x&&L.y&&(rt(B,L.x,L.y,.9,e.visNetwork),e.selection=[B])}return Object(et.a)({},e);case"NAVIGATE_TO_GROUP_GRAPH":var F=t.payload;if(e.visNetwork){e.visNetwork.unselectAll();var U=F.length,P=F[parseInt(Math.floor(F.length/2))],Q=.065*Math.sqrt(U),M=e.visNetwork.getPositions(P);M[P]&&(rt(null,M[P].x,M[P].y,.6-Q,e.visNetwork),e.visNetwork.selectNodes(F))}return Object(et.a)({},e);case"NAVIGATE_TO_LATEST":var H=t.payload,V=H.status,J=H.latest;return mt(V,J,.9,e.visNetwork,e.data,e),Object(et.a)({},e);case"SET_LOADING_GRAPH":return Object(et.a)(Object(et.a)({},e),{},{loadingGraph:!0,enabledGraphSearch:!1});case"SET_OFF_LOADING_GRAPH":return Object(et.a)(Object(et.a)({},e),{},{loadingGraph:!1,enabledGraphSearch:!0});case"SET_VIS_DATA":return Object(et.a)(Object(et.a)({},e),{},{visNodes:t.payload});case"SET_VIS_NETWORK":return Object(et.a)(Object(et.a)({},e),{},{visNetwork:t.payload});case"SET_FOUND_NODES":var W=t.payload;if(e.data&&e.data.nodes){var K=e.data.nodes.filter((function(e){return e.id.toUpperCase().indexOf(W)>=0}));if(K&&K.length>0){e.foundNodes=K;var q=ut(K[0].id,e);q.x&&q.y&&(rt(K[0].id,q.x,q.y,.9,e.visNetwork),e.selection=[K[0].id])}else e.foundNodes=null}return Object(et.a)(Object(et.a)({},e),{},{loadingSearchJob:!1});case"SET_PKL_CHANGES":return Object(et.a)(Object(et.a)({},e),{},{pklchanges:t.payload});case"SET_LOADING_SEARCH_JOB":return Object(et.a)(Object(et.a)({},e),{},{loadingSearchJob:!0});case"SET_LOADING_JOB_MONITOR":return Object(et.a)(Object(et.a)({},e),{},{loadingJobMonitor:!0});case"SET_LOADING_PKL":return Object(et.a)(Object(et.a)({},e),{},{loadingPkl:!0});case"SET_AUTOUPDATE_PKL":return Object(et.a)(Object(et.a)({},e),{},{startAutoUpdatePkl:t.payload});case"UPDATE_NODES":return Object(et.a)(Object(et.a)({},e),{},{data:t.payload});case"CLEAN_ONLY_GRAH_DATA":return Object(et.a)(Object(et.a)({},e),{},{data:null,selection:null,enabledGraphSearch:!0,visNodes:null,visNetwork:null,foundNodes:null,current_grouped:"none",current_layout:"standard",graphSelectedNodes:null});case"SHOULD_UPDATE_GRAPH":return Object(et.a)(Object(et.a)({},e),{},{shouldUpdateGraph:t.payload});case"CLEAN_GRAPH_DATA":return Object(et.a)(Object(et.a)({},e),{},{data:null,selection:null,enabledGraphSearch:!0,loadingGraph:!1,loadingPkl:!1,visNodes:null,visNetwork:null,foundNodes:null,experimentRunning:!1,experiment:null,current_grouped:"none",current_layout:"standard",performancedata:null,canSelect:!1,currentSelected:[],currentCommand:null,graphSelectedNodes:null});case"CLEAN_PKL_DATA":return Object(et.a)(Object(et.a)({},e),{},{shouldUpdateGraph:!1,startAutoUpdatePkl:!1,pklchanges:null});case"CLEAN_NAV_DATA":return Object(et.a)(Object(et.a)({},e),{},{foundNodes:null,startAutoUpdatePkl:!1,selection:null});case"UPDATE_SELECTION":return Object(et.a)(Object(et.a)({},e),{},{selection:t.payload});case"UPDATE_GRAPH_SELECTED_NODES":if(e.graphSelectedNodes=null,e.currentCommandGraph=null,e.selection){var Z=e.visNetwork.getSelectedNodes();e.graphSelectedNodes=Z}return Object(et.a)({},e);case"SET_CURRENT_COMMAND":return Object(et.a)(Object(et.a)({},e),{},{currentCommandGraph:t.payload,canCopyToClipboard:!0});case"SET_NOTIFICATION_TITLE_GRAPH":return Object(et.a)(Object(et.a)({},e),{},{notificationTitleGraph:t.payload});default:return null}},pt=function(e){var t=Object(n.useReducer)(dt,{data:null,visNodes:null,visNetwork:null,loadingGraph:!1,loadingPkl:!1,loadingJobMonitor:!1,enabledGraphSearch:!0,loadingSearchJob:!1,startAutoUpdatePkl:!1,shouldUpdateGraph:!1,pklchanges:null,notificationTitleGraph:null,currentCommandGraph:null,current_grouped:"none",current_layout:"standard",selection:null,foundNodes:null,graphSelectedNodes:null,pkldata:null}),a=Object(p.a)(t,2),l=a[0],c=a[1],s=S,o=Object(n.useContext)(E),i=o.updateExperimentTimeStamp,m=o.experimentRunning,u=function(){var e=Object(Ze.a)(qe.a.mark((function e(t){var a,n,r,l,o=arguments;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"none",n=o.length>2&&void 0!==o[2]?o[2]:"standard",h(),f(),e.next=6,Xe.a.get("".concat(s,"/graph/").concat(t,"/").concat(n,"/").concat(a)).catch((function(e){alert(e.message),N()}));case 6:(r=e.sent)&&(l=r.data,c({type:"GET_GRAPH",payload:{resdata:l,grouped:a,layout:n}}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(Ze.a)(qe.a.mark((function e(t,a){var n,r;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==m){e.next=2;break}return e.abrupt("return");case 2:return A(),y(),e.next=7,Xe.a.get("".concat(s,"/pklinfo/").concat(t,"/").concat(a));case 7:n=e.sent,r=n.data,c({type:"GET_PKL_DATA",payload:r}),i(r.pkl_timestamp);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(Ze.a)(qe.a.mark((function e(t){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(),c({type:"SET_FOUND_NODES",payload:t.toUpperCase()});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(Ze.a)(qe.a.mark((function e(t){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c({type:"SET_CURRENT_COMMAND",payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){return c({type:"CLEAN_ONLY_GRAH_DATA"})},f=function(){return c({type:"SET_LOADING_GRAPH"})},N=function(){return c({type:"SET_OFF_LOADING_GRAPH"})},v=function(){return c({type:"SET_LOADING_SEARCH_JOB"})},A=function(){return c({type:"SET_LOADING_PKL"})},y=function(){return c({type:"SET_LOADING_JOB_MONITOR"})};return r.a.createElement(M.Provider,{value:{visNetwork:l.visNetwork,data:l.data,loadingGraph:l.loadingGraph,loadingPkl:l.loadingPkl,loadingJobMonitor:l.loadingJobMonitor,pklchanges:l.pklchanges,enabledGraphSearch:l.enabledGraphSearch,current_grouped:l.current_grouped,current_layout:l.current_layout,selection:l.selection,foundNodes:l.foundNodes,pkldata:l.pkldata,startAutoUpdatePkl:l.startAutoUpdatePkl,shouldUpdateGraph:l.shouldUpdateGraph,graphSelectedNodes:l.graphSelectedNodes,currentCommandGraph:l.currentCommandGraph,notificationTitleGraph:l.notificationTitleGraph,getExperimentGraph:u,getExperimentPkl:d,cleanOnlyGraphData:h,cleanGraphData:function(){return c({type:"CLEAN_GRAPH_DATA"})},setLoadingGraph:f,setUpdateGraph:function(e){return c({type:"SHOULD_UPDATE_GRAPH",payload:e})},setVisData:function(e){return c({type:"SET_VIS_DATA",payload:e})},setVisNetwork:function(e){return c({type:"SET_VIS_NETWORK",payload:e})},updateSelection:function(e){return c({type:"UPDATE_SELECTION",payload:e})},cleanPklData:function(){return c({type:"CLEAN_PKL_DATA"})},searchJobInGraph:b,cleanNavData:function(){return c({type:"CLEAN_NAV_DATA"})},setAutoUpdatePkl:function(e){return c({type:"SET_AUTOUPDATE_PKL",payload:e})},navigateToGroup:function(e){c({type:"NAVIGATE_TO_GROUP_GRAPH",payload:e})},navigateTo:function(e){c({type:"NAVIGATE_GRAPH_TO",payload:e})},navToLatest:function(e,t){c({type:"NAVIGATE_TO_LATEST",payload:{status:e,latest:t}})},navigateAfterLoadGraph:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c({type:"NAVIGATE_AFTER_LOADING_GRAPH",payload:e})},updateGraphSelectedNodes:function(){return c({type:"UPDATE_GRAPH_SELECTED_NODES"})},setCurrentCommandGraph:g,setNotificationTitleGraph:function(e){return c({type:"SET_NOTIFICATION_TITLE_GRAPH",payload:e})}}},e.children)},Et=function(e,t){switch(t.type){case"GET_TREE":return Object(et.a)(Object(et.a)({},e),{},{treedata:t.payload,loadingTree:!1,enabledTreeSearch:!0,elapsedLoadingTree:1});case"SET_LOADING_TREE_PKL":return Object(et.a)(Object(et.a)({},e),{},{loadingTreePkl:!0});case"SET_LOADING_TREE":return Object(et.a)(Object(et.a)({},e),{},{loadingTree:!0,enabledTreeSearch:!1});case"SET_OFF_LOADING_TREE":return Object(et.a)(Object(et.a)({},e),{},{loadingTree:!1,enabledTreeSearch:!1,elapsedLoadingTree:1,treedata:null});case"INCREASE_LOADING_TREE":return Object(et.a)(Object(et.a)({},e),{},{elapsedLoadingTree:e.elapsedLoadingTree+1});case"SET_LOADING_TREE_REFRESH":return Object(et.a)(Object(et.a)({},e),{},{loadingTreeRefresh:!0});case"SET_LOADING_FILTER":return Object(et.a)(Object(et.a)({},e),{},{loadingFilterTree:!0});case"PKL_TREE_LOADED":var a=t.payload,n={};if(null!==e.treedata&&!0===a.has_changed&&a.pkl_content.length>0){for(var r,l="",c="",s=e.treedata.jobs,o=e.treedata.reference,i=o.packages,m=o.completed_tag,u=o.running_tag,d=o.queuing_tag,p=o.failed_tag,E=o.check_mark,b=0;b<a.pkl_content.length;b++)n[(r=a.pkl_content[b]).name]=r;for(var g,h,f=0;f<s.length;f++)if((h=n[(g=s[f]).id])&&(g.status_code!==h.status_code||g.minutes!==h.minutes||g.minutes_queue!==h.minutes_queue)){var N=!1,v=g.status,A=h.status;g.status_code!==h.status_code&&(N=!0,v=h.status,A=g.status,l+=Y(a.pkl_timestamp)+": "+g.id+" to "+v+"\n",c+=v+" : "+g.id+"\n"),g.status_code=h.status_code,g.status=h.status,g.status_color=h.status_color,g.minutes=h.minutes,g.minutes_queue=h.minutes_queue,g.wrapper=h.wrapper,g.out=h.out,g.err=h.err,g.submit=h.submit,g.start=h.start,g.finish=h.finish,g.rm_id=h.rm_id;var y="Wrapper: "+h.wrapper;g.tree_parents.includes(y)||g.tree_parents.push(y),g.wrapper_code=h.wrapper_id;var T=h.title+" "+(0===g.parents?a.source_tag:"")+(0===g.children?a.target_tag:"")+(!0===g.sync?a.sync_tag:"")+(0!==h.wrapper_id?h.wrapper_tag:"");g.title=T;var x=e.fancyTree.getNodesByRef(g.id);if(x){for(var w in x)x[w].setTitle(T);var k=g.tree_parents,S=e.fancyTree.getNodesByRef(y);if(S&&S.length>0){var C=S[0].children,O=!1;for(var _ in C){C[_].refKey===g.id&&(O=!0)}!1===O&&S[0].children.push({title:g.title,refKey:g.id,data:"Empty",children:[]})}for(var j in k){var R=o[k[j]];if(R){!0===N&&("COMPLETED"===v&&(R.completed+=1),"RUNNING"===v&&(R.running+=1),"QUEUING"===v&&(R.queuing+=1),"FAILED"===v&&(R.failed+=1),"RUNNING"===A&&(R.running-=1),"QUEUING"===A&&(R.queuing-=1),"FAILED"===A&&(R.failed-=1));var I=m.replace("%C",R.completed).replace("%T",R.total).replace("%B",R.completed===R.total?"yellow":"#ffffb3"),D=R.completed===R.total?E:"",G=R.running>0?u.replace("%R",R.running):"",B=R.queuing>0?d.replace("%Q",R.queuing):"",L=R.failed>0?p.replace("%F",R.failed):"",F=e.fancyTree.getNodesByRef(k[j]);if(F){var U=k[j]+I+L+G+B+D;F[0].setTitle(U)}}}}}var P,Q=a.packages,M=Object(nt.a)(Q);try{var H=function(){var t=P.value;if(!i.includes(t)){l+=Y(a.pkl_timestamp)+": "+t+" has been added.\n",c+="Wrapper "+t+" added.\n",i.push(t);var n="Wrapper: "+t;o[n]={completed:0,failed:0,queuing:0,running:0,total:0};for(var r=o[n],b=s.filter((function(e){return e.wrapper===t})),g=[],h=0;h<b.length;h++)"COMPLETED"===b[h].status?r.completed+=1:"FAILED"===b[h].status?r.failed+=1:"QUEUING"===b[h].status?r.queuing+=1:"RUNNING"===b[h].status&&(r.running+=1),g.push({title:b[h].title,refKey:b[h].id,data:"Empty",children:[]});r.total=b.length;var f=m.replace("%C",r.completed).replace("%T",r.total).replace("%B",r.completed===r.total?"yellow":"#ffffb3"),N=r.completed===r.total?E:"",v=r.running>0?u.replace("%R",r.running):"",A=r.queuing>0?d.replace("%Q",r.queuing):"",y=n+f+(r.failed>0?p.replace("%F",r.failed):"")+v+A+N;e.fancyTree.getRootNode().addChildren({title:y,folder:!0,refKey:n,expanded:!1,children:g})}};for(M.s();!(P=M.n()).done;)H()}catch(q){M.e(q)}finally{M.f()}!0===a.has_changed&&(e.pkltreechanges?(e.pkltreechanges=l+e.pkltreechanges,e.notificationTitleTree=c):e.pkltreechanges=l)}return Object(et.a)(Object(et.a)({},e),{},{loadingTreeRefresh:!1,loadingTreePkl:!1});case"FILTER_TREEVIEW":var V=t.payload;if(e.treedata&&e.fancyTree){var J=0;if(V.indexOf("*")>-1){var W=V.split("*"),K=!1;J=e.fancyTree.filterNodes((function(e){for(var t=e.title,a=0;a<W.length;a++)if(W[a].length>0){if(!(t.indexOf(W[a])>-1)){K=!1;break}var n=t.indexOf(W[a])+W[a].length;t=t.substring(n),K=!0}return K}))}else J=e.fancyTree.filterNodes(V);e.returnFilter=J}else e.returnFilter=0;return Object(et.a)(Object(et.a)({},e),{},{loadingFilterTree:!1,returnFilter:t.payload});case"SET_FANCYTREE":return Object(et.a)(Object(et.a)({},e),{},{fancyTree:t.payload});case"SET_AUTOUPDATE_TREE_PKL":return Object(et.a)(Object(et.a)({},e),{},{startAutoUpdateTreePkl:t.payload});case"CLEAN_TREE_DATA":return Object(et.a)(Object(et.a)({},e),{},{treedata:null,enabledTreeSearch:!0,loadingTree:!1,loadingTreePkl:!1,fancyTree:null,returnFiler:0,elapsedLoadingTree:1});case"CLEAN_TREE_PKL_DATA":return Object(et.a)(Object(et.a)({},e),{},{startAutoUpdateTreePkl:!1,pkltreechanges:null});case"CLEAR_FILTER_TREE":return e.treedata&&e.fancyTree&&e.fancyTree.clearFilter(),Object(et.a)(Object(et.a)({},e),{},{returnFilter:0});case"UPDATE_SELECTION_TREE":return Object(et.a)(Object(et.a)({},e),{},{selectedTreeNode:t.payload});case"SET_START_TREE_SELECTION":return e.fancyTree&&(e.fancyTree.activeNode=e.fancyTree.rootNode),Object(et.a)({},e);case"SET_NOTIFICATION_TITLE_TREE":return Object(et.a)(Object(et.a)({},e),{},{notificationTitleTree:t.payload});default:return null}},bt=function(e){var t=Object(n.useReducer)(Et,{treedata:null,loadingTree:!1,enabledTreeSearch:!0,loadingTreePkl:!1,loadingTreeRefresh:!1,loadingFilterTree:!1,fancyTree:null,elapsedLoadingTree:1,startAutoUpdateTreePkl:!1,pkltreechanges:null,selectedTreeNode:null,notificationTitleTree:null}),a=Object(p.a)(t,2),l=a[0],c=a[1],s=S,o=function(){var e=Object(Ze.a)(qe.a.mark((function e(t){var a;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(),e.next=3,Xe.a.get("".concat(s,"/tree/").concat(t)).catch((function(e){alert(e.message),u()}));case 3:(a=e.sent)&&c({type:"GET_TREE",payload:a.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(Ze.a)(qe.a.mark((function e(t,a){var n,r;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(),E(),e.next=4,Xe.a.get("".concat(s,"/pkltreeinfo/").concat(t,"/").concat(a));case 4:n=e.sent,r=n.data,c({type:"PKL_TREE_LOADED",payload:r});case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){return c({type:"SET_LOADING_TREE"})},u=function(){return c({type:"SET_OFF_LOADING_TREE"})},d=function(){return c({type:"SET_LOADING_FILTER"})},E=function(){return c({type:"SET_LOADING_TREE_REFRESH"})},b=function(){return c({type:"SET_LOADING_TREE_PKL"})};return r.a.createElement(X.Provider,{value:{treedata:l.treedata,loadingTree:l.loadingTree,loadingTreePkl:l.loadingTreePkl,loadingFilterTree:l.loadingFilterTree,enabledTreeSearch:l.enabledTreeSearch,returnFilter:l.returnFilter,fancyTree:l.fancyTree,notificationTitleTree:l.notificationTitleTree,startAutoUpdateTreePkl:l.startAutoUpdateTreePkl,pkltreechanges:l.pkltreechanges,selectedTreeNode:l.selectedTreeNode,expectedLoadingTreeTime:l.expectedLoadingTreeTime,elapsedLoadingTree:l.elapsedLoadingTree,getExperimentTree:o,getExperimentTreePkl:i,filterTreeView:function(e){d(),c({type:"FILTER_TREEVIEW",payload:e})},setFancyTree:function(e){return c({type:"SET_FANCYTREE",payload:e})},cleanTreeData:function(){return c({type:"CLEAN_TREE_DATA"})},cleanPklTreeData:function(){return c({type:"CLEAN_TREE_PKL_DATA"})},updateSelectionTree:function(e){c({type:"UPDATE_SELECTION_TREE",payload:e})},setAutoUpdateTreePkl:function(e){return c({type:"SET_AUTOUPDATE_TREE_PKL",payload:e})},clearFilterTreeView:function(){return c({type:"CLEAR_FILTER_TREE"})},setStartSelection:function(){return c({type:"SET_START_TREE_SELECTION"})},setNotificationTitleTree:function(e){return c({type:"SET_NOTIFICATION_TITLE_TREE",payload:e})},increaseElapsedLoadingTree:function(){c({type:"INCREASE_LOADING_TREE"})}}},e.children)},gt=function(e,t){switch(t.type){case"SET_ALERT":return t.payload;case"REMOVE_ALERT":return null;default:return e}},ht=function(e){var t=Object(n.useReducer)(gt,null),a=Object(p.a)(t,2),l=a[0],c=a[1];return r.a.createElement(A.Provider,{value:{alert:l,setAlert:function(e,t){c({type:"SET_ALERT",payload:{msg:e,type:t}}),setTimeout((function(){return c({type:"REMOVE_ALERT"})}),5e3)}}},e.children)},ft=function(e,t){switch(t.type){case"SET_LOADING":return Object(et.a)(Object(et.a)({},e),{},{loading:!0});case"GET_EXPERIMENT_STATS":var a=t.payload,n=a.result,r=a.requestResult,l=a.ticks;return Object(et.a)(Object(et.a)({},e),{},{statdata:n,totaldata:r,ticksdata:l,loading:!1});case"CLEAR_STATS":return Object(et.a)(Object(et.a)({},e),{},{statdata:null,totaldata:null,ticksdata:null,loading:!1,isError:!1,errorMessage:""});case"SET_ERROR_STATS":var c=t.payload,s=c.error,o=c.msg;return Object(et.a)(Object(et.a)({},e),{},{isError:s,errorMessage:o});default:return e}},Nt=function(e){var t=Object(n.useReducer)(ft,{loading:!1,statdata:null,ticksdata:null,isError:!1,totaldata:null,errorMessage:""}),a=Object(p.a)(t,2),l=a[0],c=a[1],s=function(){var e=Object(Ze.a)(qe.a.mark((function e(t,a,n){var r,l,s,m,u;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0===a.length&&(a=0),0===n.length&&(n="Any"),o(),e.next=6,Xe.a.get("".concat("https://earth.bsc.es/autosubmitapi/","/stats/").concat(t,"/").concat(a,"/").concat(n));case 6:if(r=e.sent,l=[],s=null,m=[],r.data){for(!0===r.data.error?i(!0,r.data.error_message):i(!1,""),l.push(["Jobs","Queued","Run","Failed Jobs","Failed Queued","Fail Run"]),u=0;u<r.data.jobs.length;u++)l.push([{v:u+1,f:r.data.jobs[u]},r.data.stats.queued[u],r.data.stats.run[u],r.data.stats.failed_jobs[u],r.data.stats.fail_queued[u],r.data.stats.fail_run[u]]),m.push({v:u+1,f:r.data.jobs[u]});s=r.data}c({type:"GET_EXPERIMENT_STATS",payload:{result:l,requestResult:s,ticks:m}});case 13:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),o=function(){return c({type:"SET_LOADING"})},i=function(e,t){c({type:"SET_ERROR_STATS",payload:{error:e,msg:t}})};return r.a.createElement(ie.Provider,{value:{loading:l.loading,statdata:l.statdata,isError:l.isError,errorMessage:l.errorMessage,totaldata:l.totaldata,ticksdata:l.ticksdata,getExperimentStats:s,clearStats:function(){return c({type:"CLEAR_STATS"})}}},e.children)},vt=function(e,t){switch(t.type){case"GET_LIGHTER_VIEW":return Object(et.a)(Object(et.a)({},e),{},{lightData:t.payload,elapsedLoadingQuickView:1,loadingView:!1});case"CLEAN_LIGHTER_VIEW_DATA":return Object(et.a)(Object(et.a)({},e),{},{lightData:null,lightFancyTree:null,loadingView:!1,loadingFilterTreeView:!1});case"SET_LOADING_LIGHTER_VIEW":return Object(et.a)(Object(et.a)({},e),{},{loadingView:!0});case"SET_LIGHTER_FANCY_TREE":return Object(et.a)(Object(et.a)({},e),{},{lightFancyTree:t.payload});case"SET_LOADING_FILTER_LIGHTER_TREE_VIEW":return Object(et.a)(Object(et.a)({},e),{},{loadingFilterTreeView:!0});case"INCREASE_LOADING_QUICK_VIEW":return Object(et.a)(Object(et.a)({},e),{},{elapsedLoadingQuickView:e.elapsedLoadingQuickView+1});case"FILTER_LIGHTER_TREE_VIEW":var a=t.payload;if(e.lightData&&e.lightFancyTree){var n=0;if(a.indexOf("*")>-1){var r=a.split("*"),l=!1;n=e.lightFancyTree.filterNodes((function(e){for(var t=e.title,a=0;a<r.length;a++)if(r[a].length>0){if(!(t.indexOf(r[a])>-1)){l=!1;break}var n=t.indexOf(r[a])+r[a].length;t=t.substring(n),l=!0}return l}))}else n=e.lightFancyTree.filterNodes(a);e.filterCount=n}else e.filterCount=0;return Object(et.a)(Object(et.a)({},e),{},{loadingFilterTreeView:!1});case"CLEAR_LIGHTER_FILTER":return e.lightData&&e.lightFancyTree&&e.lightFancyTree.clearFilter(),Object(et.a)(Object(et.a)({},e),{},{filterCount:0});default:return null}},At=function(e){var t=Object(n.useReducer)(vt,{lightData:null,lightFancyTree:null,loadingView:!1,loadingFilterTreeView:!1,filterCount:0,elapsedLoadingQuickView:1}),a=Object(p.a)(t,2),l=a[0],c=a[1],s=function(){var e=Object(Ze.a)(qe.a.mark((function e(t){var a,n;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(),o(),e.next=4,Xe.a.get("".concat("https://earth.bsc.es/autosubmitapi/","/quick/").concat(t));case 4:a=e.sent,n=a.data,c({type:"GET_LIGHTER_VIEW",payload:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){return c({type:"SET_LOADING_LIGHTER_VIEW"})},i=function(){return c({type:"CLEAN_LIGHTER_VIEW_DATA"})},m=function(){return c({type:"SET_LOADING_FILTER_LIGHTER_TREE_VIEW"})};return r.a.createElement($.Provider,{value:{lightFancyTree:l.lightFancyTree,lightData:l.lightData,loadingView:l.loadingView,loadingFilterTreeView:l.loadingFilterTreeView,filterCount:l.filterCount,elapsedLoadingQuickView:l.elapsedLoadingQuickView,getLighterView:s,cleanLoadingLighterView:i,setLighterFancyTree:function(e){return c({type:"SET_LIGHTER_FANCY_TREE",payload:e})},filterLighterTreeView:function(e){m(),c({type:"FILTER_LIGHTER_TREE_VIEW",payload:e})},setLoadingFilterLighterTreeView:m,clearLighterFilterTreeView:function(){return c({type:"CLEAR_LIGHTER_FILTER"})},increaseElapsedLoadingQuickView:function(){c({type:"INCREASE_LOADING_QUICK_VIEW"})}}},e.children)},yt=(a(82),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(at,null,r.a.createElement(pt,null,r.a.createElement(bt,null,r.a.createElement(At,null,r.a.createElement(ht,null,r.a.createElement(Nt,null,r.a.createElement(u.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(v,null),r.a.createElement("div",{className:"container",style:{height:"100%"}},r.a.createElement(y,null),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/autosubmitapp/",component:Ve}),r.a.createElement(d.a,{exact:!0,path:"/autosubmitapp/about",component:T}),r.a.createElement(d.a,{exact:!0,path:"/autosubmitapp/experiment/:expid",component:Qe}),r.a.createElement(d.a,{exact:!0,path:"/autosubmitapp/experiment/:expid/:action",component:Qe}),r.a.createElement(d.a,{component:x})),r.a.createElement(We,null))))))))))}}]),a}(n.Component));c.a.render(r.a.createElement(yt,null),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.62267a49.chunk.js.map